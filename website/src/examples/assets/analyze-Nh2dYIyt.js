function Fe(){return Fe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Fe.apply(null,arguments)}var li={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function _r(r){return typeof r=="number"}function Or(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function qt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Pt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function vi(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Kr(r){return typeof r=="string"}var Er=Array.isArray;function Sr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function je(r){return Array.isArray(r)||Sr(r)}function hi(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function pi(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function di(r){return r&&r.constructor.prototype.isRange===!0||!1}function vt(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Wa(r){return typeof r=="boolean"}function Ha(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function ka(r){return r&&r.constructor.prototype.isHelp===!0||!1}function ja(r){return typeof r=="function"}function ru(r){return r instanceof Date}function eu(r){return r instanceof RegExp}function Rt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!qt(r)&&!Pt(r))}function tu(r){return r===null}function nu(r){return r===void 0}function iu(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function au(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function uu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function ou(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function su(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function fu(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function cu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function lu(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function vu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function hu(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function pu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function du(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function mu(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Du(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function gu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function yu(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function wu(r){return r&&r.constructor.prototype.isChain===!0||!1}function ae(r){var e=typeof r;return e==="object"?r===null?"null":Or(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Ar(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return Ar(n)});if(r instanceof Date)return new Date(r.valueOf());if(Or(r))return r;if(Rt(r))return Au(r,Ar);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Au(r,e){var n={};for(var i in r)Ie(r,i)&&(n[i]=e(r[i]));return n}function Eu(r,e){for(var n in e)Ie(e,n)&&(r[n]=e[n]);return r}function Ce(r,e){var n,i,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,t=r.length;i<t;i++)if(!Ce(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!Ce(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function Ie(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Fu(r,e){for(var n={},i=0;i<e.length;i++){var t=e[i],u=r[t];u!==void 0&&(n[t]=u)}return n}var Cu=["Matrix","Array"],bu=["number","BigNumber","Fraction"],Gr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(li)};Fe(Gr,li,{MATRIX_OPTIONS:Cu,NUMBER_OPTIONS:bu});function rn(){return!0}function Xr(){return!1}function we(){}const en="Argument is not a typed-function.";function mi(){function r(N){return typeof N=="object"&&N!==null&&N.constructor===Object}const e=[{name:"number",test:function(N){return typeof N=="number"}},{name:"string",test:function(N){return typeof N=="string"}},{name:"boolean",test:function(N){return typeof N=="boolean"}},{name:"Function",test:function(N){return typeof N=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(N){return N instanceof Date}},{name:"RegExp",test:function(N){return N instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(N){return N===null}},{name:"undefined",test:function(N){return N===void 0}}],n={name:"any",test:rn,isAny:!0};let i,t,u=0,f={createCount:0};function h(N){const x=i.get(N);if(x)return x;let $='Unknown type "'+N+'"';const P=N.toLowerCase();let Q;for(Q of t)if(Q.toLowerCase()===P){$+='. Did you mean "'+Q+'" ?';break}throw new TypeError($)}function c(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const $=x?h(x).index:t.length,P=[];for(let J=0;J<N.length;++J){if(!N[J]||typeof N[J].name!="string"||typeof N[J].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ar=N[J].name;if(i.has(ar))throw new TypeError('Duplicate type name "'+ar+'"');P.push(ar),i.set(ar,{name:ar,test:N[J].test,isAny:N[J].isAny,index:$+J,conversionsTo:[]})}const Q=t.slice($);t=t.slice(0,$).concat(P).concat(Q);for(let J=$+P.length;J<t.length;++J)i.get(t[J]).index=J}function l(){i=new Map,t=[],u=0,c([n],!1)}l(),c(e);function o(){let N;for(N of t)i.get(N).conversionsTo=[];u=0}function a(N){const x=t.filter($=>{const P=i.get($);return!P.isAny&&P.test(N)});return x.length?x:["any"]}function s(N){return N&&typeof N=="function"&&"_typedFunctionData"in N}function p(N,x,$){if(!s(N))throw new TypeError(en);const P=$&&$.exact,Q=Array.isArray(x)?x.join(","):x,J=F(Q),ar=m(J);if(!P||ar in N.signatures){const br=N._typedFunctionData.signatureMap.get(ar);if(br)return br}const tr=J.length;let ir;if(P){ir=[];let br;for(br in N.signatures)ir.push(N._typedFunctionData.signatureMap.get(br))}else ir=N._typedFunctionData.signatures;for(let br=0;br<tr;++br){const xr=J[br],Ir=[];let Vr;for(Vr of ir){const Zr=b(Vr.params,br);if(!(!Zr||xr.restParam&&!Zr.restParam)){if(!Zr.hasAny){const Wr=g(Zr);if(xr.types.some(Hr=>!Wr.has(Hr.name)))continue}Ir.push(Vr)}}if(ir=Ir,ir.length===0)break}let er;for(er of ir)if(er.params.length<=tr)return er;throw new TypeError("Signature not found (signature: "+(N.name||"unnamed")+"("+m(J,", ")+"))")}function y(N,x,$){return p(N,x,$).implementation}function v(N,x){const $=h(x);if($.test(N))return N;const P=$.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+x+" defined.");for(let Q=0;Q<P.length;Q++)if(h(P[Q].from).test(N))return P[Q].convert(N);throw new Error("Cannot convert "+N+" to "+x)}function m(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return N.map($=>$.name).join(x)}function d(N){const x=N.indexOf("...")===0,P=(x?N.length>3?N.slice(3):"any":N).split("|").map(tr=>h(tr.trim()));let Q=!1,J=x?"...":"";return{types:P.map(function(tr){return Q=tr.isAny||Q,J+=tr.name+"|",{name:tr.name,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:null,conversionIndex:-1}}),name:J.slice(0,-1),hasAny:Q,hasConversion:!1,restParam:x}}function w(N){const x=N.types.map(ar=>ar.name),$=Y(x);let P=N.hasAny,Q=N.name;const J=$.map(function(ar){const tr=h(ar.from);return P=tr.isAny||P,Q+="|"+ar.from,{name:ar.from,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:ar,conversionIndex:ar.index}});return{types:N.types.concat(J),name:Q,hasAny:P,hasConversion:J.length>0,restParam:N.restParam}}function g(N){return N.typeSet||(N.typeSet=new Set,N.types.forEach(x=>N.typeSet.add(x.name))),N.typeSet}function F(N){const x=[];if(typeof N!="string")throw new TypeError("Signatures must be strings");const $=N.trim();if($==="")return x;const P=$.split(",");for(let Q=0;Q<P.length;++Q){const J=d(P[Q].trim());if(J.restParam&&Q!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[Q]+'": only allowed for the last parameter');if(J.types.length===0)return null;x.push(J)}return x}function E(N){const x=K(N);return x?x.restParam:!1}function D(N){if(!N||N.types.length===0)return rn;if(N.types.length===1)return h(N.types[0].name).test;if(N.types.length===2){const x=h(N.types[0].name).test,$=h(N.types[1].name).test;return function(Q){return x(Q)||$(Q)}}else{const x=N.types.map(function($){return h($.name).test});return function(P){for(let Q=0;Q<x.length;Q++)if(x[Q](P))return!0;return!1}}}function C(N){let x,$,P;if(E(N)){x=X(N).map(D);const Q=x.length,J=D(K(N)),ar=function(tr){for(let ir=Q;ir<tr.length;ir++)if(!J(tr[ir]))return!1;return!0};return function(ir){for(let er=0;er<x.length;er++)if(!x[er](ir[er]))return!1;return ar(ir)&&ir.length>=Q+1}}else return N.length===0?function(J){return J.length===0}:N.length===1?($=D(N[0]),function(J){return $(J[0])&&J.length===1}):N.length===2?($=D(N[0]),P=D(N[1]),function(J){return $(J[0])&&P(J[1])&&J.length===2}):(x=N.map(D),function(J){for(let ar=0;ar<x.length;ar++)if(!x[ar](J[ar]))return!1;return J.length===x.length})}function b(N,x){return x<N.length?N[x]:E(N)?K(N):null}function A(N,x){const $=b(N,x);return $?g($):new Set}function S(N){return N.conversion===null||N.conversion===void 0}function M(N,x){const $=new Set;return N.forEach(P=>{const Q=A(P.params,x);let J;for(J of Q)$.add(J)}),$.has("any")?["any"]:Array.from($)}function _(N,x,$){let P,Q;const J=N||"unnamed";let ar=$,tr;for(tr=0;tr<x.length;tr++){const xr=[];if(ar.forEach(Ir=>{const Vr=b(Ir.params,tr),Zr=D(Vr);(tr<Ir.params.length||E(Ir.params))&&Zr(x[tr])&&xr.push(Ir)}),xr.length===0){if(Q=M(ar,tr),Q.length>0){const Ir=a(x[tr]);return P=new TypeError("Unexpected type of argument in function "+J+" (expected: "+Q.join(" or ")+", actual: "+Ir.join(" | ")+", index: "+tr+")"),P.data={category:"wrongType",fn:J,index:tr,actual:Ir,expected:Q},P}}else ar=xr}const ir=ar.map(function(xr){return E(xr.params)?1/0:xr.params.length});if(x.length<Math.min.apply(null,ir))return Q=M(ar,tr),P=new TypeError("Too few arguments in function "+J+" (expected: "+Q.join(" or ")+", index: "+x.length+")"),P.data={category:"tooFewArgs",fn:J,index:x.length,expected:Q},P;const er=Math.max.apply(null,ir);if(x.length>er)return P=new TypeError("Too many arguments in function "+J+" (expected: "+er+", actual: "+x.length+")"),P.data={category:"tooManyArgs",fn:J,index:x.length,expectedLength:er},P;const br=[];for(let xr=0;xr<x.length;++xr)br.push(a(x[xr]).join("|"));return P=new TypeError('Arguments of type "'+br.join(", ")+'" do not match any of the defined signatures of function '+J+"."),P.data={category:"mismatch",actual:br},P}function O(N){let x=t.length+1;for(let $=0;$<N.types.length;$++)S(N.types[$])&&(x=Math.min(x,N.types[$].typeIndex));return x}function z(N){let x=u+1;for(let $=0;$<N.types.length;$++)S(N.types[$])||(x=Math.min(x,N.types[$].conversionIndex));return x}function I(N,x){if(N.hasAny){if(!x.hasAny)return 1}else if(x.hasAny)return-1;if(N.restParam){if(!x.restParam)return 1}else if(x.restParam)return-1;if(N.hasConversion){if(!x.hasConversion)return 1}else if(x.hasConversion)return-1;const $=O(N)-O(x);if($<0)return-1;if($>0)return 1;const P=z(N)-z(x);return P<0?-1:P>0?1:0}function B(N,x){const $=N.params,P=x.params,Q=K($),J=K(P),ar=E($),tr=E(P);if(ar&&Q.hasAny){if(!tr||!J.hasAny)return 1}else if(tr&&J.hasAny)return-1;let ir=0,er=0,br;for(br of $)br.hasAny&&++ir,br.hasConversion&&++er;let xr=0,Ir=0;for(br of P)br.hasAny&&++xr,br.hasConversion&&++Ir;if(ir!==xr)return ir-xr;if(ar&&Q.hasConversion){if(!tr||!J.hasConversion)return 1}else if(tr&&J.hasConversion)return-1;if(er!==Ir)return er-Ir;if(ar){if(!tr)return 1}else if(tr)return-1;const Vr=($.length-P.length)*(ar?-1:1);if(Vr!==0)return Vr;const Zr=[];let Wr=0;for(let ye=0;ye<$.length;++ye){const Qe=I($[ye],P[ye]);Zr.push(Qe),Wr+=Qe}if(Wr!==0)return Wr;let Hr;for(Hr of Zr)if(Hr!==0)return Hr;return 0}function Y(N){if(N.length===0)return[];const x=N.map(h);N.length>1&&x.sort((Q,J)=>Q.index-J.index);let $=x[0].conversionsTo;if(N.length===1)return $;$=$.concat([]);const P=new Set(N);for(let Q=1;Q<x.length;++Q){let J;for(J of x[Q].conversionsTo)P.has(J.from)||($.push(J),P.add(J.from))}return $}function q(N,x){let $=x;if(N.some(Q=>Q.hasConversion)){const Q=E(N),J=N.map(T);$=function(){const tr=[],ir=Q?arguments.length-1:arguments.length;for(let er=0;er<ir;er++)tr[er]=J[er](arguments[er]);return Q&&(tr[ir]=arguments[ir].map(J[ir])),x.apply(this,tr)}}let P=$;if(E(N)){const Q=N.length-1;P=function(){return $.apply(this,G(arguments,0,Q).concat([G(arguments,Q)]))}}return P}function T(N){let x,$,P,Q;const J=[],ar=[];switch(N.types.forEach(function(tr){tr.conversion&&(J.push(h(tr.conversion.from).test),ar.push(tr.conversion.convert))}),ar.length){case 0:return function(ir){return ir};case 1:return x=J[0],P=ar[0],function(ir){return x(ir)?P(ir):ir};case 2:return x=J[0],$=J[1],P=ar[0],Q=ar[1],function(ir){return x(ir)?P(ir):$(ir)?Q(ir):ir};default:return function(ir){for(let er=0;er<ar.length;er++)if(J[er](ir))return ar[er](ir);return ir}}}function Z(N){function x($,P,Q){if(P<$.length){const J=$[P];let ar=[];if(J.restParam){const tr=J.types.filter(S);tr.length<J.types.length&&ar.push({types:tr,name:"..."+tr.map(ir=>ir.name).join("|"),hasAny:tr.some(ir=>ir.isAny),hasConversion:!1,restParam:!0}),ar.push(J)}else ar=J.types.map(function(tr){return{types:[tr],name:tr.name,hasAny:tr.isAny,hasConversion:tr.conversion,restParam:!1}});return j(ar,function(tr){return x($,P+1,Q.concat([tr]))})}else return[Q]}return x(N,0,[])}function W(N,x){const $=Math.max(N.length,x.length);for(let tr=0;tr<$;tr++){const ir=A(N,tr),er=A(x,tr);let br=!1,xr;for(xr of er)if(ir.has(xr)){br=!0;break}if(!br)return!1}const P=N.length,Q=x.length,J=E(N),ar=E(x);return J?ar?P===Q:Q>=P:ar?P>=Q:P===Q}function U(N){return N.map(x=>mr(x)?hr(x.referToSelf.callback):dr(x)?fr(x.referTo.references,x.referTo.callback):x)}function R(N,x,$){const P=[];let Q;for(Q of N){let J=$[Q];if(typeof J!="number")throw new TypeError('No definition for referenced signature "'+Q+'"');if(J=x[J],typeof J!="function")return!1;P.push(J)}return P}function V(N,x,$){const P=U(N),Q=new Array(P.length).fill(!1);let J=!0;for(;J;){J=!1;let ar=!0;for(let tr=0;tr<P.length;++tr){if(Q[tr])continue;const ir=P[tr];if(mr(ir))P[tr]=ir.referToSelf.callback($),P[tr].referToSelf=ir.referToSelf,Q[tr]=!0,ar=!1;else if(dr(ir)){const er=R(ir.referTo.references,P,x);er?(P[tr]=ir.referTo.callback.apply(this,er),P[tr].referTo=ir.referTo,Q[tr]=!0,ar=!1):J=!0}}if(ar&&J)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function nr(N){const x=/\bthis(\(|\.signatures\b)/;Object.keys(N).forEach($=>{const P=N[$];if(x.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function k(N,x){if(f.createCount++,Object.keys(x).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&nr(x);const $=[],P=[],Q={},J=[];let ar;for(ar in x){if(!Object.prototype.hasOwnProperty.call(x,ar))continue;const Cr=F(ar);if(!Cr)continue;$.forEach(function(ze){if(W(ze,Cr))throw new TypeError('Conflicting signatures "'+m(ze)+'" and "'+m(Cr)+'".')}),$.push(Cr);const Yr=P.length;P.push(x[ar]);const Xa=Cr.map(w);let Xe;for(Xe of Z(Xa)){const ze=m(Xe);J.push({params:Xe,name:ze,fn:Yr}),Xe.every(Ka=>!Ka.hasConversion)&&(Q[ze]=Yr)}}J.sort(B);const tr=V(P,Q,Te);let ir;for(ir in Q)Object.prototype.hasOwnProperty.call(Q,ir)&&(Q[ir]=tr[Q[ir]]);const er=[],br=new Map;for(ir of J)br.has(ir.name)||(ir.fn=tr[ir.fn],er.push(ir),br.set(ir.name,ir));const xr=er[0]&&er[0].params.length<=2&&!E(er[0].params),Ir=er[1]&&er[1].params.length<=2&&!E(er[1].params),Vr=er[2]&&er[2].params.length<=2&&!E(er[2].params),Zr=er[3]&&er[3].params.length<=2&&!E(er[3].params),Wr=er[4]&&er[4].params.length<=2&&!E(er[4].params),Hr=er[5]&&er[5].params.length<=2&&!E(er[5].params),ye=xr&&Ir&&Vr&&Zr&&Wr&&Hr;for(let Cr=0;Cr<er.length;++Cr)er[Cr].test=C(er[Cr].params);const Qe=xr?D(er[0].params[0]):Xr,wa=Ir?D(er[1].params[0]):Xr,Aa=Vr?D(er[2].params[0]):Xr,Ea=Zr?D(er[3].params[0]):Xr,Fa=Wr?D(er[4].params[0]):Xr,Ca=Hr?D(er[5].params[0]):Xr,ba=xr?D(er[0].params[1]):Xr,Ma=Ir?D(er[1].params[1]):Xr,Sa=Vr?D(er[2].params[1]):Xr,_a=Zr?D(er[3].params[1]):Xr,Na=Wr?D(er[4].params[1]):Xr,Ba=Hr?D(er[5].params[1]):Xr;for(let Cr=0;Cr<er.length;++Cr)er[Cr].implementation=q(er[Cr].params,er[Cr].fn);const xa=xr?er[0].implementation:we,Ta=Ir?er[1].implementation:we,za=Vr?er[2].implementation:we,Oa=Zr?er[3].implementation:we,Ia=Wr?er[4].implementation:we,$a=Hr?er[5].implementation:we,qa=xr?er[0].params.length:-1,Pa=Ir?er[1].params.length:-1,Ra=Vr?er[2].params.length:-1,Ua=Zr?er[3].params.length:-1,La=Wr?er[4].params.length:-1,Za=Hr?er[5].params.length:-1,Va=ye?6:0,Ya=er.length,Ja=er.map(Cr=>Cr.test),Ga=er.map(Cr=>Cr.implementation),Qa=function(){for(let Yr=Va;Yr<Ya;Yr++)if(Ja[Yr](arguments))return Ga[Yr].apply(this,arguments);return f.onMismatch(N,arguments,er)};function Te(Cr,Yr){return arguments.length===qa&&Qe(Cr)&&ba(Yr)?xa.apply(this,arguments):arguments.length===Pa&&wa(Cr)&&Ma(Yr)?Ta.apply(this,arguments):arguments.length===Ra&&Aa(Cr)&&Sa(Yr)?za.apply(this,arguments):arguments.length===Ua&&Ea(Cr)&&_a(Yr)?Oa.apply(this,arguments):arguments.length===La&&Fa(Cr)&&Na(Yr)?Ia.apply(this,arguments):arguments.length===Za&&Ca(Cr)&&Ba(Yr)?$a.apply(this,arguments):Qa.apply(this,arguments)}try{Object.defineProperty(Te,"name",{value:N})}catch{}return Te.signatures=Q,Te._typedFunctionData={signatures:er,signatureMap:br},Te}function L(N,x,$){throw _(N,x,$)}function X(N){return G(N,0,N.length-1)}function K(N){return N[N.length-1]}function G(N,x,$){return Array.prototype.slice.call(N,x,$)}function ur(N,x){for(let $=0;$<N.length;$++)if(x(N[$]))return N[$]}function j(N,x){return Array.prototype.concat.apply([],N.map(x))}function or(){const N=X(arguments).map($=>m(F($))),x=K(arguments);if(typeof x!="function")throw new TypeError("Callback function expected as last argument");return fr(N,x)}function fr(N,x){return{referTo:{references:N,callback:x}}}function hr(N){if(typeof N!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:N}}}function dr(N){return N&&typeof N.referTo=="object"&&Array.isArray(N.referTo.references)&&typeof N.referTo.callback=="function"}function mr(N){return N&&typeof N.referToSelf=="object"&&typeof N.referToSelf.callback=="function"}function cr(N,x){if(!N)return x;if(x&&x!==N){const $=new Error("Function names do not match (expected: "+N+", actual: "+x+")");throw $.data={actual:x,expected:N},$}return N}function wr(N){let x;for(const $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(s(N[$])||typeof N[$].signature=="string")&&(x=cr(x,N[$].name));return x}function gr(N,x){let $;for($ in x)if(Object.prototype.hasOwnProperty.call(x,$)){if($ in N&&x[$]!==N[$]){const P=new Error('Signature "'+$+'" is defined twice');throw P.data={signature:$,sourceFunction:x[$],destFunction:N[$]},P}N[$]=x[$]}}const Fr=f;f=function(N){const x=typeof N=="string",$=x?1:0;let P=x?N:"";const Q={};for(let J=$;J<arguments.length;++J){const ar=arguments[J];let tr={},ir;if(typeof ar=="function"?(ir=ar.name,typeof ar.signature=="string"?tr[ar.signature]=ar:s(ar)&&(tr=ar.signatures)):r(ar)&&(tr=ar,x||(ir=wr(ar))),Object.keys(tr).length===0){const er=new TypeError("Argument to 'typed' at index "+J+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw er.data={index:J,argument:ar},er}x||(P=cr(P,ir)),gr(Q,tr)}return k(P||"",Q)},f.create=mi,f.createCount=Fr.createCount,f.onMismatch=L,f.throwMismatchError=L,f.createError=_,f.clear=l,f.clearConversions=o,f.addTypes=c,f._findType=h,f.referTo=or,f.referToSelf=hr,f.convert=v,f.findSignature=p,f.find=y,f.isTypedFunction=s,f.warnAgainstDeprecatedThis=!0,f.addType=function(N,x){let $="any";x!==!1&&i.has("Object")&&($="Object"),f.addTypes([N],$)};function $r(N){if(!N||typeof N.from!="string"||typeof N.to!="string"||typeof N.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(N.to===N.from)throw new SyntaxError('Illegal to define conversion from "'+N.from+'" to itself.')}return f.addConversion=function(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};$r(N);const $=h(N.to),P=$.conversionsTo.find(Q=>Q.from===N.from);if(P)if(x&&x.override)f.removeConversion({from:P.from,to:N.to,convert:P.convert});else throw new Error('There is already a conversion from "'+N.from+'" to "'+$.name+'"');$.conversionsTo.push({from:N.from,convert:N.convert,index:u++})},f.addConversions=function(N,x){N.forEach($=>f.addConversion($,x))},f.removeConversion=function(N){$r(N);const x=h(N.to),$=ur(x.conversionsTo,Q=>Q.from===N.from);if(!$)throw new Error("Attempt to remove nonexistent conversion from "+N.from+" to "+N.to);if($.convert!==N.convert)throw new Error("Conversion to remove does not match existing conversion");const P=x.conversionsTo.indexOf($);x.conversionsTo.splice(P,1)},f.resolve=function(N,x){if(!s(N))throw new TypeError(en);const $=N._typedFunctionData.signatures;for(let P=0;P<$.length;++P)if($[P].test(x))return $[P];return null},f}const tn=mi();function Nr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var Mu=Math.sign||function(r){return r>0?1:r<0?-1:0};function Ft(r,e,n){var i={2:"0b",8:"0o",16:"0x"},t=i[e],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Nr(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Nr(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),u="i".concat(n)}var f="";return r<0&&(r=-r,f="-"),"".concat(f).concat(t).concat(r.toString(e)).concat(u)}function St(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:n,precision:i,wordSize:t}=Di(e);switch(n){case"fixed":return _u(r,i);case"exponential":return gi(r,i);case"engineering":return Su(r,i);case"bin":return Ft(r,2,t);case"oct":return Ft(r,8,t);case"hex":return Ft(r,16,t);case"auto":return Nu(r,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],f=arguments[4];return u!=="."?u+f:f});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Di(r){var e="auto",n,i;if(r!==void 0)if(_r(r))n=r;else if(Or(r))n=r.toNumber();else if(Rt(r))r.precision!==void 0&&(n=nn(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(i=nn(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:i}}function ht(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],i=e[2],t=parseFloat(e[4]||"0"),u=i.indexOf(".");t+=u!==-1?u-1:i.length-1;var f=i.replace(".","").replace(/^0*/,function(h){return t-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return f.length===0&&(f.push(0),t++),{sign:n,coefficients:f,exponent:t}}function Su(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=ht(r),i=pt(n,e),t=i.exponent,u=i.coefficients,f=t%3===0?t:t<0?t-3-t%3:t-t%3;if(_r(e))for(;e>u.length||t-f+1>u.length;)u.push(0);else for(var h=Math.abs(t-f)-(u.length-1),c=0;c<h;c++)u.push(0);for(var l=Math.abs(t-f),o=1;l>0;)o++,l--;var a=u.slice(o).join(""),s=_r(e)&&a.length||a.match(/[1-9]/)?"."+a:"",p=u.slice(0,o).join("")+s+"e"+(t>=0?"+":"")+f.toString();return i.sign+p}function _u(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=ht(r),i=typeof e=="number"?pt(n,n.exponent+1+e):n,t=i.coefficients,u=i.exponent+1,f=u+(e||0);return t.length<f&&(t=t.concat(Ee(f-t.length))),u<0&&(t=Ee(-u+1).concat(t),u=1),u<t.length&&t.splice(u,0,u===0?"0.":"."),i.sign+t.join("")}function gi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=ht(r),i=e?pt(n,e):n,t=i.coefficients,u=i.exponent;t.length<e&&(t=t.concat(Ee(e-t.length)));var f=t.shift();return i.sign+f+(t.length>0?"."+t.join(""):"")+"e"+(u>=0?"+":"")+u}function Nu(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var i=an(n==null?void 0:n.lowerExp,-3),t=an(n==null?void 0:n.upperExp,5),u=ht(r),f=e?pt(u,e):u;if(f.exponent<i||f.exponent>=t)return gi(r,e);var h=f.coefficients,c=f.exponent;h.length<e&&(h=h.concat(Ee(e-h.length))),h=h.concat(Ee(c-h.length+1+(h.length<e?e-h.length:0))),h=Ee(-c).concat(h);var l=c>0?c:0;return l<h.length-1&&h.splice(l+1,0,"."),f.sign+h.join("")}function pt(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=n.coefficients;e<=0;)i.unshift(0),n.exponent++,e++;if(i.length>e){var t=i.splice(e,i.length-e);if(t[0]>=5){var u=e-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),n.exponent++,u++),u--,i[u]++}}return n}function Ee(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function Bu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var xu=Number.EPSILON||2220446049250313e-31;function le(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var i=Math.abs(r-e);return i<=xu?!0:i<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function nn(r,e){if(_r(r))return r;if(Or(r))return r.toNumber();e()}function an(r,e){return _r(r)?r:Or(r)?r.toNumber():e}function rr(r,e,n,i){function t(u){var f=Fu(u,e.map(Ou));return Tu(r,e,u),n(f)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),i&&(t.meta=i),t}function Tu(r,e,n){var i=e.filter(u=>!zu(u)).every(u=>n[u]!==void 0);if(!i){var t=e.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function zu(r){return r&&r[0]==="?"}function Ou(r){return r&&r[0]==="?"?r.slice(1):r}function yi(r,e){if(Ei(r)&&Ai(r,e))return r[e];throw typeof r[e]=="function"&&$u(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function wi(r,e,n){if(Ei(r)&&Ai(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function Iu(r,e){return e in r}function Ai(r,e){return!r||typeof r!="object"?!1:Ie(qu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function $u(r,e){return r==null||typeof r[e]!="function"||Ie(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Ie(Pu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ei(r){return typeof r=="object"&&r&&r.constructor===Object}var qu={length:!0,name:!0},Pu={toString:!0,valueOf:!0,toLocaleString:!0};class Ru{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return yi(this.wrappedObject,e)}set(e,n){return wi(this.wrappedObject,e,n),this}has(e){return Iu(this.wrappedObject,e)}entries(){return Uu(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Uu(r,e){return{next:()=>{var n=r.next();return n.done?n:{value:e(n.value),done:!1}}}}function Lu(r){return r?r instanceof Map||r instanceof Ru||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Fi=function(){return Fi=tn.create,tn},Zu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Vu=rr("typed",Zu,function(e){var{BigNumber:n,Complex:i,DenseMatrix:t,Fraction:u}=e,f=Fi();return f.clear(),f.addTypes([{name:"number",test:_r},{name:"Complex",test:qt},{name:"BigNumber",test:Or},{name:"Fraction",test:Pt},{name:"Unit",test:vi},{name:"identifier",test:h=>Kr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(h)},{name:"string",test:Kr},{name:"Chain",test:wu},{name:"Array",test:Er},{name:"Matrix",test:Sr},{name:"DenseMatrix",test:hi},{name:"SparseMatrix",test:pi},{name:"Range",test:di},{name:"Index",test:vt},{name:"boolean",test:Wa},{name:"ResultSet",test:Ha},{name:"Help",test:ka},{name:"function",test:ja},{name:"Date",test:ru},{name:"RegExp",test:eu},{name:"null",test:tu},{name:"undefined",test:nu},{name:"AccessorNode",test:iu},{name:"ArrayNode",test:au},{name:"AssignmentNode",test:uu},{name:"BlockNode",test:ou},{name:"ConditionalNode",test:su},{name:"ConstantNode",test:fu},{name:"FunctionNode",test:lu},{name:"FunctionAssignmentNode",test:cu},{name:"IndexNode",test:vu},{name:"Node",test:hu},{name:"ObjectNode",test:pu},{name:"OperatorNode",test:du},{name:"ParenthesisNode",test:mu},{name:"RangeNode",test:Du},{name:"RelationalNode",test:gu},{name:"SymbolNode",test:yu},{name:"Map",test:Lu},{name:"Object",test:Rt}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(n||Ct(c),Bu(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new n(c)}},{from:"number",to:"Complex",convert:function(c){return i||Ke(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||Ke(c),new i(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||Ke(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){u||bt(c);var l=new u(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){n||Ct(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){u||bt(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||Ke(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return n||Ct(c),new n(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return u||bt(c),new u(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return t||Yu(),new t(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),f.onMismatch=(h,c,l)=>{var o=f.createError(h,c,l);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&je(c[0])&&l.some(s=>!s.params.includes(","))){var a=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw a.data=o.data,a}throw o},f.onMismatch=(h,c,l)=>{var o=f.createError(h,c,l);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&je(c[0])&&l.some(s=>!s.params.includes(","))){var a=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw a.data=o.data,a}throw o},f});function Ct(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Ke(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Yu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function bt(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ae=9e15,he=1e9,_t="0123456789abcdef",rt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",et="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Nt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ae,maxE:Ae,crypto:!1},Ci,ie,pr=!0,dt="[DecimalError] ",ve=dt+"Invalid argument: ",bi=dt+"Precision limit exceeded",Mi=dt+"crypto unavailable",Si="[object Decimal]",Lr=Math.floor,qr=Math.pow,Ju=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Gu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Qu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_i=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jr=1e7,vr=7,Xu=9007199254740991,Ku=rt.length-1,Bt=et.length-1,H={toStringTag:Si};H.absoluteValue=H.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),lr(r)};H.ceil=function(){return lr(new this.constructor(this),this.e+1,2)};H.clampedTo=H.clamp=function(r,e){var n,i=this,t=i.constructor;if(r=new t(r),e=new t(e),!r.s||!e.s)return new t(NaN);if(r.gt(e))throw Error(ve+e);return n=i.cmp(r),n<0?r:i.cmp(e)>0?e:new t(i)};H.comparedTo=H.cmp=function(r){var e,n,i,t,u=this,f=u.d,h=(r=new u.constructor(r)).d,c=u.s,l=r.s;if(!f||!h)return!c||!l?NaN:c!==l?c:f===h?0:!f^c<0?1:-1;if(!f[0]||!h[0])return f[0]?c:h[0]?-l:0;if(c!==l)return c;if(u.e!==r.e)return u.e>r.e^c<0?1:-1;for(i=f.length,t=h.length,e=0,n=i<t?i:t;e<n;++e)if(f[e]!==h[e])return f[e]>h[e]^c<0?1:-1;return i===t?0:i>t^c<0?1:-1};H.cosine=H.cos=function(){var r,e,n=this,i=n.constructor;return n.d?n.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(n.e,n.sd())+vr,i.rounding=1,n=Wu(i,zi(i,n)),i.precision=r,i.rounding=e,lr(ie==2||ie==3?n.neg():n,r,e,!0)):new i(1):new i(NaN)};H.cubeRoot=H.cbrt=function(){var r,e,n,i,t,u,f,h,c,l,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);for(pr=!1,u=o.s*qr(o.s*o,1/3),!u||Math.abs(u)==1/0?(n=Rr(o.d),r=o.e,(u=(r-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=qr(n,1/3),r=Lr((r+1)/3)-(r%3==(r<0?-1:2)),u==1/0?n="5e"+r:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),i=new a(n),i.s=o.s):i=new a(u.toString()),f=(r=a.precision)+3;;)if(h=i,c=h.times(h).times(h),l=c.plus(o),i=Br(l.plus(o).times(h),l.plus(c),f+2,1),Rr(h.d).slice(0,f)===(n=Rr(i.d)).slice(0,f))if(n=n.slice(f-3,f+1),n=="9999"||!t&&n=="4999"){if(!t&&(lr(h,r+1,0),h.times(h).times(h).eq(o))){i=h;break}f+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(lr(i,r+1,1),e=!i.times(i).times(i).eq(o));break}return pr=!0,lr(i,r,a.rounding,e)};H.decimalPlaces=H.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-Lr(this.e/vr))*vr,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};H.dividedBy=H.div=function(r){return Br(this,new this.constructor(r))};H.dividedToIntegerBy=H.divToInt=function(r){var e=this,n=e.constructor;return lr(Br(e,new n(r),0,1,1),n.precision,n.rounding)};H.equals=H.eq=function(r){return this.cmp(r)===0};H.floor=function(){return lr(new this.constructor(this),this.e+1,3)};H.greaterThan=H.gt=function(r){return this.cmp(r)>0};H.greaterThanOrEqualTo=H.gte=function(r){var e=this.cmp(r);return e==1||e===0};H.hyperbolicCosine=H.cosh=function(){var r,e,n,i,t,u=this,f=u.constructor,h=new f(1);if(!u.isFinite())return new f(u.s?1/0:NaN);if(u.isZero())return h;n=f.precision,i=f.rounding,f.precision=n+Math.max(u.e,u.sd())+4,f.rounding=1,t=u.d.length,t<32?(r=Math.ceil(t/3),e=(1/Dt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),u=be(f,1,u.times(e),new f(1),!0);for(var c,l=r,o=new f(8);l--;)c=u.times(u),u=h.minus(c.times(o.minus(c.times(o))));return lr(u,f.precision=n,f.rounding=i,!0)};H.hyperbolicSine=H.sinh=function(){var r,e,n,i,t=this,u=t.constructor;if(!t.isFinite()||t.isZero())return new u(t);if(e=u.precision,n=u.rounding,u.precision=e+Math.max(t.e,t.sd())+4,u.rounding=1,i=t.d.length,i<3)t=be(u,2,t,t,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/Dt(5,r)),t=be(u,2,t,t,!0);for(var f,h=new u(5),c=new u(16),l=new u(20);r--;)f=t.times(t),t=t.times(h.plus(f.times(c.times(f).plus(l))))}return u.precision=e,u.rounding=n,lr(t,e,n,!0)};H.hyperbolicTangent=H.tanh=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,Br(n.sinh(),n.cosh(),i.precision=r,i.rounding=e)):new i(n.s)};H.inverseCosine=H.acos=function(){var r,e=this,n=e.constructor,i=e.abs().cmp(1),t=n.precision,u=n.rounding;return i!==-1?i===0?e.isNeg()?kr(n,t,u):new n(0):new n(NaN):e.isZero()?kr(n,t+4,u).times(.5):(n.precision=t+6,n.rounding=1,e=e.asin(),r=kr(n,t+4,u).times(.5),n.precision=t,n.rounding=u,r.minus(e))};H.inverseHyperbolicCosine=H.acosh=function(){var r,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,pr=!1,n=n.times(n).minus(1).sqrt().plus(n),pr=!0,i.precision=r,i.rounding=e,n.ln()):new i(n)};H.inverseHyperbolicSine=H.asinh=function(){var r,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,pr=!1,n=n.times(n).plus(1).sqrt().plus(n),pr=!0,i.precision=r,i.rounding=e,n.ln())};H.inverseHyperbolicTangent=H.atanh=function(){var r,e,n,i,t=this,u=t.constructor;return t.isFinite()?t.e>=0?new u(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(r=u.precision,e=u.rounding,i=t.sd(),Math.max(i,r)<2*-t.e-1?lr(new u(t),r,e,!0):(u.precision=n=i-t.e,t=Br(t.plus(1),new u(1).minus(t),n+r,1),u.precision=r+4,u.rounding=1,t=t.ln(),u.precision=r,u.rounding=e,t.times(.5))):new u(NaN)};H.inverseSine=H.asin=function(){var r,e,n,i,t=this,u=t.constructor;return t.isZero()?new u(t):(e=t.abs().cmp(1),n=u.precision,i=u.rounding,e!==-1?e===0?(r=kr(u,n+4,i).times(.5),r.s=t.s,r):new u(NaN):(u.precision=n+6,u.rounding=1,t=t.div(new u(1).minus(t.times(t)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=i,t.times(2)))};H.inverseTangent=H.atan=function(){var r,e,n,i,t,u,f,h,c,l=this,o=l.constructor,a=o.precision,s=o.rounding;if(l.isFinite()){if(l.isZero())return new o(l);if(l.abs().eq(1)&&a+4<=Bt)return f=kr(o,a+4,s).times(.25),f.s=l.s,f}else{if(!l.s)return new o(NaN);if(a+4<=Bt)return f=kr(o,a+4,s).times(.5),f.s=l.s,f}for(o.precision=h=a+10,o.rounding=1,n=Math.min(28,h/vr+2|0),r=n;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(pr=!1,e=Math.ceil(h/vr),i=1,c=l.times(l),f=new o(l),t=l;r!==-1;)if(t=t.times(c),u=f.minus(t.div(i+=2)),t=t.times(c),f=u.plus(t.div(i+=2)),f.d[e]!==void 0)for(r=e;f.d[r]===u.d[r]&&r--;);return n&&(f=f.times(2<<n-1)),pr=!0,lr(f,o.precision=a,o.rounding=s,!0)};H.isFinite=function(){return!!this.d};H.isInteger=H.isInt=function(){return!!this.d&&Lr(this.e/vr)>this.d.length-2};H.isNaN=function(){return!this.s};H.isNegative=H.isNeg=function(){return this.s<0};H.isPositive=H.isPos=function(){return this.s>0};H.isZero=function(){return!!this.d&&this.d[0]===0};H.lessThan=H.lt=function(r){return this.cmp(r)<0};H.lessThanOrEqualTo=H.lte=function(r){return this.cmp(r)<1};H.logarithm=H.log=function(r){var e,n,i,t,u,f,h,c,l=this,o=l.constructor,a=o.precision,s=o.rounding,p=5;if(r==null)r=new o(10),e=!0;else{if(r=new o(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new o(NaN);e=r.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new o(n&&!n[0]?-1/0:l.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)u=!0;else{for(t=n[0];t%10===0;)t/=10;u=t!==1}if(pr=!1,h=a+p,f=ce(l,h),i=e?tt(o,h+10):ce(r,h),c=Br(f,i,h,1),$e(c.d,t=a,s))do if(h+=10,f=ce(l,h),i=e?tt(o,h+10):ce(r,h),c=Br(f,i,h,1),!u){+Rr(c.d).slice(t+1,t+15)+1==1e14&&(c=lr(c,a+1,0));break}while($e(c.d,t+=10,s));return pr=!0,lr(c,a,s)};H.minus=H.sub=function(r){var e,n,i,t,u,f,h,c,l,o,a,s,p=this,y=p.constructor;if(r=new y(r),!p.d||!r.d)return!p.s||!r.s?r=new y(NaN):p.d?r.s=-r.s:r=new y(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(l=p.d,s=r.d,h=y.precision,c=y.rounding,!l[0]||!s[0]){if(s[0])r.s=-r.s;else if(l[0])r=new y(p);else return new y(c===3?-0:0);return pr?lr(r,h,c):r}if(n=Lr(r.e/vr),o=Lr(p.e/vr),l=l.slice(),u=o-n,u){for(a=u<0,a?(e=l,u=-u,f=s.length):(e=s,n=o,f=l.length),i=Math.max(Math.ceil(h/vr),f)+2,u>i&&(u=i,e.length=1),e.reverse(),i=u;i--;)e.push(0);e.reverse()}else{for(i=l.length,f=s.length,a=i<f,a&&(f=i),i=0;i<f;i++)if(l[i]!=s[i]){a=l[i]<s[i];break}u=0}for(a&&(e=l,l=s,s=e,r.s=-r.s),f=l.length,i=s.length-f;i>0;--i)l[f++]=0;for(i=s.length;i>u;){if(l[--i]<s[i]){for(t=i;t&&l[--t]===0;)l[t]=jr-1;--l[t],l[i]+=jr}l[i]-=s[i]}for(;l[--f]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(r.d=l,r.e=mt(l,n),pr?lr(r,h,c):r):new y(c===3?-0:0)};H.modulo=H.mod=function(r){var e,n=this,i=n.constructor;return r=new i(r),!n.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||n.d&&!n.d[0]?lr(new i(n),i.precision,i.rounding):(pr=!1,i.modulo==9?(e=Br(n,r.abs(),0,3,1),e.s*=r.s):e=Br(n,r,0,i.modulo,1),e=e.times(r),pr=!0,n.minus(e))};H.naturalExponential=H.exp=function(){return xt(this)};H.naturalLogarithm=H.ln=function(){return ce(this)};H.negated=H.neg=function(){var r=new this.constructor(this);return r.s=-r.s,lr(r)};H.plus=H.add=function(r){var e,n,i,t,u,f,h,c,l,o,a=this,s=a.constructor;if(r=new s(r),!a.d||!r.d)return!a.s||!r.s?r=new s(NaN):a.d||(r=new s(r.d||a.s===r.s?a:NaN)),r;if(a.s!=r.s)return r.s=-r.s,a.minus(r);if(l=a.d,o=r.d,h=s.precision,c=s.rounding,!l[0]||!o[0])return o[0]||(r=new s(a)),pr?lr(r,h,c):r;if(u=Lr(a.e/vr),i=Lr(r.e/vr),l=l.slice(),t=u-i,t){for(t<0?(n=l,t=-t,f=o.length):(n=o,i=u,f=l.length),u=Math.ceil(h/vr),f=u>f?u+1:f+1,t>f&&(t=f,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(f=l.length,t=o.length,f-t<0&&(t=f,n=o,o=l,l=n),e=0;t;)e=(l[--t]=l[t]+o[t]+e)/jr|0,l[t]%=jr;for(e&&(l.unshift(e),++i),f=l.length;l[--f]==0;)l.pop();return r.d=l,r.e=mt(l,i),pr?lr(r,h,c):r};H.precision=H.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(ve+r);return n.d?(e=Ni(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};H.round=function(){var r=this,e=r.constructor;return lr(new e(r),r.e+1,e.rounding)};H.sine=H.sin=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+Math.max(n.e,n.sd())+vr,i.rounding=1,n=ku(i,zi(i,n)),i.precision=r,i.rounding=e,lr(ie>2?n.neg():n,r,e,!0)):new i(NaN)};H.squareRoot=H.sqrt=function(){var r,e,n,i,t,u,f=this,h=f.d,c=f.e,l=f.s,o=f.constructor;if(l!==1||!h||!h[0])return new o(!l||l<0&&(!h||h[0])?NaN:h?f:1/0);for(pr=!1,l=Math.sqrt(+f),l==0||l==1/0?(e=Rr(h),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=Lr((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),i=new o(e)):i=new o(l.toString()),n=(c=o.precision)+3;;)if(u=i,i=u.plus(Br(f,u,n+2,1)).times(.5),Rr(u.d).slice(0,n)===(e=Rr(i.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!t&&e=="4999"){if(!t&&(lr(u,c+1,0),u.times(u).eq(f))){i=u;break}n+=4,t=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(lr(i,c+1,1),r=!i.times(i).eq(f));break}return pr=!0,lr(i,c,o.rounding,r)};H.tangent=H.tan=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,n=n.sin(),n.s=1,n=Br(n,new i(1).minus(n.times(n)).sqrt(),r+10,0),i.precision=r,i.rounding=e,lr(ie==2||ie==4?n.neg():n,r,e,!0)):new i(NaN)};H.times=H.mul=function(r){var e,n,i,t,u,f,h,c,l,o=this,a=o.constructor,s=o.d,p=(r=new a(r)).d;if(r.s*=o.s,!s||!s[0]||!p||!p[0])return new a(!r.s||s&&!s[0]&&!p||p&&!p[0]&&!s?NaN:!s||!p?r.s/0:r.s*0);for(n=Lr(o.e/vr)+Lr(r.e/vr),c=s.length,l=p.length,c<l&&(u=s,s=p,p=u,f=c,c=l,l=f),u=[],f=c+l,i=f;i--;)u.push(0);for(i=l;--i>=0;){for(e=0,t=c+i;t>i;)h=u[t]+p[i]*s[t-i-1]+e,u[t--]=h%jr|0,e=h/jr|0;u[t]=(u[t]+e)%jr|0}for(;!u[--f];)u.pop();return e?++n:u.shift(),r.d=u,r.e=mt(u,n),pr?lr(r,a.precision,a.rounding):r};H.toBinary=function(r,e){return Ut(this,2,r,e)};H.toDecimalPlaces=H.toDP=function(r,e){var n=this,i=n.constructor;return n=new i(n),r===void 0?n:(Jr(r,0,he),e===void 0?e=i.rounding:Jr(e,0,8),lr(n,r+n.e+1,e))};H.toExponential=function(r,e){var n,i=this,t=i.constructor;return r===void 0?n=te(i,!0):(Jr(r,0,he),e===void 0?e=t.rounding:Jr(e,0,8),i=lr(new t(i),r+1,e),n=te(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+n:n};H.toFixed=function(r,e){var n,i,t=this,u=t.constructor;return r===void 0?n=te(t):(Jr(r,0,he),e===void 0?e=u.rounding:Jr(e,0,8),i=lr(new u(t),r+t.e+1,e),n=te(i,!1,r+i.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};H.toFraction=function(r){var e,n,i,t,u,f,h,c,l,o,a,s,p=this,y=p.d,v=p.constructor;if(!y)return new v(p);if(l=n=new v(1),i=c=new v(0),e=new v(i),u=e.e=Ni(y)-p.e-1,f=u%vr,e.d[0]=qr(10,f<0?vr+f:f),r==null)r=u>0?e:l;else{if(h=new v(r),!h.isInt()||h.lt(l))throw Error(ve+h);r=h.gt(e)?u>0?e:l:h}for(pr=!1,h=new v(Rr(y)),o=v.precision,v.precision=u=y.length*vr*2;a=Br(h,e,0,1,1),t=n.plus(a.times(i)),t.cmp(r)!=1;)n=i,i=t,t=l,l=c.plus(a.times(t)),c=t,t=e,e=h.minus(a.times(t)),h=t;return t=Br(r.minus(n),i,0,1,1),c=c.plus(t.times(l)),n=n.plus(t.times(i)),c.s=l.s=p.s,s=Br(l,i,u,1).minus(p).abs().cmp(Br(c,n,u,1).minus(p).abs())<1?[l,i]:[c,n],v.precision=o,pr=!0,s};H.toHexadecimal=H.toHex=function(r,e){return Ut(this,16,r,e)};H.toNearest=function(r,e){var n=this,i=n.constructor;if(n=new i(n),r==null){if(!n.d)return n;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Jr(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(pr=!1,n=Br(n,r,0,e,1).times(r),pr=!0,lr(n)):(r.s=n.s,n=r),n};H.toNumber=function(){return+this};H.toOctal=function(r,e){return Ut(this,8,r,e)};H.toPower=H.pow=function(r){var e,n,i,t,u,f,h=this,c=h.constructor,l=+(r=new c(r));if(!h.d||!r.d||!h.d[0]||!r.d[0])return new c(qr(+h,l));if(h=new c(h),h.eq(1))return h;if(i=c.precision,u=c.rounding,r.eq(1))return lr(h,i,u);if(e=Lr(r.e/vr),e>=r.d.length-1&&(n=l<0?-l:l)<=Xu)return t=Bi(c,h,n,i),r.s<0?new c(1).div(t):lr(t,i,u);if(f=h.s,f<0){if(e<r.d.length-1)return new c(NaN);if(r.d[e]&1||(f=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=f,h}return n=qr(+h,l),e=n==0||!isFinite(n)?Lr(l*(Math.log("0."+Rr(h.d))/Math.LN10+h.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?f/0:0):(pr=!1,c.rounding=h.s=1,n=Math.min(12,(e+"").length),t=xt(r.times(ce(h,i+n)),i),t.d&&(t=lr(t,i+5,1),$e(t.d,i,u)&&(e=i+10,t=lr(xt(r.times(ce(h,e+n)),e),e+5,1),+Rr(t.d).slice(i+1,i+15)+1==1e14&&(t=lr(t,i+1,0)))),t.s=f,pr=!0,c.rounding=u,lr(t,i,u))};H.toPrecision=function(r,e){var n,i=this,t=i.constructor;return r===void 0?n=te(i,i.e<=t.toExpNeg||i.e>=t.toExpPos):(Jr(r,1,he),e===void 0?e=t.rounding:Jr(e,0,8),i=lr(new t(i),r,e),n=te(i,r<=i.e||i.e<=t.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+n:n};H.toSignificantDigits=H.toSD=function(r,e){var n=this,i=n.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Jr(r,1,he),e===void 0?e=i.rounding:Jr(e,0,8)),lr(new i(n),r,e)};H.toString=function(){var r=this,e=r.constructor,n=te(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};H.truncated=H.trunc=function(){return lr(new this.constructor(this),this.e+1,1)};H.valueOf=H.toJSON=function(){var r=this,e=r.constructor,n=te(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function Rr(r){var e,n,i,t=r.length-1,u="",f=r[0];if(t>0){for(u+=f,e=1;e<t;e++)i=r[e]+"",n=vr-i.length,n&&(u+=se(n)),u+=i;f=r[e],i=f+"",n=vr-i.length,n&&(u+=se(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return u+f}function Jr(r,e,n){if(r!==~~r||r<e||r>n)throw Error(ve+r)}function $e(r,e,n,i){var t,u,f,h;for(u=r[0];u>=10;u/=10)--e;return--e<0?(e+=vr,t=0):(t=Math.ceil((e+1)/vr),e%=vr),u=qr(10,vr-e),h=r[t]%u|0,i==null?e<3?(e==0?h=h/100|0:e==1&&(h=h/10|0),f=n<4&&h==99999||n>3&&h==49999||h==5e4||h==0):f=(n<4&&h+1==u||n>3&&h+1==u/2)&&(r[t+1]/u/100|0)==qr(10,e-2)-1||(h==u/2||h==0)&&(r[t+1]/u/100|0)==0:e<4?(e==0?h=h/1e3|0:e==1?h=h/100|0:e==2&&(h=h/10|0),f=(i||n<4)&&h==9999||!i&&n>3&&h==4999):f=((i||n<4)&&h+1==u||!i&&n>3&&h+1==u/2)&&(r[t+1]/u/1e3|0)==qr(10,e-3)-1,f}function We(r,e,n){for(var i,t=[0],u,f=0,h=r.length;f<h;){for(u=t.length;u--;)t[u]*=e;for(t[0]+=_t.indexOf(r.charAt(f++)),i=0;i<t.length;i++)t[i]>n-1&&(t[i+1]===void 0&&(t[i+1]=0),t[i+1]+=t[i]/n|0,t[i]%=n)}return t.reverse()}function Wu(r,e){var n,i,t;if(e.isZero())return e;i=e.d.length,i<32?(n=Math.ceil(i/3),t=(1/Dt(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),r.precision+=n,e=be(r,1,e.times(t),new r(1));for(var u=n;u--;){var f=e.times(e);e=f.times(f).minus(f).times(8).plus(1)}return r.precision-=n,e}var Br=function(){function r(i,t,u){var f,h=0,c=i.length;for(i=i.slice();c--;)f=i[c]*t+h,i[c]=f%u|0,h=f/u|0;return h&&i.unshift(h),i}function e(i,t,u,f){var h,c;if(u!=f)c=u>f?1:-1;else for(h=c=0;h<u;h++)if(i[h]!=t[h]){c=i[h]>t[h]?1:-1;break}return c}function n(i,t,u,f){for(var h=0;u--;)i[u]-=h,h=i[u]<t[u]?1:0,i[u]=h*f+i[u]-t[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,t,u,f,h,c){var l,o,a,s,p,y,v,m,d,w,g,F,E,D,C,b,A,S,M,_,O=i.constructor,z=i.s==t.s?1:-1,I=i.d,B=t.d;if(!I||!I[0]||!B||!B[0])return new O(!i.s||!t.s||(I?B&&I[0]==B[0]:!B)?NaN:I&&I[0]==0||!B?z*0:z/0);for(c?(p=1,o=i.e-t.e):(c=jr,p=vr,o=Lr(i.e/p)-Lr(t.e/p)),M=B.length,A=I.length,d=new O(z),w=d.d=[],a=0;B[a]==(I[a]||0);a++);if(B[a]>(I[a]||0)&&o--,u==null?(D=u=O.precision,f=O.rounding):h?D=u+(i.e-t.e)+1:D=u,D<0)w.push(1),y=!0;else{if(D=D/p+2|0,a=0,M==1){for(s=0,B=B[0],D++;(a<A||s)&&D--;a++)C=s*c+(I[a]||0),w[a]=C/B|0,s=C%B|0;y=s||a<A}else{for(s=c/(B[0]+1)|0,s>1&&(B=r(B,s,c),I=r(I,s,c),M=B.length,A=I.length),b=M,g=I.slice(0,M),F=g.length;F<M;)g[F++]=0;_=B.slice(),_.unshift(0),S=B[0],B[1]>=c/2&&++S;do s=0,l=e(B,g,M,F),l<0?(E=g[0],M!=F&&(E=E*c+(g[1]||0)),s=E/S|0,s>1?(s>=c&&(s=c-1),v=r(B,s,c),m=v.length,F=g.length,l=e(v,g,m,F),l==1&&(s--,n(v,M<m?_:B,m,c))):(s==0&&(l=s=1),v=B.slice()),m=v.length,m<F&&v.unshift(0),n(g,v,F,c),l==-1&&(F=g.length,l=e(B,g,M,F),l<1&&(s++,n(g,M<F?_:B,F,c))),F=g.length):l===0&&(s++,g=[0]),w[a++]=s,l&&g[0]?g[F++]=I[b]||0:(g=[I[b]],F=1);while((b++<A||g[0]!==void 0)&&D--);y=g[0]!==void 0}w[0]||w.shift()}if(p==1)d.e=o,Ci=y;else{for(a=1,s=w[0];s>=10;s/=10)a++;d.e=a+o*p-1,lr(d,h?u+d.e+1:u,f,y)}return d}}();function lr(r,e,n,i){var t,u,f,h,c,l,o,a,s,p=r.constructor;r:if(e!=null){if(a=r.d,!a)return r;for(t=1,h=a[0];h>=10;h/=10)t++;if(u=e-t,u<0)u+=vr,f=e,o=a[s=0],c=o/qr(10,t-f-1)%10|0;else if(s=Math.ceil((u+1)/vr),h=a.length,s>=h)if(i){for(;h++<=s;)a.push(0);o=c=0,t=1,u%=vr,f=u-vr+1}else break r;else{for(o=h=a[s],t=1;h>=10;h/=10)t++;u%=vr,f=u-vr+t,c=f<0?0:o/qr(10,t-f-1)%10|0}if(i=i||e<0||a[s+1]!==void 0||(f<0?o:o%qr(10,t-f-1)),l=n<4?(c||i)&&(n==0||n==(r.s<0?3:2)):c>5||c==5&&(n==4||i||n==6&&(u>0?f>0?o/qr(10,t-f):0:a[s-1])%10&1||n==(r.s<0?8:7)),e<1||!a[0])return a.length=0,l?(e-=r.e+1,a[0]=qr(10,(vr-e%vr)%vr),r.e=-e||0):a[0]=r.e=0,r;if(u==0?(a.length=s,h=1,s--):(a.length=s+1,h=qr(10,vr-u),a[s]=f>0?(o/qr(10,t-f)%qr(10,f)|0)*h:0),l)for(;;)if(s==0){for(u=1,f=a[0];f>=10;f/=10)u++;for(f=a[0]+=h,h=1;f>=10;f/=10)h++;u!=h&&(r.e++,a[0]==jr&&(a[0]=1));break}else{if(a[s]+=h,a[s]!=jr)break;a[s--]=0,h=1}for(u=a.length;a[--u]===0;)a.pop()}return pr&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function te(r,e,n){if(!r.isFinite())return Ti(r);var i,t=r.e,u=Rr(r.d),f=u.length;return e?(n&&(i=n-f)>0?u=u.charAt(0)+"."+u.slice(1)+se(i):f>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(r.e<0?"e":"e+")+r.e):t<0?(u="0."+se(-t-1)+u,n&&(i=n-f)>0&&(u+=se(i))):t>=f?(u+=se(t+1-f),n&&(i=n-t-1)>0&&(u=u+"."+se(i))):((i=t+1)<f&&(u=u.slice(0,i)+"."+u.slice(i)),n&&(i=n-f)>0&&(t+1===f&&(u+="."),u+=se(i))),u}function mt(r,e){var n=r[0];for(e*=vr;n>=10;n/=10)e++;return e}function tt(r,e,n){if(e>Ku)throw pr=!0,n&&(r.precision=n),Error(bi);return lr(new r(rt),e,1,!0)}function kr(r,e,n){if(e>Bt)throw Error(bi);return lr(new r(et),e,n,!0)}function Ni(r){var e=r.length-1,n=e*vr+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function se(r){for(var e="";r--;)e+="0";return e}function Bi(r,e,n,i){var t,u=new r(1),f=Math.ceil(i/vr+4);for(pr=!1;;){if(n%2&&(u=u.times(e),on(u.d,f)&&(t=!0)),n=Lr(n/2),n===0){n=u.d.length-1,t&&u.d[n]===0&&++u.d[n];break}e=e.times(e),on(e.d,f)}return pr=!0,u}function un(r){return r.d[r.d.length-1]&1}function xi(r,e,n){for(var i,t=new r(e[0]),u=0;++u<e.length;)if(i=new r(e[u]),i.s)t[n](i)&&(t=i);else{t=i;break}return t}function xt(r,e){var n,i,t,u,f,h,c,l=0,o=0,a=0,s=r.constructor,p=s.rounding,y=s.precision;if(!r.d||!r.d[0]||r.e>17)return new s(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(pr=!1,c=y):c=e,h=new s(.03125);r.e>-2;)r=r.times(h),a+=5;for(i=Math.log(qr(2,a))/Math.LN10*2+5|0,c+=i,n=u=f=new s(1),s.precision=c;;){if(u=lr(u.times(r),c,1),n=n.times(++o),h=f.plus(Br(u,n,c,1)),Rr(h.d).slice(0,c)===Rr(f.d).slice(0,c)){for(t=a;t--;)f=lr(f.times(f),c,1);if(e==null)if(l<3&&$e(f.d,c-i,p,l))s.precision=c+=10,n=u=h=new s(1),o=0,l++;else return lr(f,s.precision=y,p,pr=!0);else return s.precision=y,f}f=h}}function ce(r,e){var n,i,t,u,f,h,c,l,o,a,s,p=1,y=10,v=r,m=v.d,d=v.constructor,w=d.rounding,g=d.precision;if(v.s<0||!m||!m[0]||!v.e&&m[0]==1&&m.length==1)return new d(m&&!m[0]?-1/0:v.s!=1?NaN:m?0:v);if(e==null?(pr=!1,o=g):o=e,d.precision=o+=y,n=Rr(m),i=n.charAt(0),Math.abs(u=v.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)v=v.times(r),n=Rr(v.d),i=n.charAt(0),p++;u=v.e,i>1?(v=new d("0."+n),u++):v=new d(i+"."+n.slice(1))}else return l=tt(d,o+2,g).times(u+""),v=ce(new d(i+"."+n.slice(1)),o-y).plus(l),d.precision=g,e==null?lr(v,g,w,pr=!0):v;for(a=v,c=f=v=Br(v.minus(1),v.plus(1),o,1),s=lr(v.times(v),o,1),t=3;;){if(f=lr(f.times(s),o,1),l=c.plus(Br(f,new d(t),o,1)),Rr(l.d).slice(0,o)===Rr(c.d).slice(0,o))if(c=c.times(2),u!==0&&(c=c.plus(tt(d,o+2,g).times(u+""))),c=Br(c,new d(p),o,1),e==null)if($e(c.d,o-y,w,h))d.precision=o+=y,l=f=v=Br(a.minus(1),a.plus(1),o,1),s=lr(v.times(v),o,1),t=h=1;else return lr(c,d.precision=g,w,pr=!0);else return d.precision=g,c;c=l,t+=2}}function Ti(r){return String(r.s*r.s/0)}function Tt(r,e){var n,i,t;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;i++);for(t=e.length;e.charCodeAt(t-1)===48;--t);if(e=e.slice(i,t),e){if(t-=i,r.e=n=n-i-1,r.d=[],i=(n+1)%vr,n<0&&(i+=vr),i<t){for(i&&r.d.push(+e.slice(0,i)),t-=vr;i<t;)r.d.push(+e.slice(i,i+=vr));e=e.slice(i),i=vr-e.length}else i-=t;for(;i--;)e+="0";r.d.push(+e),pr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Hu(r,e){var n,i,t,u,f,h,c,l,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),_i.test(e))return Tt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Gu.test(e))n=16,e=e.toLowerCase();else if(Ju.test(e))n=2;else if(Qu.test(e))n=8;else throw Error(ve+e);for(u=e.search(/p/i),u>0?(c=+e.slice(u+1),e=e.substring(2,u)):e=e.slice(2),u=e.indexOf("."),f=u>=0,i=r.constructor,f&&(e=e.replace(".",""),h=e.length,u=h-u,t=Bi(i,new i(n),u,u*2)),l=We(e,n,jr),o=l.length-1,u=o;l[u]===0;--u)l.pop();return u<0?new i(r.s*0):(r.e=mt(l,o),r.d=l,pr=!1,f&&(r=Br(r,t,h*4)),c&&(r=r.times(Math.abs(c)<54?qr(2,c):Me.pow(2,c))),pr=!0,r)}function ku(r,e){var n,i=e.d.length;if(i<3)return e.isZero()?e:be(r,2,e,e);n=1.4*Math.sqrt(i),n=n>16?16:n|0,e=e.times(1/Dt(5,n)),e=be(r,2,e,e);for(var t,u=new r(5),f=new r(16),h=new r(20);n--;)t=e.times(e),e=e.times(u.plus(t.times(f.times(t).minus(h))));return e}function be(r,e,n,i,t){var u,f,h,c,l=r.precision,o=Math.ceil(l/vr);for(pr=!1,c=n.times(n),h=new r(i);;){if(f=Br(h.times(c),new r(e++*e++),l,1),h=t?i.plus(f):i.minus(f),i=Br(f.times(c),new r(e++*e++),l,1),f=h.plus(i),f.d[o]!==void 0){for(u=o;f.d[u]===h.d[u]&&u--;);if(u==-1)break}u=h,h=i,i=f,f=u}return pr=!0,f.d.length=o+1,f}function Dt(r,e){for(var n=r;--e;)n*=r;return n}function zi(r,e){var n,i=e.s<0,t=kr(r,r.precision,1),u=t.times(.5);if(e=e.abs(),e.lte(u))return ie=i?4:1,e;if(n=e.divToInt(t),n.isZero())ie=i?3:2;else{if(e=e.minus(n.times(t)),e.lte(u))return ie=un(n)?i?2:3:i?4:1,e;ie=un(n)?i?1:4:i?3:2}return e.minus(t).abs()}function Ut(r,e,n,i){var t,u,f,h,c,l,o,a,s,p=r.constructor,y=n!==void 0;if(y?(Jr(n,1,he),i===void 0?i=p.rounding:Jr(i,0,8)):(n=p.precision,i=p.rounding),!r.isFinite())o=Ti(r);else{for(o=te(r),f=o.indexOf("."),y?(t=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):t=e,f>=0&&(o=o.replace(".",""),s=new p(1),s.e=o.length-f,s.d=We(te(s),10,t),s.e=s.d.length),a=We(o,10,t),u=c=a.length;a[--c]==0;)a.pop();if(!a[0])o=y?"0p+0":"0";else{if(f<0?u--:(r=new p(r),r.d=a,r.e=u,r=Br(r,s,n,i,0,t),a=r.d,u=r.e,l=Ci),f=a[n],h=t/2,l=l||a[n+1]!==void 0,l=i<4?(f!==void 0||l)&&(i===0||i===(r.s<0?3:2)):f>h||f===h&&(i===4||l||i===6&&a[n-1]&1||i===(r.s<0?8:7)),a.length=n,l)for(;++a[--n]>t-1;)a[n]=0,n||(++u,a.unshift(1));for(c=a.length;!a[c-1];--c);for(f=0,o="";f<c;f++)o+=_t.charAt(a[f]);if(y){if(c>1)if(e==16||e==8){for(f=e==16?4:3,--c;c%f;c++)o+="0";for(a=We(o,t,e),c=a.length;!a[c-1];--c);for(f=1,o="1.";f<c;f++)o+=_t.charAt(a[f])}else o=o.charAt(0)+"."+o.slice(1);o=o+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(++u>c)for(u-=c;u--;)o+="0";else u<c&&(o=o.slice(0,u)+"."+o.slice(u))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return r.s<0?"-"+o:o}function on(r,e){if(r.length>e)return r.length=e,!0}function ju(r){return new this(r).abs()}function ro(r){return new this(r).acos()}function eo(r){return new this(r).acosh()}function to(r,e){return new this(r).plus(e)}function no(r){return new this(r).asin()}function io(r){return new this(r).asinh()}function ao(r){return new this(r).atan()}function uo(r){return new this(r).atanh()}function oo(r,e){r=new this(r),e=new this(e);var n,i=this.precision,t=this.rounding,u=i+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=kr(this,u,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?kr(this,i,t):new this(0),n.s=r.s):!r.d||e.isZero()?(n=kr(this,u,1).times(.5),n.s=r.s):e.s<0?(this.precision=u,this.rounding=1,n=this.atan(Br(r,e,u,1)),e=kr(this,u,1),this.precision=i,this.rounding=t,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(Br(r,e,u,1)),n}function so(r){return new this(r).cbrt()}function fo(r){return lr(r=new this(r),r.e+1,2)}function co(r,e,n){return new this(r).clamp(e,n)}function lo(r){if(!r||typeof r!="object")throw Error(dt+"Object expected");var e,n,i,t=r.defaults===!0,u=["precision",1,he,"rounding",0,8,"toExpNeg",-Ae,0,"toExpPos",0,Ae,"maxE",0,Ae,"minE",-Ae,0,"modulo",0,9];for(e=0;e<u.length;e+=3)if(n=u[e],t&&(this[n]=Nt[n]),(i=r[n])!==void 0)if(Lr(i)===i&&i>=u[e+1]&&i<=u[e+2])this[n]=i;else throw Error(ve+n+": "+i);if(n="crypto",t&&(this[n]=Nt[n]),(i=r[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Mi);else this[n]=!1;else throw Error(ve+n+": "+i);return this}function vo(r){return new this(r).cos()}function ho(r){return new this(r).cosh()}function Oi(r){var e,n,i;function t(u){var f,h,c,l=this;if(!(l instanceof t))return new t(u);if(l.constructor=t,sn(u)){l.s=u.s,pr?!u.d||u.e>t.maxE?(l.e=NaN,l.d=null):u.e<t.minE?(l.e=0,l.d=[0]):(l.e=u.e,l.d=u.d.slice()):(l.e=u.e,l.d=u.d?u.d.slice():u.d);return}if(c=typeof u,c==="number"){if(u===0){l.s=1/u<0?-1:1,l.e=0,l.d=[0];return}if(u<0?(u=-u,l.s=-1):l.s=1,u===~~u&&u<1e7){for(f=0,h=u;h>=10;h/=10)f++;pr?f>t.maxE?(l.e=NaN,l.d=null):f<t.minE?(l.e=0,l.d=[0]):(l.e=f,l.d=[u]):(l.e=f,l.d=[u]);return}else if(u*0!==0){u||(l.s=NaN),l.e=NaN,l.d=null;return}return Tt(l,u.toString())}else if(c!=="string")throw Error(ve+u);return(h=u.charCodeAt(0))===45?(u=u.slice(1),l.s=-1):(h===43&&(u=u.slice(1)),l.s=1),_i.test(u)?Tt(l,u):Hu(l,u)}if(t.prototype=H,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=lo,t.clone=Oi,t.isDecimal=sn,t.abs=ju,t.acos=ro,t.acosh=eo,t.add=to,t.asin=no,t.asinh=io,t.atan=ao,t.atanh=uo,t.atan2=oo,t.cbrt=so,t.ceil=fo,t.clamp=co,t.cos=vo,t.cosh=ho,t.div=po,t.exp=mo,t.floor=Do,t.hypot=go,t.ln=yo,t.log=wo,t.log10=Eo,t.log2=Ao,t.max=Fo,t.min=Co,t.mod=bo,t.mul=Mo,t.pow=So,t.random=_o,t.round=No,t.sign=Bo,t.sin=xo,t.sinh=To,t.sqrt=zo,t.sub=Oo,t.sum=Io,t.tan=$o,t.tanh=qo,t.trunc=Po,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(n=i[e++])||(r[n]=this[n]);return t.config(r),t}function po(r,e){return new this(r).div(e)}function mo(r){return new this(r).exp()}function Do(r){return lr(r=new this(r),r.e+1,3)}function go(){var r,e,n=new this(0);for(pr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return pr=!0,new this(1/0);n=e}return pr=!0,n.sqrt()}function sn(r){return r instanceof Me||r&&r.toStringTag===Si||!1}function yo(r){return new this(r).ln()}function wo(r,e){return new this(r).log(e)}function Ao(r){return new this(r).log(2)}function Eo(r){return new this(r).log(10)}function Fo(){return xi(this,arguments,"lt")}function Co(){return xi(this,arguments,"gt")}function bo(r,e){return new this(r).mod(e)}function Mo(r,e){return new this(r).mul(e)}function So(r,e){return new this(r).pow(e)}function _o(r){var e,n,i,t,u=0,f=new this(1),h=[];if(r===void 0?r=this.precision:Jr(r,1,he),i=Math.ceil(r/vr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));u<i;)t=e[u],t>=429e7?e[u]=crypto.getRandomValues(new Uint32Array(1))[0]:h[u++]=t%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);u<i;)t=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+((e[u+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(e,u):(h.push(t%1e7),u+=4);u=i/4}else throw Error(Mi);else for(;u<i;)h[u++]=Math.random()*1e7|0;for(i=h[--u],r%=vr,i&&r&&(t=qr(10,vr-r),h[u]=(i/t|0)*t);h[u]===0;u--)h.pop();if(u<0)n=0,h=[0];else{for(n=-1;h[0]===0;n-=vr)h.shift();for(i=1,t=h[0];t>=10;t/=10)i++;i<vr&&(n-=vr-i)}return f.e=n,f.d=h,f}function No(r){return lr(r=new this(r),r.e+1,this.rounding)}function Bo(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function xo(r){return new this(r).sin()}function To(r){return new this(r).sinh()}function zo(r){return new this(r).sqrt()}function Oo(r,e){return new this(r).sub(e)}function Io(){var r=0,e=arguments,n=new this(e[r]);for(pr=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return pr=!0,lr(n,this.precision,this.rounding)}function $o(r){return new this(r).tan()}function qo(r){return new this(r).tanh()}function Po(r){return lr(r=new this(r),r.e+1,1)}H[Symbol.for("nodejs.util.inspect.custom")]=H.toString;H[Symbol.toStringTag]="Decimal";var Me=H.constructor=Oi(Nt);rt=new Me(rt);et=new Me(et);var Ro="BigNumber",Uo=["?on","config"],Lo=rr(Ro,Uo,r=>{var{on:e,config:n}=r,i=Me.clone({precision:n.precision,modulo:Me.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},e&&e("config",function(t,u){t.precision!==u.precision&&i.config({precision:t.precision})}),i},{isClass:!0});function Ii(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $i={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var i=Math.cosh||function(a){return Math.abs(a)<1e-9?1-a:(Math.exp(a)+Math.exp(-a))*.5},t=Math.sinh||function(a){return Math.abs(a)<1e-9?a:(Math.exp(a)-Math.exp(-a))*.5},u=function(a){var s=Math.PI/4;if(-s>a||a>s)return Math.cos(a)-1;var p=a*a;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(a,s){var p=Math.abs(a),y=Math.abs(s);return p<3e3&&y<3e3?Math.sqrt(p*p+y*y):(p<y?(p=y,y=a/s):y=s/a,p*Math.sqrt(1+y*y))},h=function(){throw SyntaxError("Invalid Param")};function c(a,s){var p=Math.abs(a),y=Math.abs(s);return a===0?Math.log(y):s===0?Math.log(p):p<3e3&&y<3e3?Math.log(a*a+s*s)*.5:(a=a/2,s=s/2,.5*Math.log(a*a+s*s)+Math.LN2)}var l=function(a,s){var p={re:0,im:0};if(a==null)p.re=p.im=0;else if(s!==void 0)p.re=a,p.im=s;else switch(typeof a){case"object":if("im"in a&&"re"in a)p.re=a.re,p.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return o.INFINITY;p.re=a.abs*Math.cos(a.arg),p.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return o.INFINITY;p.re=a.r*Math.cos(a.phi),p.im=a.r*Math.sin(a.phi)}else a.length===2?(p.re=a[0],p.im=a[1]):h();break;case"string":p.im=p.re=0;var y=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),v=1,m=0;y===null&&h();for(var d=0;d<y.length;d++){var w=y[d];w===" "||w==="	"||w===`
`||(w==="+"?v++:w==="-"?m++:w==="i"||w==="I"?(v+m===0&&h(),y[d+1]!==" "&&!isNaN(y[d+1])?(p.im+=parseFloat((m%2?"-":"")+y[d+1]),d++):p.im+=parseFloat((m%2?"-":"")+"1"),v=m=0):((v+m===0||isNaN(w))&&h(),y[d+1]==="i"||y[d+1]==="I"?(p.im+=parseFloat((m%2?"-":"")+w),d++):p.re+=parseFloat((m%2?"-":"")+w),v=m=0))}v+m>0&&h();break;case"number":p.im=0,p.re=a;break;default:h()}return isNaN(p.re)||isNaN(p.im),p};function o(a,s){if(!(this instanceof o))return new o(a,s);var p=l(a,s);this.re=p.re,this.im=p.im}o.prototype={re:0,im:0,sign:function(){var a=this.abs();return new o(this.re/a,this.im/a)},add:function(a,s){var p=new o(a,s);return this.isInfinite()&&p.isInfinite()?o.NAN:this.isInfinite()||p.isInfinite()?o.INFINITY:new o(this.re+p.re,this.im+p.im)},sub:function(a,s){var p=new o(a,s);return this.isInfinite()&&p.isInfinite()?o.NAN:this.isInfinite()||p.isInfinite()?o.INFINITY:new o(this.re-p.re,this.im-p.im)},mul:function(a,s){var p=new o(a,s);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?o.NAN:this.isInfinite()||p.isInfinite()?o.INFINITY:p.im===0&&this.im===0?new o(this.re*p.re,0):new o(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(a,s){var p=new o(a,s);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return o.NAN;if(this.isInfinite()||p.isZero())return o.INFINITY;if(this.isZero()||p.isInfinite())return o.ZERO;a=this.re,s=this.im;var y=p.re,v=p.im,m,d;return v===0?new o(a/y,s/y):Math.abs(y)<Math.abs(v)?(d=y/v,m=y*d+v,new o((a*d+s)/m,(s*d-a)/m)):(d=v/y,m=v*d+y,new o((a+s*d)/m,(s-a*d)/m))},pow:function(a,s){var p=new o(a,s);if(a=this.re,s=this.im,p.isZero())return o.ONE;if(p.im===0){if(s===0&&a>0)return new o(Math.pow(a,p.re),0);if(a===0)switch((p.re%4+4)%4){case 0:return new o(Math.pow(s,p.re),0);case 1:return new o(0,Math.pow(s,p.re));case 2:return new o(-Math.pow(s,p.re),0);case 3:return new o(0,-Math.pow(s,p.re))}}if(a===0&&s===0&&p.re>0&&p.im>=0)return o.ZERO;var y=Math.atan2(s,a),v=c(a,s);return a=Math.exp(p.re*v-p.im*y),s=p.im*v+p.re*y,new o(a*Math.cos(s),a*Math.sin(s))},sqrt:function(){var a=this.re,s=this.im,p=this.abs(),y,v;if(a>=0){if(s===0)return new o(Math.sqrt(a),0);y=.5*Math.sqrt(2*(p+a))}else y=Math.abs(s)/Math.sqrt(2*(p-a));return a<=0?v=.5*Math.sqrt(2*(p-a)):v=Math.abs(s)/Math.sqrt(2*(p+a)),new o(y,s<0?-v:v)},exp:function(){var a=Math.exp(this.re);return this.im,new o(a*Math.cos(this.im),a*Math.sin(this.im))},expm1:function(){var a=this.re,s=this.im;return new o(Math.expm1(a)*Math.cos(s)+u(s),Math.exp(a)*Math.sin(s))},log:function(){var a=this.re,s=this.im;return new o(c(a,s),Math.atan2(s,a))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,s=this.im;return new o(Math.sin(a)*i(s),Math.cos(a)*t(s))},cos:function(){var a=this.re,s=this.im;return new o(Math.cos(a)*i(s),-Math.sin(a)*t(s))},tan:function(){var a=2*this.re,s=2*this.im,p=Math.cos(a)+i(s);return new o(Math.sin(a)/p,t(s)/p)},cot:function(){var a=2*this.re,s=2*this.im,p=Math.cos(a)-i(s);return new o(-Math.sin(a)/p,t(s)/p)},sec:function(){var a=this.re,s=this.im,p=.5*i(2*s)+.5*Math.cos(2*a);return new o(Math.cos(a)*i(s)/p,Math.sin(a)*t(s)/p)},csc:function(){var a=this.re,s=this.im,p=.5*i(2*s)-.5*Math.cos(2*a);return new o(Math.sin(a)*i(s)/p,-Math.cos(a)*t(s)/p)},asin:function(){var a=this.re,s=this.im,p=new o(s*s-a*a+1,-2*a*s).sqrt(),y=new o(p.re-s,p.im+a).log();return new o(y.im,-y.re)},acos:function(){var a=this.re,s=this.im,p=new o(s*s-a*a+1,-2*a*s).sqrt(),y=new o(p.re-s,p.im+a).log();return new o(Math.PI/2-y.im,y.re)},atan:function(){var a=this.re,s=this.im;if(a===0){if(s===1)return new o(0,1/0);if(s===-1)return new o(0,-1/0)}var p=a*a+(1-s)*(1-s),y=new o((1-s*s-a*a)/p,-2*a/p).log();return new o(-.5*y.im,.5*y.re)},acot:function(){var a=this.re,s=this.im;if(s===0)return new o(Math.atan2(1,a),0);var p=a*a+s*s;return p!==0?new o(a/p,-s/p).atan():new o(a!==0?a/0:0,s!==0?-s/0:0).atan()},asec:function(){var a=this.re,s=this.im;if(a===0&&s===0)return new o(0,1/0);var p=a*a+s*s;return p!==0?new o(a/p,-s/p).acos():new o(a!==0?a/0:0,s!==0?-s/0:0).acos()},acsc:function(){var a=this.re,s=this.im;if(a===0&&s===0)return new o(Math.PI/2,1/0);var p=a*a+s*s;return p!==0?new o(a/p,-s/p).asin():new o(a!==0?a/0:0,s!==0?-s/0:0).asin()},sinh:function(){var a=this.re,s=this.im;return new o(t(a)*Math.cos(s),i(a)*Math.sin(s))},cosh:function(){var a=this.re,s=this.im;return new o(i(a)*Math.cos(s),t(a)*Math.sin(s))},tanh:function(){var a=2*this.re,s=2*this.im,p=i(a)+Math.cos(s);return new o(t(a)/p,Math.sin(s)/p)},coth:function(){var a=2*this.re,s=2*this.im,p=i(a)-Math.cos(s);return new o(t(a)/p,-Math.sin(s)/p)},csch:function(){var a=this.re,s=this.im,p=Math.cos(2*s)-i(2*a);return new o(-2*t(a)*Math.cos(s)/p,2*i(a)*Math.sin(s)/p)},sech:function(){var a=this.re,s=this.im,p=Math.cos(2*s)+i(2*a);return new o(2*i(a)*Math.cos(s)/p,-2*t(a)*Math.sin(s)/p)},asinh:function(){var a=this.im;this.im=-this.re,this.re=a;var s=this.asin();return this.re=-this.im,this.im=a,a=s.re,s.re=-s.im,s.im=a,s},acosh:function(){var a=this.acos();if(a.im<=0){var s=a.re;a.re=-a.im,a.im=s}else{var s=a.im;a.im=-a.re,a.re=s}return a},atanh:function(){var a=this.re,s=this.im,p=a>1&&s===0,y=1-a,v=1+a,m=y*y+s*s,d=m!==0?new o((v*y-s*s)/m,(s*y+v*s)/m):new o(a!==-1?a/0:0,s!==0?s/0:0),w=d.re;return d.re=c(d.re,d.im)/2,d.im=Math.atan2(d.im,w)/2,p&&(d.im=-d.im),d},acoth:function(){var a=this.re,s=this.im;if(a===0&&s===0)return new o(0,Math.PI/2);var p=a*a+s*s;return p!==0?new o(a/p,-s/p).atanh():new o(a!==0?a/0:0,s!==0?-s/0:0).atanh()},acsch:function(){var a=this.re,s=this.im;if(s===0)return new o(a!==0?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var p=a*a+s*s;return p!==0?new o(a/p,-s/p).asinh():new o(a!==0?a/0:0,s!==0?-s/0:0).asinh()},asech:function(){var a=this.re,s=this.im;if(this.isZero())return o.INFINITY;var p=a*a+s*s;return p!==0?new o(a/p,-s/p).acosh():new o(a!==0?a/0:0,s!==0?-s/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var a=this.re,s=this.im,p=a*a+s*s;return new o(a/p,-s/p)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(a){return a=Math.pow(10,a||0),new o(Math.ceil(this.re*a)/a,Math.ceil(this.im*a)/a)},floor:function(a){return a=Math.pow(10,a||0),new o(Math.floor(this.re*a)/a,Math.floor(this.im*a)/a)},round:function(a){return a=Math.pow(10,a||0),new o(Math.round(this.re*a)/a,Math.round(this.im*a)/a)},equals:function(a,s){var p=new o(a,s);return Math.abs(p.re-this.re)<=o.EPSILON&&Math.abs(p.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var a=this.re,s=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<o.EPSILON&&(a=0),Math.abs(s)<o.EPSILON&&(s=0),s===0?p+a:(a!==0?(p+=a,p+=" ",s<0?(s=-s,p+="-"):p+="+",p+=" "):s<0&&(s=-s,p+="-"),s!==1&&(p+=s),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o})()})($i);var Zo=$i.exports;const Pr=Ii(Zo);var Vo="Complex",Yo=[],Jo=rr(Vo,Yo,()=>(Object.defineProperty(Pr,"name",{value:"Complex"}),Pr.prototype.constructor=Pr,Pr.prototype.type="Complex",Pr.prototype.isComplex=!0,Pr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Pr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Pr.prototype.format=function(r){var e="",n=this.im,i=this.re,t=St(this.re,r),u=St(this.im,r),f=_r(r)?r:r?r.precision:null;if(f!==null){var h=Math.pow(10,-f);Math.abs(i/n)<h&&(i=0),Math.abs(n/i)<h&&(n=0)}return n===0?e=t:i===0?n===1?e="i":n===-1?e="-i":e=u+"i":n<0?n===-1?e=t+" - i":e=t+" - "+u.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+u+"i",e},Pr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Pr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(_r(n)){if(vi(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),_r(i))return new Pr({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Pr.prototype.valueOf=Pr.prototype.toString,Pr.fromJSON=function(r){return new Pr(r)},Pr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Pr),{isClass:!0}),qi={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var i=2e3,t={s:1,n:0,d:1};function u(d,w){if(isNaN(d=parseInt(d,10)))throw v();return d*w}function f(d,w){if(w===0)throw y();var g=Object.create(p.prototype);g.s=d<0?-1:1,d=d<0?-d:d;var F=s(d,w);return g.n=d/F,g.d=w/F,g}function h(d){for(var w={},g=d,F=2,E=4;E<=g;){for(;g%F===0;)g/=F,w[F]=(w[F]||0)+1;E+=1+2*F++}return g!==d?g>1&&(w[g]=(w[g]||0)+1):w[d]=(w[d]||0)+1,w}var c=function(d,w){var g=0,F=1,E=1,D=0,C=0,b=0,A=1,S=1,M=0,_=1,O=1,z=1,I=1e7,B;if(d!=null)if(w!==void 0){if(g=d,F=w,E=g*F,g%1!==0||F%1!==0)throw m()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)g=d.n,F=d.d,"s"in d&&(g*=d.s);else if(0 in d)g=d[0],1 in d&&(F=d[1]);else throw v();E=g*F;break}case"number":{if(d<0&&(E=d,d=-d),d%1===0)g=d;else if(d>0){for(d>=1&&(S=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=S);_<=I&&z<=I;)if(B=(M+O)/(_+z),d===B){_+z<=I?(g=M+O,F=_+z):z>_?(g=O,F=z):(g=M,F=_);break}else d>B?(M+=O,_+=z):(O+=M,z+=_),_>I?(g=O,F=z):(g=M,F=_);g*=S}else(isNaN(d)||isNaN(w))&&(F=g=NaN);break}case"string":{if(_=d.match(/\d+|./g),_===null)throw v();if(_[M]==="-"?(E=-1,M++):_[M]==="+"&&M++,_.length===M+1?C=u(_[M++],E):_[M+1]==="."||_[M]==="."?(_[M]!=="."&&(D=u(_[M++],E)),M++,(M+1===_.length||_[M+1]==="("&&_[M+3]===")"||_[M+1]==="'"&&_[M+3]==="'")&&(C=u(_[M],E),A=Math.pow(10,_[M].length),M++),(_[M]==="("&&_[M+2]===")"||_[M]==="'"&&_[M+2]==="'")&&(b=u(_[M+1],E),S=Math.pow(10,_[M+1].length)-1,M+=3)):_[M+1]==="/"||_[M+1]===":"?(C=u(_[M],E),A=u(_[M+2],1),M+=3):_[M+3]==="/"&&_[M+1]===" "&&(D=u(_[M],E),C=u(_[M+2],E),A=u(_[M+4],1),M+=5),_.length<=M){F=A*S,E=g=b+F*D+S*C;break}}default:throw v()}if(F===0)throw y();t.s=E<0?-1:1,t.n=Math.abs(g),t.d=Math.abs(F)};function l(d,w,g){for(var F=1;w>0;d=d*d%g,w>>=1)w&1&&(F=F*d%g);return F}function o(d,w){for(;w%2===0;w/=2);for(;w%5===0;w/=5);if(w===1)return 0;for(var g=10%w,F=1;g!==1;F++)if(g=g*10%w,F>i)return 0;return F}function a(d,w,g){for(var F=1,E=l(10,g,w),D=0;D<300;D++){if(F===E)return D;F=F*10%w,E=E*10%w}return 0}function s(d,w){if(!d)return w;if(!w)return d;for(;;){if(d%=w,!d)return w;if(w%=d,!w)return d}}function p(d,w){if(c(d,w),this instanceof p)d=s(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return f(t.s*t.n,t.d)}var y=function(){return new Error("Division by Zero")},v=function(){return new Error("Invalid argument")},m=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return f(this.n,this.d)},neg:function(){return f(-this.s*this.n,this.d)},add:function(d,w){return c(d,w),f(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,w){return c(d,w),f(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,w){return c(d,w),f(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,w){return c(d,w),f(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return f(this.s*this.n,this.d)},mod:function(d,w){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(d===void 0)return f(this.s*this.n%this.d,1);if(c(d,w),t.n===0&&this.d===0)throw y();return f(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,w){return c(d,w),f(s(t.n,this.n)*s(t.d,this.d),t.d*this.d)},lcm:function(d,w){return c(d,w),t.n===0&&this.n===0?f(0,1):f(t.n*this.n,s(t.n,this.n)*s(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):f(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return f(this.s*this.d,this.n)},pow:function(d,w){if(c(d,w),t.d===1)return t.s<0?f(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):f(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var g=h(this.n),F=h(this.d),E=1,D=1;for(var C in g)if(C!=="1"){if(C==="0"){E=0;break}if(g[C]*=t.n,g[C]%t.d===0)g[C]/=t.d;else return null;E*=Math.pow(C,g[C])}for(var C in F)if(C!=="1"){if(F[C]*=t.n,F[C]%t.d===0)F[C]/=t.d;else return null;D*=Math.pow(C,F[C])}return t.s<0?f(D,E):f(E,D)},equals:function(d,w){return c(d,w),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,w){c(d,w);var g=this.s*this.n*t.d-t.s*t.n*this.d;return(0<g)-(g<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var w=this.abs(),g=w.toContinued(),F=1;F<g.length;F++){for(var E=f(g[F-1],1),D=F-2;D>=0;D--)E=E.inverse().add(g[D]);if(Math.abs(E.sub(w).valueOf())<d)return E.mul(this.s)}return this},divisible:function(d,w){return c(d,w),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var w,g="",F=this.n,E=this.d;return this.s<0&&(g+="-"),E===1?g+=F:(d&&(w=Math.floor(F/E))>0&&(g+=w,g+=" ",F%=E),g+=F,g+="/",g+=E),g},toLatex:function(d){var w,g="",F=this.n,E=this.d;return this.s<0&&(g+="-"),E===1?g+=F:(d&&(w=Math.floor(F/E))>0&&(g+=w,F%=E),g+="\\frac{",g+=F,g+="}{",g+=E,g+="}"),g},toContinued:function(){var d,w=this.n,g=this.d,F=[];if(isNaN(w)||isNaN(g))return F;do F.push(Math.floor(w/g)),d=w%g,w=g,g=d;while(w!==1);return F},toString:function(d){var w=this.n,g=this.d;if(isNaN(w)||isNaN(g))return"NaN";d=d||15;var F=o(w,g),E=a(w,g,F),D=this.s<0?"-":"";if(D+=w/g|0,w%=g,w*=10,w&&(D+="."),F){for(var C=E;C--;)D+=w/g|0,w%=g,w*=10;D+="(";for(var C=F;C--;)D+=w/g|0,w%=g,w*=10;D+=")"}else for(var C=d;w&&C--;)D+=w/g|0,w%=g,w*=10;return D}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,r.exports=p})()})(qi);var Go=qi.exports;const ne=Ii(Go);var Qo="Fraction",Xo=[],Ko=rr(Qo,Xo,()=>(Object.defineProperty(ne,"name",{value:"Fraction"}),ne.prototype.constructor=ne,ne.prototype.type="Fraction",ne.prototype.isFraction=!0,ne.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ne.fromJSON=function(r){return new ne(r)},ne),{isClass:!0}),Wo="Matrix",Ho=[],ko=rr(Wo,Ho,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Mt(r,e,n){var i=r.constructor,t=new i(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Nr(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),u="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(u);case 8:return"".concat(r.toOctal()).concat(u);case 16:return"".concat(r.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function jo(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:i,wordSize:t}=Di(e);switch(n){case"fixed":return es(r,i);case"exponential":return fn(r,i);case"engineering":return rs(r,i);case"bin":return Mt(r,2,t);case"oct":return Mt(r,8,t);case"hex":return Mt(r,16,t);case"auto":{var u=cn(e==null?void 0:e.lowerExp,-3),f=cn(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var h,c=r.toSignificantDigits(i),l=c.e;return l>=u&&l<f?h=c.toFixed():h=fn(r,i),h.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function rs(r,e){var n=r.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-i)),u=t.toPrecision(e);if(u.includes("e")){var f=r.constructor;u=new f(u).toFixed()}return u+"e"+(n>=0?"+":"")+i.toString()}function fn(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function es(r,e){return r.toFixed(e)}function cn(r,e){return _r(r)?r:Or(r)?r.toNumber():e}function zr(r,e){var n=ts(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function ts(r,e){if(typeof r=="number")return St(r,e);if(Or(r))return jo(r,e);if(ns(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Pi(r,e);if(Kr(r))return ln(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(i=>ln(i)+": "+zr(r[i],e));return"{"+n.join(", ")+"}"}return String(r)}function ln(r){for(var e=String(r),n="",i=0;i<e.length;){var t=e.charAt(i);n+=t in vn?vn[t]:t,i++}return'"'+n+'"'}var vn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Pi(r,e){if(Array.isArray(r)){for(var n="[",i=r.length,t=0;t<i;t++)t!==0&&(n+=", "),n+=Pi(r[t],e);return n+="]",n}else return zr(r,e)}function ns(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function yr(r,e,n){if(!(this instanceof yr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}yr.prototype=new RangeError;yr.prototype.constructor=RangeError;yr.prototype.name="DimensionError";yr.prototype.isDimensionError=!0;function de(r,e,n){if(!(this instanceof de))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}de.prototype=new RangeError;de.prototype.constructor=RangeError;de.prototype.name="IndexError";de.prototype.isIndexError=!0;function Tr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ri(r,e,n){var i,t=r.length;if(t!==e[n])throw new yr(t,e[n]);if(n<e.length-1){var u=n+1;for(i=0;i<t;i++){var f=r[i];if(!Array.isArray(f))throw new yr(e.length-1,e.length,"<");Ri(r[i],e,u)}}else for(i=0;i<t;i++)if(Array.isArray(r[i]))throw new yr(e.length+1,e.length,">")}function hn(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new yr(r.length,0)}else Ri(r,e,0)}function nt(r,e){var n=r.isMatrix?r._size:Tr(r),i=e._sourceSize;i.forEach((t,u)=>{if(t!==null&&t!==n[u])throw new yr(t,n[u])})}function Mr(r,e){if(r!==void 0){if(!_r(r)||!Nr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new de(r,e)}}function Se(r){for(var e=0;e<r._dimensions.length;++e){var n=r._dimensions[e];if(n._data&&Er(n._data)){if(n._size[0]===0)return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(Kr(n)&&n.length===0)return!0}return!1}function it(r,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!_r(t)||!Nr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+zr(e)+")")}),(_r(r)||Or(r))&&(r=[r]);var i=n!==void 0?n:0;return zt(r,e,0,i),r}function zt(r,e,n,i){var t,u,f=r.length,h=e[n],c=Math.min(f,h);if(r.length=h,n<e.length-1){var l=n+1;for(t=0;t<c;t++)u=r[t],Array.isArray(u)||(u=[u],r[t]=u),zt(u,e,l,i);for(t=c;t<h;t++)u=[],r[t]=u,zt(u,e,l,i)}else{for(t=0;t<c;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=c;t<h;t++)r[t]=i}}function Lt(r,e){var n=Ot(r),i=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new yr(0,i,"!=");e=Zt(e,i);var t=Ui(e);if(i!==t)throw new yr(t,i,"!=");try{return is(n,e)}catch(u){throw u instanceof yr?new yr(t,i,"!="):u}}function Zt(r,e){var n=Ui(r),i=r.slice(),t=-1,u=r.indexOf(t),f=r.indexOf(t,u+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var h=u>=0,c=e%n===0;if(h)if(c)i[u]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return i}function Ui(r){return r.reduce((e,n)=>e*n,1)}function is(r,e){for(var n=r,i,t=e.length-1;t>0;t--){var u=e[t];i=[];for(var f=n.length/u,h=0;h<f;h++)i.push(n.slice(h*u,(h+1)*u));n=i}return n}function Li(r,e,n,i){var t=i||Tr(r);if(n)for(var u=0;u<n;u++)r=[r],t.unshift(1);for(r=Zi(r,e,0);t.length<e;)t.push(1);return r}function Zi(r,e,n){var i,t;if(Array.isArray(r)){var u=n+1;for(i=0,t=r.length;i<t;i++)r[i]=Zi(r[i],e,u)}else for(var f=n;f<e;f++)r=[r];return r}function Ot(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(i){Array.isArray(i)?i.forEach(n):e.push(i)}),e}function qe(r,e){for(var n,i=0,t=0;t<r.length;t++){var u=r[t],f=Array.isArray(u);if(t===0&&f&&(i=u.length),f&&u.length!==i)return;var h=f?qe(u,e):e(u);if(n===void 0)n=h;else if(n!==h)return"mixed"}return n}function Vi(r,e,n,i){if(i<n){if(r.length!==e.length)throw new yr(r.length,e.length);for(var t=[],u=0;u<r.length;u++)t[u]=Vi(r[u],e[u],n,i+1);return t}else return r.concat(e)}function Yi(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(n,i){return Vi(n,i,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function as(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];for(var i=e.map(s=>s.length),t=Math.max(...i),u=new Array(t).fill(null),f=0;f<e.length;f++)for(var h=e[f],c=i[f],l=0;l<c;l++){var o=t-c+l;h[l]>u[o]&&(u[o]=h[l])}for(var a=0;a<e.length;a++)at(e[a],u);return u}function at(r,e){for(var n=e.length,i=r.length,t=0;t<i;t++){var u=n-i+t;if(r[t]<e[u]&&r[t]>1||r[t]>e[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(i," with size ").concat(r[t]," to size ").concat(e[u]))}}function pn(r,e){var n=Tr(r);if(Ce(n,e))return r;at(n,e);var i=as(n,e),t=i.length,u=[...Array(t-n.length).fill(1),...n],f=os(r);n.length<t&&(f=Lt(f,u),n=Tr(f));for(var h=0;h<t;h++)n[h]<i[h]&&(f=us(f,i[h],h),n=Tr(f));return f}function us(r,e,n){return Yi(...Array(e).fill(r),n)}function os(r){return Fe([],r)}function Ji(r){return Object.keys(r.signatures||{}).reduce(function(e,n){var i=(n.match(/,/g)||[]).length+1;return Math.max(e,i)},-1)}var ss="DenseMatrix",fs=["Matrix"],cs=rr(ss,fs,r=>{var{Matrix:e}=r;function n(o,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Kr(a))throw new Error("Invalid datatype: "+a);if(Sr(o))o.type==="DenseMatrix"?(this._data=Ar(o._data),this._size=Ar(o._size),this._datatype=a||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=a||o._datatype);else if(o&&Er(o.data)&&Er(o.size))this._data=o.data,this._size=o.size,hn(this._data,this._size),this._datatype=a||o.datatype;else if(Er(o))this._data=l(o),this._size=Tr(this._data),hn(this._data,this._size),this._datatype=a;else{if(o)throw new TypeError("Unsupported type of data ("+ae(o)+")");this._data=[],this._size=[0],this._datatype=a}}n.prototype=new e,n.prototype.createDenseMatrix=function(o,a){return new n(o,a)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return qe(this._data,ae)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(o,a){return new n(o,a)},n.prototype.subset=function(o,a,s){switch(arguments.length){case 1:return i(this,o);case 2:case 3:return u(this,o,a,s);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(o){if(!Er(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new yr(o.length,this._size.length);for(var a=0;a<o.length;a++)Mr(o[a],this._size[a]);for(var s=this._data,p=0,y=o.length;p<y;p++){var v=o[p];Mr(v,s.length),s=s[v]}return s},n.prototype.set=function(o,a,s){if(!Er(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new yr(o.length,this._size.length,"<");var p,y,v,m=o.map(function(w){return w+1});c(this,m,s);var d=this._data;for(p=0,y=o.length-1;p<y;p++)v=o[p],Mr(v,d.length),d=d[v];return v=o[o.length-1],Mr(v,d.length),d[v]=a,this};function i(o,a){if(!vt(a))throw new TypeError("Invalid index");var s=a.isScalar();if(s)return o.get(a.min());var p=a.size();if(p.length!==o._size.length)throw new yr(p.length,o._size.length);for(var y=a.min(),v=a.max(),m=0,d=o._size.length;m<d;m++)Mr(y[m],o._size[m]),Mr(v[m],o._size[m]);return new n(t(o._data,a,p.length,0),o._datatype)}function t(o,a,s,p){var y=p===s-1,v=a.dimension(p);return y?v.map(function(m){return Mr(m,o.length),o[m]}).valueOf():v.map(function(m){Mr(m,o.length);var d=o[m];return t(d,a,s,p+1)}).valueOf()}function u(o,a,s,p){if(!a||a.isIndex!==!0)throw new TypeError("Invalid index");var y=a.size(),v=a.isScalar(),m;if(Sr(s)?(m=s.size(),s=s.valueOf()):m=Tr(s),v){if(m.length!==0)throw new TypeError("Scalar expected");o.set(a.min(),s,p)}else{if(!Ce(m,y))try{m.length===0?s=pn([s],y):s=pn(s,y),m=Tr(s)}catch{}if(y.length<o._size.length)throw new yr(y.length,o._size.length,"<");if(m.length<y.length){for(var d=0,w=0;y[d]===1&&m[d]===1;)d++;for(;y[d]===1;)w++,d++;s=Li(s,y.length,w,m)}if(!Ce(y,m))throw new yr(y,m,">");var g=a.max().map(function(D){return D+1});c(o,g,p);var F=y.length,E=0;f(o._data,a,s,F,E)}return o}function f(o,a,s,p,y){var v=y===p-1,m=a.dimension(y);v?m.forEach(function(d,w){Mr(d),o[d]=s[w[0]]}):m.forEach(function(d,w){Mr(d),f(o[d],a,s[w[0]],p,y+1)})}n.prototype.resize=function(o,a,s){if(!je(o))throw new TypeError("Array or Matrix expected");var p=o.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v),y=s?this.clone():this;return h(y,p,a)};function h(o,a,s){if(a.length===0){for(var p=o._data;Er(p);)p=p[0];return p}return o._size=a.slice(0),o._data=it(o._data,o._size,s),o}n.prototype.reshape=function(o,a){var s=a?this.clone():this;s._data=Lt(s._data,o);var p=s._size.reduce((y,v)=>y*v);return s._size=Zt(o,p),s};function c(o,a,s){for(var p=o._size.slice(0),y=!1;p.length<a.length;)p.push(0),y=!0;for(var v=0,m=a.length;v<m;v++)a[v]>p[v]&&(p[v]=a[v],y=!0);y&&h(o,p,s)}n.prototype.clone=function(){var o=new n({data:Ar(this._data),size:Ar(this._size),datatype:this._datatype});return o},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(o){var a=this,s=Ji(o),p=function m(d,w){return Er(d)?d.map(function(g,F){return m(g,w.concat(F))}):s===1?o(d):s===2?o(d,w):o(d,w,a)},y=p(this._data,[]),v=this._datatype!==void 0?qe(y,ae):void 0;return new n(y,v)},n.prototype.forEach=function(o){var a=this,s=function p(y,v){Er(y)?y.forEach(function(m,d){p(m,v.concat(d))}):o(y,v,a)};s(this._data,[])},n.prototype[Symbol.iterator]=function*(){var o=function*a(s,p){if(Er(s))for(var y=0;y<s.length;y++)yield*a(s[y],p.concat(y));else yield{value:s,index:p}};yield*o(this._data,[])},n.prototype.rows=function(){var o=[],a=this.size();if(a.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var s=this._data;for(var p of s)o.push(new n([p],this._datatype));return o},n.prototype.columns=function(){var o=this,a=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,y=function(d){var w=p.map(g=>[g[d]]);a.push(new n(w,o._datatype))},v=0;v<s[1];v++)y(v);return a},n.prototype.toArray=function(){return Ar(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(o){return zr(this._data,o)},n.prototype.toString=function(){return zr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(o){if(o){if(Or(o)&&(o=o.toNumber()),!_r(o)||!Nr(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var a=o>0?o:0,s=o<0?-o:0,p=this._size[0],y=this._size[1],v=Math.min(p-s,y-a),m=[],d=0;d<v;d++)m[d]=this._data[d+s][d+a];return new n({data:m,size:[v],datatype:this._datatype})},n.diagonal=function(o,a,s,p){if(!Er(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(C){if(Or(C)&&(C=C.toNumber()),!_r(C)||!Nr(C)||C<1)throw new Error("Size values must be positive integers");return C}),s){if(Or(s)&&(s=s.toNumber()),!_r(s)||!Nr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var y=s>0?s:0,v=s<0?-s:0,m=o[0],d=o[1],w=Math.min(m-v,d-y),g;if(Er(a)){if(a.length!==w)throw new Error("Invalid value array length");g=function(b){return a[b]}}else if(Sr(a)){var F=a.size();if(F.length!==1||F[0]!==w)throw new Error("Invalid matrix length");g=function(b){return a.get([b])}}else g=function(){return a};p||(p=Or(g(0))?g(0).mul(0):0);var E=[];if(o.length>0){E=it(E,o,p);for(var D=0;D<w;D++)E[D+v][D+y]=g(D)}return new n({data:E,size:[m,d]})},n.fromJSON=function(o){return new n(o)},n.prototype.swapRows=function(o,a){if(!_r(o)||!Nr(o)||!_r(a)||!Nr(a))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Mr(o,this._size[0]),Mr(a,this._size[0]),n._swapRows(o,a,this._data),this},n._swapRows=function(o,a,s){var p=s[o];s[o]=s[a],s[a]=p};function l(o){return Sr(o)?l(o.valueOf()):Er(o)?o.map(l):o}return n},{isClass:!0});function Qr(r,e,n){return r&&typeof r.map=="function"?r.map(function(i){return Qr(i,e)}):e(r)}var dn="isInteger",ls=["typed"],vs=rr(dn,ls,r=>{var{typed:e}=r;return e(dn,{number:Nr,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),Vt="number",gt="number, number";function Gi(r){return Math.abs(r)}Gi.signature=Vt;function Qi(r,e){return r+e}Qi.signature=gt;function Xi(r,e){return r-e}Xi.signature=gt;function Ki(r,e){return r*e}Ki.signature=gt;function Wi(r){return-r}Wi.signature=Vt;function It(r){return Mu(r)}It.signature=Vt;function Hi(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Hi.signature=gt;var ki="number";function ji(r){return r>0}ji.signature=ki;function ra(r){return r===0}ra.signature=ki;var mn="isPositive",hs=["typed"],ps=rr(mn,hs,r=>{var{typed:e}=r;return e(mn,{number:ji,BigNumber:function(i){return!i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s>0&&i.n>0},Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),Dn="isZero",ds=["typed"],ms=rr(Dn,ds,r=>{var{typed:e}=r;return e(Dn,{number:ra,BigNumber:function(i){return i.isZero()},Complex:function(i){return i.re===0&&i.im===0},Fraction:function(i){return i.d===1&&i.n===0},Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})});function Pe(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var i=r.minus(e).abs();if(i.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return i.lte(t.times(n))}return!1}function Ds(r,e,n){return le(r.re,e.re,n)&&le(r.im,e.im,n)}var Re=rr("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(i,t)=>{if(!i.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(n,[i.valueType(),t.valueType()])(i.value,t.value)})}}),ut="equalScalar",gs=["typed","config"],ys=rr(ut,gs,r=>{var{typed:e,config:n}=r,i=Re({typed:e});return e(ut,{"boolean, boolean":function(u,f){return u===f},"number, number":function(u,f){return le(u,f,n.epsilon)},"BigNumber, BigNumber":function(u,f){return u.eq(f)||Pe(u,f,n.epsilon)},"Fraction, Fraction":function(u,f){return u.equals(f)},"Complex, Complex":function(u,f){return Ds(u,f,n.epsilon)}},i)});rr(ut,["typed","config"],r=>{var{typed:e,config:n}=r;return e(ut,{"number, number":function(t,u){return le(t,u,n.epsilon)}})});var ws="SparseMatrix",As=["typed","equalScalar","Matrix"],Es=rr(ws,As,r=>{var{typed:e,equalScalar:n,Matrix:i}=r;function t(v,m){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Kr(m))throw new Error("Invalid datatype: "+m);if(Sr(v))u(this,v,m);else if(v&&Er(v.index)&&Er(v.ptr)&&Er(v.size))this._values=v.values,this._index=v.index,this._ptr=v.ptr,this._size=v.size,this._datatype=m||v.datatype;else if(Er(v))f(this,v,m);else{if(v)throw new TypeError("Unsupported type of data ("+ae(v)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(v,m,d){m.type==="SparseMatrix"?(v._values=m._values?Ar(m._values):void 0,v._index=Ar(m._index),v._ptr=Ar(m._ptr),v._size=Ar(m._size),v._datatype=d||m._datatype):f(v,m.valueOf(),d||m._datatype)}function f(v,m,d){v._values=[],v._index=[],v._ptr=[],v._datatype=d;var w=m.length,g=0,F=n,E=0;if(Kr(d)&&(F=e.find(n,[d,d])||n,E=e.convert(0,d)),w>0){var D=0;do{v._ptr.push(v._index.length);for(var C=0;C<w;C++){var b=m[C];if(Er(b)){if(D===0&&g<b.length&&(g=b.length),D<b.length){var A=b[D];F(A,E)||(v._values.push(A),v._index.push(C))}}else D===0&&g<1&&(g=1),F(b,E)||(v._values.push(b),v._index.push(C))}D++}while(D<g)}v._ptr.push(v._index.length),v._size=[w,g]}t.prototype=new i,t.prototype.createSparseMatrix=function(v,m){return new t(v,m)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return qe(this._values,ae)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(v,m){return new t(v,m)},t.prototype.density=function(){var v=this._size[0],m=this._size[1];return v!==0&&m!==0?this._index.length/(v*m):0},t.prototype.subset=function(v,m,d){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,v);case 2:case 3:return c(this,v,m,d);default:throw new SyntaxError("Wrong number of arguments")}};function h(v,m){if(!vt(m))throw new TypeError("Invalid index");var d=m.isScalar();if(d)return v.get(m.min());var w=m.size();if(w.length!==v._size.length)throw new yr(w.length,v._size.length);var g,F,E,D,C=m.min(),b=m.max();for(g=0,F=v._size.length;g<F;g++)Mr(C[g],v._size[g]),Mr(b[g],v._size[g]);var A=v._values,S=v._index,M=v._ptr,_=m.dimension(0),O=m.dimension(1),z=[],I=[];_.forEach(function(T,Z){I[T]=Z[0],z[T]=!0});var B=A?[]:void 0,Y=[],q=[];return O.forEach(function(T){for(q.push(Y.length),E=M[T],D=M[T+1];E<D;E++)g=S[E],z[g]===!0&&(Y.push(I[g]),B&&B.push(A[E]))}),q.push(Y.length),new t({values:B,index:Y,ptr:q,size:w,datatype:v._datatype})}function c(v,m,d,w){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var g=m.size(),F=m.isScalar(),E;if(Sr(d)?(E=d.size(),d=d.toArray()):E=Tr(d),F){if(E.length!==0)throw new TypeError("Scalar expected");v.set(m.min(),d,w)}else{if(g.length!==1&&g.length!==2)throw new yr(g.length,v._size.length,"<");if(E.length<g.length){for(var D=0,C=0;g[D]===1&&E[D]===1;)D++;for(;g[D]===1;)C++,D++;d=Li(d,g.length,C,E)}if(!Ce(g,E))throw new yr(g,E,">");if(g.length===1){var b=m.dimension(0);b.forEach(function(M,_){Mr(M),v.set([M,0],d[_[0]],w)})}else{var A=m.dimension(0),S=m.dimension(1);A.forEach(function(M,_){Mr(M),S.forEach(function(O,z){Mr(O),v.set([M,O],d[_[0]][z[0]],w)})})}}return v}t.prototype.get=function(v){if(!Er(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new yr(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=v[0],d=v[1];Mr(m,this._size[0]),Mr(d,this._size[1]);var w=l(m,this._ptr[d],this._ptr[d+1],this._index);return w<this._ptr[d+1]&&this._index[w]===m?this._values[w]:0},t.prototype.set=function(v,m,d){if(!Er(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new yr(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=v[0],g=v[1],F=this._size[0],E=this._size[1],D=n,C=0;Kr(this._datatype)&&(D=e.find(n,[this._datatype,this._datatype])||n,C=e.convert(0,this._datatype)),(w>F-1||g>E-1)&&(s(this,Math.max(w+1,F),Math.max(g+1,E),d),F=this._size[0],E=this._size[1]),Mr(w,F),Mr(g,E);var b=l(w,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===w?D(m,C)?o(b,g,this._values,this._index,this._ptr):this._values[b]=m:D(m,C)||a(b,w,g,m,this._values,this._index,this._ptr),this};function l(v,m,d,w){if(d-m===0)return d;for(var g=m;g<d;g++)if(w[g]===v)return g;return m}function o(v,m,d,w,g){d.splice(v,1),w.splice(v,1);for(var F=m+1;F<g.length;F++)g[F]--}function a(v,m,d,w,g,F,E){g.splice(v,0,w),F.splice(v,0,m);for(var D=d+1;D<E.length;D++)E[D]++}t.prototype.resize=function(v,m,d){if(!je(v))throw new TypeError("Array or Matrix expected");var w=v.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(F){if(!_r(F)||!Nr(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+zr(w)+")")});var g=d?this.clone():this;return s(g,w[0],w[1],m)};function s(v,m,d,w){var g=w||0,F=n,E=0;Kr(v._datatype)&&(F=e.find(n,[v._datatype,v._datatype])||n,E=e.convert(0,v._datatype),g=e.convert(g,v._datatype));var D=!F(g,E),C=v._size[0],b=v._size[1],A,S,M;if(d>b){for(S=b;S<d;S++)if(v._ptr[S]=v._values.length,D)for(A=0;A<C;A++)v._values.push(g),v._index.push(A);v._ptr[d]=v._values.length}else d<b&&(v._ptr.splice(d+1,b-d),v._values.splice(v._ptr[d],v._values.length),v._index.splice(v._ptr[d],v._index.length));if(b=d,m>C){if(D){var _=0;for(S=0;S<b;S++){v._ptr[S]=v._ptr[S]+_,M=v._ptr[S+1]+_;var O=0;for(A=C;A<m;A++,O++)v._values.splice(M+O,0,g),v._index.splice(M+O,0,A),_++}v._ptr[b]=v._values.length}}else if(m<C){var z=0;for(S=0;S<b;S++){v._ptr[S]=v._ptr[S]-z;var I=v._ptr[S],B=v._ptr[S+1]-z;for(M=I;M<B;M++)A=v._index[M],A>m-1&&(v._values.splice(M,1),v._index.splice(M,1),z++)}v._ptr[S]=v._values.length}return v._size[0]=m,v._size[1]=d,v}t.prototype.reshape=function(v,m){if(!Er(v))throw new TypeError("Array expected");if(v.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");v.forEach(function(T){if(!_r(T)||!Nr(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+zr(v)+")")});var d=this._size[0]*this._size[1];v=Zt(v,d);var w=v[0]*v[1];if(d!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=m?this.clone():this;if(this._size[0]===v[0]&&this._size[1]===v[1])return g;for(var F=[],E=0;E<g._ptr.length;E++)for(var D=0;D<g._ptr[E+1]-g._ptr[E];D++)F.push(E);for(var C=g._values.slice(),b=g._index.slice(),A=0;A<g._index.length;A++){var S=b[A],M=F[A],_=S*g._size[1]+M;F[A]=_%v[1],b[A]=Math.floor(_/v[1])}g._values.length=0,g._index.length=0,g._ptr.length=v[1]+1,g._size=v.slice();for(var O=0;O<g._ptr.length;O++)g._ptr[O]=0;for(var z=0;z<C.length;z++){var I=b[z],B=F[z],Y=C[z],q=l(I,g._ptr[B],g._ptr[B+1],g._index);a(q,I,B,Y,g._values,g._index,g._ptr)}return g},t.prototype.clone=function(){var v=new t({values:this._values?Ar(this._values):void 0,index:Ar(this._index),ptr:Ar(this._ptr),size:Ar(this._size),datatype:this._datatype});return v},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(v,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var d=this,w=this._size[0],g=this._size[1],F=Ji(v),E=function(C,b,A){return F===1?v(C):F===2?v(C,[b,A]):v(C,[b,A],d)};return p(this,0,w-1,0,g-1,E,m)};function p(v,m,d,w,g,F,E){var D=[],C=[],b=[],A=n,S=0;Kr(v._datatype)&&(A=e.find(n,[v._datatype,v._datatype])||n,S=e.convert(0,v._datatype));for(var M=function(R,V,nr){R=F(R,V,nr),A(R,S)||(D.push(R),C.push(V))},_=w;_<=g;_++){b.push(D.length);var O=v._ptr[_],z=v._ptr[_+1];if(E)for(var I=O;I<z;I++){var B=v._index[I];B>=m&&B<=d&&M(v._values[I],B-m,_-w)}else{for(var Y={},q=O;q<z;q++){var T=v._index[q];Y[T]=v._values[q]}for(var Z=m;Z<=d;Z++){var W=Z in Y?Y[Z]:0;M(W,Z-m,_-w)}}}return b.push(D.length),new t({values:D,index:C,ptr:b,size:[d-m+1,g-w+1]})}t.prototype.forEach=function(v,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var d=this,w=this._size[0],g=this._size[1],F=0;F<g;F++){var E=this._ptr[F],D=this._ptr[F+1];if(m)for(var C=E;C<D;C++){var b=this._index[C];v(this._values[C],[b,F],d)}else{for(var A={},S=E;S<D;S++){var M=this._index[S];A[M]=this._values[S]}for(var _=0;_<w;_++){var O=_ in A?A[_]:0;v(O,[_,F],d)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var v=this._size[1],m=0;m<v;m++)for(var d=this._ptr[m],w=this._ptr[m+1],g=d;g<w;g++){var F=this._index[g];yield{value:this._values[g],index:[F,m]}}},t.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(v,m,d,w,g){var F=w[0],E=w[1],D=[],C,b;for(C=0;C<F;C++)for(D[C]=[],b=0;b<E;b++)D[C][b]=0;for(b=0;b<E;b++)for(var A=d[b],S=d[b+1],M=A;M<S;M++)C=m[M],D[C][b]=v?g?Ar(v[M]):v[M]:1;return D}return t.prototype.format=function(v){for(var m=this._size[0],d=this._size[1],w=this.density(),g="Sparse Matrix ["+zr(m,v)+" x "+zr(d,v)+"] density: "+zr(w,v)+`
`,F=0;F<d;F++)for(var E=this._ptr[F],D=this._ptr[F+1],C=E;C<D;C++){var b=this._index[C];g+=`
    (`+zr(b,v)+", "+zr(F,v)+") ==> "+(this._values?zr(this._values[C],v):"X")}return g},t.prototype.toString=function(){return zr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(v){if(v){if(Or(v)&&(v=v.toNumber()),!_r(v)||!Nr(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var m=v>0?v:0,d=v<0?-v:0,w=this._size[0],g=this._size[1],F=Math.min(w-d,g-m),E=[],D=[],C=[];C[0]=0;for(var b=m;b<g&&E.length<F;b++)for(var A=this._ptr[b],S=this._ptr[b+1],M=A;M<S;M++){var _=this._index[M];if(_===b-m+d){E.push(this._values[M]),D[E.length-1]=_-d;break}}return C.push(E.length),new t({values:E,index:D,ptr:C,size:[F,1]})},t.fromJSON=function(v){return new t(v)},t.diagonal=function(v,m,d,w,g){if(!Er(v))throw new TypeError("Array expected, size parameter");if(v.length!==2)throw new Error("Only two dimensions matrix are supported");if(v=v.map(function(T){if(Or(T)&&(T=T.toNumber()),!_r(T)||!Nr(T)||T<1)throw new Error("Size values must be positive integers");return T}),d){if(Or(d)&&(d=d.toNumber()),!_r(d)||!Nr(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var F=n,E=0;Kr(g)&&(F=e.find(n,[g,g])||n,E=e.convert(0,g));var D=d>0?d:0,C=d<0?-d:0,b=v[0],A=v[1],S=Math.min(b-C,A-D),M;if(Er(m)){if(m.length!==S)throw new Error("Invalid value array length");M=function(Z){return m[Z]}}else if(Sr(m)){var _=m.size();if(_.length!==1||_[0]!==S)throw new Error("Invalid matrix length");M=function(Z){return m.get([Z])}}else M=function(){return m};for(var O=[],z=[],I=[],B=0;B<A;B++){I.push(O.length);var Y=B-D;if(Y>=0&&Y<S){var q=M(Y);F(q,E)||(z.push(Y+C),O.push(q))}}return I.push(O.length),new t({values:O,index:z,ptr:I,size:[b,A]})},t.prototype.swapRows=function(v,m){if(!_r(v)||!Nr(v)||!_r(m)||!Nr(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Mr(v,this._size[0]),Mr(m,this._size[0]),t._swapRows(v,m,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(v,m,d,w,g){for(var F=w[v],E=w[v+1],D=F;D<E;D++)g(d[D],m[D])},t._swapRows=function(v,m,d,w,g,F){for(var E=0;E<d;E++){var D=F[E],C=F[E+1],b=l(v,D,C,g),A=l(m,D,C,g);if(b<C&&A<C&&g[b]===v&&g[A]===m){if(w){var S=w[b];w[b]=w[A],w[A]=S}continue}if(b<C&&g[b]===v&&(A>=C||g[A]!==m)){var M=w?w[b]:void 0;g.splice(A,0,m),w&&w.splice(A,0,M),g.splice(A<=b?b+1:b,1),w&&w.splice(A<=b?b+1:b,1);continue}if(A<C&&g[A]===m&&(b>=C||g[b]!==v)){var _=w?w[A]:void 0;g.splice(b,0,v),w&&w.splice(b,0,_),g.splice(b<=A?A+1:A,1),w&&w.splice(b<=A?A+1:A,1)}}},t},{isClass:!0}),Fs="number",Cs=["typed"];function bs(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],t=e[3];return{input:r,radix:n,integerPart:i,fractionalPart:t}}else return null}function Ms(r){for(var e=parseInt(r.integerPart,r.radix),n=0,i=0;i<r.fractionalPart.length;i++){var t=parseInt(r.fractionalPart[i],r.radix);n+=t/Math.pow(r.radix,i+1)}var u=e+n;if(isNaN(u))throw new SyntaxError('String "'+r.input+'" is not a valid number');return u}var Ss=rr(Fs,Cs,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var u=bs(t);if(u)return Ms(u);var f=0,h=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(f=Number(h[2]),t=h[1]);var c=Number(t);if(isNaN(c))throw new SyntaxError('String "'+t+'" is not a valid number');if(h){if(c>2**f-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));c>=2**(f-1)&&(c=c-2**f)}return c},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(i=>t=>{var u=t.clone();return u.value=i(t.value),u}),null:function(t){return 0},"Unit, string | Unit":function(t,u){return t.toNumber(u)},"Array | Matrix":e.referToSelf(i=>t=>Qr(t,i))});return n.fromJSON=function(i){return parseFloat(i.value)},n}),_s="bignumber",Ns=["typed","BigNumber"],Bs=rr(_s,Ns,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var u=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var f=u[2],h=n(u[1]),c=new n(2).pow(Number(f));if(h.gt(c.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var l=new n(2).pow(Number(f)-1);return h.gte(l)?h.sub(c):h}return new n(t)},BigNumber:function(t){return t},Unit:e.referToSelf(i=>t=>{var u=t.clone();return u.value=i(t.value),u}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf(i=>t=>Qr(t,i))})}),xs="complex",Ts=["typed","Complex"],zs=rr(xs,Ts,r=>{var{typed:e,Complex:n}=r;return e("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,u){return new n(t,u)},"BigNumber, BigNumber":function(t,u){return new n(t.toNumber(),u.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>t=>Qr(t,i))})}),Os="fraction",Is=["typed","Fraction"],$s=rr(Os,Is,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,u){return new n(t,u)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(i=>t=>{var u=t.clone();return u.value=i(t.value),u}),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf(i=>t=>Qr(t,i))})}),gn="matrix",qs=["typed","Matrix","DenseMatrix","SparseMatrix"],Ps=rr(gn,qs,r=>{var{typed:e,Matrix:n,DenseMatrix:i,SparseMatrix:t}=r;return e(gn,{"":function(){return u([])},string:function(h){return u([],h)},"string, string":function(h,c){return u([],h,c)},Array:function(h){return u(h)},Matrix:function(h){return u(h,h.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(f,h,c){if(h==="dense"||h==="default"||h===void 0)return new i(f,c);if(h==="sparse")return new t(f,c);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),yn="matrixFromColumns",Rs=["typed","matrix","flatten","size"],Us=rr(yn,Rs,r=>{var{typed:e,matrix:n,flatten:i,size:t}=r;return e(yn,{"...Array":function(c){return u(c)},"...Matrix":function(c){return n(u(c.map(l=>l.toArray())))}});function u(h){if(h.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var c=f(h[0]),l=[],o=0;o<c;o++)l[o]=[];for(var a of h){var s=f(a);if(s!==c)throw new TypeError("The vectors had different length: "+(c|0)+" ≠ "+(s|0));for(var p=i(a),y=0;y<c;y++)l[y].push(p[y])}return l}function f(h){var c=t(h);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),wn="unaryMinus",Ls=["typed"],Zs=rr(wn,Ls,r=>{var{typed:e}=r;return e(wn,{number:Wi,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>i=>{var t=i.clone();return t.value=e.find(n,t.valueType())(i.value),t}),"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),An="abs",Vs=["typed"],Ys=rr(An,Vs,r=>{var{typed:e}=r;return e(An,{number:Gi,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),En="addScalar",Js=["typed"],Gs=rr(En,Js,r=>{var{typed:e}=r;return e(En,{"number, number":Qi,"Complex, Complex":function(i,t){return i.add(t)},"BigNumber, BigNumber":function(i,t){return i.plus(t)},"Fraction, Fraction":function(i,t){return i.add(t)},"Unit, Unit":e.referToSelf(n=>(i,t)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(t))throw new Error("Units do not match");var u=i.clone();return u.value=e.find(n,[u.valueType(),t.valueType()])(u.value,t.value),u.fixPrefix=!1,u})})}),Fn="subtractScalar",Qs=["typed"],Xs=rr(Fn,Qs,r=>{var{typed:e}=r;return e(Fn,{"number, number":Xi,"Complex, Complex":function(i,t){return i.sub(t)},"BigNumber, BigNumber":function(i,t){return i.minus(t)},"Fraction, Fraction":function(i,t){return i.sub(t)},"Unit, Unit":e.referToSelf(n=>(i,t)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(t))throw new Error("Units do not match");var u=i.clone();return u.value=e.find(n,[u.valueType(),t.valueType()])(u.value,t.value),u.fixPrefix=!1,u})})}),Ks="matAlgo11xS0s",Ws=["typed","equalScalar"],Hs=rr(Ks,Ws,r=>{var{typed:e,equalScalar:n}=r;return function(t,u,f,h){var c=t._values,l=t._index,o=t._ptr,a=t._size,s=t._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=a[0],y=a[1],v,m=n,d=0,w=f;typeof s=="string"&&(v=s,m=e.find(n,[v,v]),d=e.convert(0,v),u=e.convert(u,v),w=e.find(f,[v,v]));for(var g=[],F=[],E=[],D=0;D<y;D++){E[D]=F.length;for(var C=o[D],b=o[D+1],A=C;A<b;A++){var S=l[A],M=h?w(u,c[A]):w(c[A],u);m(M,d)||(F.push(S),g.push(M))}}return E[y]=F.length,t.createSparseMatrix({values:g,index:F,ptr:E,size:[p,y],datatype:v})}}),ks="matAlgo12xSfs",js=["typed","DenseMatrix"],_e=rr(ks,js,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,u,f,h){var c=t._values,l=t._index,o=t._ptr,a=t._size,s=t._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=a[0],y=a[1],v,m=f;typeof s=="string"&&(v=s,u=e.convert(u,v),m=e.find(f,[v,v]));for(var d=[],w=[],g=[],F=0;F<y;F++){for(var E=F+1,D=o[F],C=o[F+1],b=D;b<C;b++){var A=l[b];w[A]=c[b],g[A]=E}for(var S=0;S<p;S++)F===0&&(d[S]=[]),g[S]===E?d[S][F]=h?m(u,w[S]):m(w[S],u):d[S][F]=h?m(u,0):m(0,u)}return new n({data:d,size:[p,y],datatype:v})}}),rf="matAlgo14xDs",ef=["typed"],ea=rr(rf,ef,r=>{var{typed:e}=r;return function(t,u,f,h){var c=t._data,l=t._size,o=t._datatype,a,s=f;typeof o=="string"&&(a=o,u=e.convert(u,a),s=e.find(f,[a,a]));var p=l.length>0?n(s,0,l,l[0],c,u,h):[];return t.createDenseMatrix({data:p,size:Ar(l),datatype:a})};function n(i,t,u,f,h,c,l){var o=[];if(t===u.length-1)for(var a=0;a<f;a++)o[a]=l?i(c,h[a]):i(h[a],c);else for(var s=0;s<f;s++)o[s]=n(i,t+1,u,u[t+1],h[s],c,l);return o}}),tf="matAlgo03xDSf",nf=["typed"],Ne=rr(tf,nf,r=>{var{typed:e}=r;return function(i,t,u,f){var h=i._data,c=i._size,l=i._datatype||i.getDataType(),o=t._values,a=t._index,s=t._ptr,p=t._size,y=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(c.length!==p.length)throw new yr(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],m=c[1],d,w=0,g=u;typeof l=="string"&&l===y&&l!=="mixed"&&(d=l,w=e.convert(0,d),g=e.find(u,[d,d]));for(var F=[],E=0;E<v;E++)F[E]=[];for(var D=[],C=[],b=0;b<m;b++){for(var A=b+1,S=s[b],M=s[b+1],_=S;_<M;_++){var O=a[_];D[O]=f?g(o[_],h[O][b]):g(h[O][b],o[_]),C[O]=A}for(var z=0;z<v;z++)C[z]===A?F[z][b]=D[z]:F[z][b]=f?g(w,h[z][b]):g(h[z][b],w)}return i.createDenseMatrix({data:F,size:[v,m],datatype:l===i._datatype&&y===t._datatype?d:void 0})}}),af="matAlgo05xSfSf",uf=["typed","equalScalar"],of=rr(af,uf,r=>{var{typed:e,equalScalar:n}=r;return function(t,u,f){var h=t._values,c=t._index,l=t._ptr,o=t._size,a=t._datatype||t._data===void 0?t._datatype:t.getDataType(),s=u._values,p=u._index,y=u._ptr,v=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==v.length)throw new yr(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");var d=o[0],w=o[1],g,F=n,E=0,D=f;typeof a=="string"&&a===m&&a!=="mixed"&&(g=a,F=e.find(n,[g,g]),E=e.convert(0,g),D=e.find(f,[g,g]));var C=h&&s?[]:void 0,b=[],A=[],S=C?[]:void 0,M=C?[]:void 0,_=[],O=[],z,I,B,Y;for(I=0;I<w;I++){A[I]=b.length;var q=I+1;for(B=l[I],Y=l[I+1];B<Y;B++)z=c[B],b.push(z),_[z]=q,S&&(S[z]=h[B]);for(B=y[I],Y=y[I+1];B<Y;B++)z=p[B],_[z]!==q&&b.push(z),O[z]=q,M&&(M[z]=s[B]);if(C)for(B=A[I];B<b.length;){z=b[B];var T=_[z],Z=O[z];if(T===q||Z===q){var W=T===q?S[z]:E,U=Z===q?M[z]:E,R=D(W,U);F(R,E)?b.splice(B,1):(C.push(R),B++)}}}return A[w]=b.length,t.createSparseMatrix({values:C,index:b,ptr:A,size:[d,w],datatype:a===t._datatype&&m===u._datatype?g:void 0})}}),sf="matAlgo13xDD",ff=["typed"],cf=rr(sf,ff,r=>{var{typed:e}=r;return function(t,u,f){var h=t._data,c=t._size,l=t._datatype,o=u._data,a=u._size,s=u._datatype,p=[];if(c.length!==a.length)throw new yr(c.length,a.length);for(var y=0;y<c.length;y++){if(c[y]!==a[y])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+a+")");p[y]=c[y]}var v,m=f;typeof l=="string"&&l===s&&(v=l,m=e.find(f,[v,v]));var d=p.length>0?n(m,0,p,p[0],h,o):[];return t.createDenseMatrix({data:d,size:p,datatype:v})};function n(i,t,u,f,h,c){var l=[];if(t===u.length-1)for(var o=0;o<f;o++)l[o]=i(h[o],c[o]);else for(var a=0;a<f;a++)l[a]=n(i,t+1,u,u[t+1],h[a],c[a]);return l}}),lf="broadcast",vf=["concat"],hf=rr(lf,vf,r=>{var{concat:e}=r;return function(t,u){var f=Math.max(t._size.length,u._size.length);if(t._size.length===u._size.length&&t._size.every((y,v)=>y===u._size[v]))return[t,u];for(var h=n(t._size,f,0),c=n(u._size,f,0),l=[],o=0;o<f;o++)l[o]=Math.max(h[o],c[o]);at(h,l),at(c,l);var a=t.clone(),s=u.clone();a._size.length<f?a.reshape(n(a._size,f,1)):s._size.length<f&&s.reshape(n(s._size,f,1));for(var p=0;p<f;p++)a._size[p]<l[p]&&(a=i(a,l[p],p)),s._size[p]<l[p]&&(s=i(s,l[p],p));return[a,s]};function n(t,u,f){return[...Array(u-t.length).fill(f),...t]}function i(t,u,f){return e(...Array(u).fill(t),f)}}),pf="matrixAlgorithmSuite",df=["typed","matrix","concat"],me=rr(pf,df,r=>{var{typed:e,matrix:n,concat:i}=r,t=cf({typed:e}),u=ea({typed:e}),f=hf({concat:i});return function(c){var l=c.elop,o=c.SD||c.DS,a;l?(a={"DenseMatrix, DenseMatrix":(v,m)=>t(...f(v,m),l),"Array, Array":(v,m)=>t(...f(n(v),n(m)),l).valueOf(),"Array, DenseMatrix":(v,m)=>t(...f(n(v),m),l),"DenseMatrix, Array":(v,m)=>t(...f(v,n(m)),l)},c.SS&&(a["SparseMatrix, SparseMatrix"]=(v,m)=>c.SS(...f(v,m),l,!1)),c.DS&&(a["DenseMatrix, SparseMatrix"]=(v,m)=>c.DS(...f(v,m),l,!1),a["Array, SparseMatrix"]=(v,m)=>c.DS(...f(n(v),m),l,!1)),o&&(a["SparseMatrix, DenseMatrix"]=(v,m)=>o(...f(m,v),l,!0),a["SparseMatrix, Array"]=(v,m)=>o(...f(n(m),v),l,!0))):(a={"DenseMatrix, DenseMatrix":e.referToSelf(v=>(m,d)=>t(...f(m,d),v)),"Array, Array":e.referToSelf(v=>(m,d)=>t(...f(n(m),n(d)),v).valueOf()),"Array, DenseMatrix":e.referToSelf(v=>(m,d)=>t(...f(n(m),d),v)),"DenseMatrix, Array":e.referToSelf(v=>(m,d)=>t(...f(m,n(d)),v))},c.SS&&(a["SparseMatrix, SparseMatrix"]=e.referToSelf(v=>(m,d)=>c.SS(...f(m,d),v,!1))),c.DS&&(a["DenseMatrix, SparseMatrix"]=e.referToSelf(v=>(m,d)=>c.DS(...f(m,d),v,!1)),a["Array, SparseMatrix"]=e.referToSelf(v=>(m,d)=>c.DS(...f(n(m),d),v,!1))),o&&(a["SparseMatrix, DenseMatrix"]=e.referToSelf(v=>(m,d)=>o(...f(d,m),v,!0)),a["SparseMatrix, Array"]=e.referToSelf(v=>(m,d)=>o(...f(n(d),m),v,!0))));var s=c.scalar||"any",p=c.Ds||c.Ss;p&&(l?(a["DenseMatrix,"+s]=(v,m)=>u(v,m,l,!1),a[s+", DenseMatrix"]=(v,m)=>u(m,v,l,!0),a["Array,"+s]=(v,m)=>u(n(v),m,l,!1).valueOf(),a[s+", Array"]=(v,m)=>u(n(m),v,l,!0).valueOf()):(a["DenseMatrix,"+s]=e.referToSelf(v=>(m,d)=>u(m,d,v,!1)),a[s+", DenseMatrix"]=e.referToSelf(v=>(m,d)=>u(d,m,v,!0)),a["Array,"+s]=e.referToSelf(v=>(m,d)=>u(n(m),d,v,!1).valueOf()),a[s+", Array"]=e.referToSelf(v=>(m,d)=>u(n(d),m,v,!0).valueOf())));var y=c.sS!==void 0?c.sS:c.Ss;return l?(c.Ss&&(a["SparseMatrix,"+s]=(v,m)=>c.Ss(v,m,l,!1)),y&&(a[s+", SparseMatrix"]=(v,m)=>y(m,v,l,!0))):(c.Ss&&(a["SparseMatrix,"+s]=e.referToSelf(v=>(m,d)=>c.Ss(m,d,v,!1))),y&&(a[s+", SparseMatrix"]=e.referToSelf(v=>(m,d)=>y(d,m,v,!0)))),l&&l.signatures&&Eu(a,l.signatures),a}}),mf="matAlgo01xDSid",Df=["typed"],ta=rr(mf,Df,r=>{var{typed:e}=r;return function(i,t,u,f){var h=i._data,c=i._size,l=i._datatype||i.getDataType(),o=t._values,a=t._index,s=t._ptr,p=t._size,y=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(c.length!==p.length)throw new yr(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],m=c[1],d=typeof l=="string"&&l!=="mixed"&&l===y?l:void 0,w=d?e.find(u,[d,d]):u,g,F,E=[];for(g=0;g<v;g++)E[g]=[];var D=[],C=[];for(F=0;F<m;F++){for(var b=F+1,A=s[F],S=s[F+1],M=A;M<S;M++)g=a[M],D[g]=f?w(o[M],h[g][F]):w(h[g][F],o[M]),C[g]=b;for(g=0;g<v;g++)C[g]===b?E[g][F]=D[g]:E[g][F]=h[g][F]}return i.createDenseMatrix({data:E,size:[v,m],datatype:l===i._datatype&&y===t._datatype?d:void 0})}}),gf="matAlgo04xSidSid",yf=["typed","equalScalar"],wf=rr(gf,yf,r=>{var{typed:e,equalScalar:n}=r;return function(t,u,f){var h=t._values,c=t._index,l=t._ptr,o=t._size,a=t._datatype||t._data===void 0?t._datatype:t.getDataType(),s=u._values,p=u._index,y=u._ptr,v=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==v.length)throw new yr(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");var d=o[0],w=o[1],g,F=n,E=0,D=f;typeof a=="string"&&a===m&&a!=="mixed"&&(g=a,F=e.find(n,[g,g]),E=e.convert(0,g),D=e.find(f,[g,g]));var C=h&&s?[]:void 0,b=[],A=[],S=h&&s?[]:void 0,M=h&&s?[]:void 0,_=[],O=[],z,I,B,Y,q;for(I=0;I<w;I++){A[I]=b.length;var T=I+1;for(Y=l[I],q=l[I+1],B=Y;B<q;B++)z=c[B],b.push(z),_[z]=T,S&&(S[z]=h[B]);for(Y=y[I],q=y[I+1],B=Y;B<q;B++)if(z=p[B],_[z]===T){if(S){var Z=D(S[z],s[B]);F(Z,E)?_[z]=null:S[z]=Z}}else b.push(z),O[z]=T,M&&(M[z]=s[B]);if(S&&M)for(B=A[I];B<b.length;)z=b[B],_[z]===T?(C[B]=S[z],B++):O[z]===T?(C[B]=M[z],B++):b.splice(B,1)}return A[w]=b.length,t.createSparseMatrix({values:C,index:b,ptr:A,size:[d,w],datatype:a===t._datatype&&m===u._datatype?g:void 0})}}),Af="matAlgo10xSids",Ef=["typed","DenseMatrix"],na=rr(Af,Ef,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,u,f,h){var c=t._values,l=t._index,o=t._ptr,a=t._size,s=t._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=a[0],y=a[1],v,m=f;typeof s=="string"&&(v=s,u=e.convert(u,v),m=e.find(f,[v,v]));for(var d=[],w=[],g=[],F=0;F<y;F++){for(var E=F+1,D=o[F],C=o[F+1],b=D;b<C;b++){var A=l[b];w[A]=c[b],g[A]=E}for(var S=0;S<p;S++)F===0&&(d[S]=[]),g[S]===E?d[S][F]=h?m(u,w[S]):m(w[S],u):d[S][F]=u}return new n({data:d,size:[p,y],datatype:v})}}),Ff="multiplyScalar",Cf=["typed"],bf=rr(Ff,Cf,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Ki,"Complex, Complex":function(i,t){return i.mul(t)},"BigNumber, BigNumber":function(i,t){return i.times(t)},"Fraction, Fraction":function(i,t){return i.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,i)=>i.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,i)=>n.multiply(i)})}),Cn="multiply",Mf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Sf=rr(Cn,Mf,r=>{var{typed:e,matrix:n,addScalar:i,multiplyScalar:t,equalScalar:u,dot:f}=r,h=Hs({typed:e,equalScalar:u}),c=ea({typed:e});function l(E,D){switch(E.length){case 1:switch(D.length){case 1:if(E[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(E[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+D[0]+")");break;case 2:if(E[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function o(E,D,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return f(E,D)}function a(E,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return s(E,D)}function s(E,D){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=D._data,M=D._size,_=D._datatype||D.getDataType(),O=b[0],z=M[1],I,B=i,Y=t;A&&_&&A===_&&typeof A=="string"&&A!=="mixed"&&(I=A,B=e.find(i,[I,I]),Y=e.find(t,[I,I]));for(var q=[],T=0;T<z;T++){for(var Z=Y(C[0],S[0][T]),W=1;W<O;W++)Z=B(Z,Y(C[W],S[W][T]));q[T]=Z}return E.createDenseMatrix({data:q,size:[z],datatype:A===E._datatype&&_===D._datatype?I:void 0})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":v,"SparseMatrix, any":w}),y=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":d,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":F});function v(E,D){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=D._data,M=D._datatype||D.getDataType(),_=b[0],O=b[1],z,I=i,B=t;A&&M&&A===M&&typeof A=="string"&&A!=="mixed"&&(z=A,I=e.find(i,[z,z]),B=e.find(t,[z,z]));for(var Y=[],q=0;q<_;q++){for(var T=C[q],Z=B(T[0],S[0]),W=1;W<O;W++)Z=I(Z,B(T[W],S[W]));Y[q]=Z}return E.createDenseMatrix({data:Y,size:[_],datatype:A===E._datatype&&M===D._datatype?z:void 0})}function m(E,D){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=D._data,M=D._size,_=D._datatype||D.getDataType(),O=b[0],z=b[1],I=M[1],B,Y=i,q=t;A&&_&&A===_&&typeof A=="string"&&A!=="mixed"&&A!=="mixed"&&(B=A,Y=e.find(i,[B,B]),q=e.find(t,[B,B]));for(var T=[],Z=0;Z<O;Z++){var W=C[Z];T[Z]=[];for(var U=0;U<I;U++){for(var R=q(W[0],S[0][U]),V=1;V<z;V++)R=Y(R,q(W[V],S[V][U]));T[Z][U]=R}}return E.createDenseMatrix({data:T,size:[O,I],datatype:A===E._datatype&&_===D._datatype?B:void 0})}function d(E,D){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=D._values,M=D._index,_=D._ptr,O=D._size,z=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=b[0],B=O[1],Y,q=i,T=t,Z=u,W=0;A&&z&&A===z&&typeof A=="string"&&A!=="mixed"&&(Y=A,q=e.find(i,[Y,Y]),T=e.find(t,[Y,Y]),Z=e.find(u,[Y,Y]),W=e.convert(0,Y));for(var U=[],R=[],V=[],nr=D.createSparseMatrix({values:U,index:R,ptr:V,size:[I,B],datatype:A===E._datatype&&z===D._datatype?Y:void 0}),k=0;k<B;k++){V[k]=R.length;var L=_[k],X=_[k+1];if(X>L)for(var K=0,G=0;G<I;G++){for(var ur=G+1,j=void 0,or=L;or<X;or++){var fr=M[or];K!==ur?(j=T(C[G][fr],S[or]),K=ur):j=q(j,T(C[G][fr],S[or]))}K===ur&&!Z(j,W)&&(R.push(G),U.push(j))}}return V[B]=R.length,nr}function w(E,D){var C=E._values,b=E._index,A=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=D._data,_=D._datatype||D.getDataType(),O=E._size[0],z=D._size[0],I=[],B=[],Y=[],q,T=i,Z=t,W=u,U=0;S&&_&&S===_&&typeof S=="string"&&S!=="mixed"&&(q=S,T=e.find(i,[q,q]),Z=e.find(t,[q,q]),W=e.find(u,[q,q]),U=e.convert(0,q));var R=[],V=[];Y[0]=0;for(var nr=0;nr<z;nr++){var k=M[nr];if(!W(k,U))for(var L=A[nr],X=A[nr+1],K=L;K<X;K++){var G=b[K];V[G]?R[G]=T(R[G],Z(k,C[K])):(V[G]=!0,B.push(G),R[G]=Z(k,C[K]))}}for(var ur=B.length,j=0;j<ur;j++){var or=B[j];I[j]=R[or]}return Y[1]=B.length,E.createSparseMatrix({values:I,index:B,ptr:Y,size:[O,1],datatype:S===E._datatype&&_===D._datatype?q:void 0})}function g(E,D){var C=E._values,b=E._index,A=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=D._data,_=D._datatype||D.getDataType(),O=E._size[0],z=D._size[0],I=D._size[1],B,Y=i,q=t,T=u,Z=0;S&&_&&S===_&&typeof S=="string"&&S!=="mixed"&&(B=S,Y=e.find(i,[B,B]),q=e.find(t,[B,B]),T=e.find(u,[B,B]),Z=e.convert(0,B));for(var W=[],U=[],R=[],V=E.createSparseMatrix({values:W,index:U,ptr:R,size:[O,I],datatype:S===E._datatype&&_===D._datatype?B:void 0}),nr=[],k=[],L=0;L<I;L++){R[L]=U.length;for(var X=L+1,K=0;K<z;K++){var G=M[K][L];if(!T(G,Z))for(var ur=A[K],j=A[K+1],or=ur;or<j;or++){var fr=b[or];k[fr]!==X?(k[fr]=X,U.push(fr),nr[fr]=q(G,C[or])):nr[fr]=Y(nr[fr],q(G,C[or]))}}for(var hr=R[L],dr=U.length,mr=hr;mr<dr;mr++){var cr=U[mr];W[mr]=nr[cr]}}return R[I]=U.length,V}function F(E,D){var C=E._values,b=E._index,A=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType(),M=D._values,_=D._index,O=D._ptr,z=D._datatype||D._data===void 0?D._datatype:D.getDataType(),I=E._size[0],B=D._size[1],Y=C&&M,q,T=i,Z=t;S&&z&&S===z&&typeof S=="string"&&S!=="mixed"&&(q=S,T=e.find(i,[q,q]),Z=e.find(t,[q,q]));for(var W=Y?[]:void 0,U=[],R=[],V=E.createSparseMatrix({values:W,index:U,ptr:R,size:[I,B],datatype:S===E._datatype&&z===D._datatype?q:void 0}),nr=Y?[]:void 0,k=[],L,X,K,G,ur,j,or,fr,hr=0;hr<B;hr++){R[hr]=U.length;var dr=hr+1;for(ur=O[hr],j=O[hr+1],G=ur;G<j;G++)if(fr=_[G],Y)for(X=A[fr],K=A[fr+1],L=X;L<K;L++)or=b[L],k[or]!==dr?(k[or]=dr,U.push(or),nr[or]=Z(M[G],C[L])):nr[or]=T(nr[or],Z(M[G],C[L]));else for(X=A[fr],K=A[fr+1],L=X;L<K;L++)or=b[L],k[or]!==dr&&(k[or]=dr,U.push(or));if(Y)for(var mr=R[hr],cr=U.length,wr=mr;wr<cr;wr++){var gr=U[wr];W[wr]=nr[gr]}}return R[B]=U.length,V}return e(Cn,t,{"Array, Array":e.referTo("Matrix, Matrix",E=>(D,C)=>{l(Tr(D),Tr(C));var b=E(n(D),n(C));return Sr(b)?b.valueOf():b}),"Matrix, Matrix":function(D,C){var b=D.size(),A=C.size();return l(b,A),b.length===1?A.length===1?o(D,C,b[0]):a(D,C):A.length===1?p(D,C):y(D,C)},"Matrix, Array":e.referTo("Matrix,Matrix",E=>(D,C)=>E(D,n(C))),"Array, Matrix":e.referToSelf(E=>(D,C)=>E(n(D,C.storage()),C)),"SparseMatrix, any":function(D,C){return h(D,C,t,!1)},"DenseMatrix, any":function(D,C){return c(D,C,t,!1)},"any, SparseMatrix":function(D,C){return h(C,D,t,!0)},"any, DenseMatrix":function(D,C){return c(C,D,t,!0)},"Array, any":function(D,C){return c(n(D),C,t,!1).valueOf()},"any, Array":function(D,C){return c(n(C),D,t,!0).valueOf()},"any, any":t,"any, any, ...any":e.referToSelf(E=>(D,C,b)=>{for(var A=E(D,C),S=0;S<b.length;S++)A=E(A,b[S]);return A})})}),bn="sign",_f=["typed","BigNumber","Fraction","complex"],Nf=rr(bn,_f,r=>{var{typed:e,BigNumber:n,complex:i,Fraction:t}=r;return e(bn,{number:It,Complex:function(f){return f.im===0?i(It(f.re)):f.sign()},BigNumber:function(f){return new n(f.cmp(0))},Fraction:function(f){return new t(f.s,1)},"Array | Matrix":e.referToSelf(u=>f=>Qr(f,u)),Unit:e.referToSelf(u=>f=>{if(!f._isDerived()&&f.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(u,f.valueType())(f.value)})})}),Bf="sqrt",xf=["config","typed","Complex"],Tf=rr(Bf,xf,r=>{var{config:e,typed:n,Complex:i}=r;return n("sqrt",{number:t,Complex:function(f){return f.sqrt()},BigNumber:function(f){return!f.isNegative()||e.predictable?f.sqrt():t(f.toNumber())},Unit:function(f){return f.pow(.5)}});function t(u){return isNaN(u)?NaN:u>=0||e.predictable?Math.sqrt(u):new i(u,0).sqrt()}}),Mn="subtract",zf=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Of=rr(Mn,zf,r=>{var{typed:e,matrix:n,equalScalar:i,subtractScalar:t,unaryMinus:u,DenseMatrix:f,concat:h}=r,c=ta({typed:e}),l=Ne({typed:e}),o=of({typed:e,equalScalar:i}),a=na({typed:e,DenseMatrix:f}),s=_e({typed:e,DenseMatrix:f}),p=me({typed:e,matrix:n,concat:h});return e(Mn,{"any, any":t},p({elop:t,SS:o,DS:c,SD:l,Ss:s,sS:a}))}),If="matAlgo07xSSf",$f=["typed","DenseMatrix"],Ue=rr(If,$f,r=>{var{typed:e,DenseMatrix:n}=r;return function(u,f,h){var c=u._size,l=u._datatype||u._data===void 0?u._datatype:u.getDataType(),o=f._size,a=f._datatype||f._data===void 0?f._datatype:f.getDataType();if(c.length!==o.length)throw new yr(c.length,o.length);if(c[0]!==o[0]||c[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+o+")");var s=c[0],p=c[1],y,v=0,m=h;typeof l=="string"&&l===a&&l!=="mixed"&&(y=l,v=e.convert(0,y),m=e.find(h,[y,y]));var d,w,g=[];for(d=0;d<s;d++)g[d]=[];var F=[],E=[],D=[],C=[];for(w=0;w<p;w++){var b=w+1;for(i(u,w,D,F,b),i(f,w,C,E,b),d=0;d<s;d++){var A=D[d]===b?F[d]:v,S=C[d]===b?E[d]:v;g[d][w]=m(A,S)}}return new n({data:g,size:[s,p],datatype:l===u._datatype&&a===f._datatype?y:void 0})};function i(t,u,f,h,c){for(var l=t._values,o=t._index,a=t._ptr,s=a[u],p=a[u+1];s<p;s++){var y=o[s];f[y]=c,h[y]=l[s]}}}),Sn="conj",qf=["typed"],Pf=rr(Sn,qf,r=>{var{typed:e}=r;return e(Sn,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),_n="im",Rf=["typed"],Uf=rr(_n,Rf,r=>{var{typed:e}=r;return e(_n,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),Nn="re",Lf=["typed"],Zf=rr(Nn,Lf,r=>{var{typed:e}=r;return e(Nn,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":e.referToSelf(n=>i=>Qr(i,n))})}),Bn="concat",Vf=["typed","matrix","isInteger"],Yf=rr(Bn,Vf,r=>{var{typed:e,matrix:n,isInteger:i}=r;return e(Bn,{"...Array | Matrix | number | BigNumber":function(u){var f,h=u.length,c=-1,l,o=!1,a=[];for(f=0;f<h;f++){var s=u[f];if(Sr(s)&&(o=!0),_r(s)||Or(s)){if(f!==h-1)throw new Error("Dimension must be specified as last argument");if(l=c,c=s.valueOf(),!i(c))throw new TypeError("Integer number expected for dimension");if(c<0||f>0&&c>l)throw new de(c,l+1)}else{var p=Ar(s).valueOf(),y=Tr(p);if(a[f]=p,l=c,c=y.length-1,f>0&&c!==l)throw new yr(l+1,c+1)}}if(a.length===0)throw new SyntaxError("At least one matrix expected");for(var v=a.shift();a.length;)v=Yi(v,a.shift(),c);return o?n(v):v},"...string":function(u){return u.join("")}})}),xn="column",Jf=["typed","Index","matrix","range"],Gf=rr(xn,Jf,r=>{var{typed:e,Index:n,matrix:i,range:t}=r;return e(xn,{"Matrix, number":u,"Array, number":function(h,c){return u(i(Ar(h)),c).valueOf()}});function u(f,h){if(f.size().length!==2)throw new Error("Only two dimensional matrix is supported");Mr(h,f.size()[1]);var c=t(0,f.size()[0]),l=new n(c,h),o=f.subset(l);return Sr(o)?o:i([[o]])}}),Tn="diag",Qf=["typed","matrix","DenseMatrix","SparseMatrix"],Xf=rr(Tn,Qf,r=>{var{typed:e,matrix:n,DenseMatrix:i,SparseMatrix:t}=r;return e(Tn,{Array:function(l){return u(l,0,Tr(l),null)},"Array, number":function(l,o){return u(l,o,Tr(l),null)},"Array, BigNumber":function(l,o){return u(l,o.toNumber(),Tr(l),null)},"Array, string":function(l,o){return u(l,0,Tr(l),o)},"Array, number, string":function(l,o,a){return u(l,o,Tr(l),a)},"Array, BigNumber, string":function(l,o,a){return u(l,o.toNumber(),Tr(l),a)},Matrix:function(l){return u(l,0,l.size(),l.storage())},"Matrix, number":function(l,o){return u(l,o,l.size(),l.storage())},"Matrix, BigNumber":function(l,o){return u(l,o.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,o){return u(l,0,l.size(),o)},"Matrix, number, string":function(l,o,a){return u(l,o,l.size(),a)},"Matrix, BigNumber, string":function(l,o,a){return u(l,o.toNumber(),l.size(),a)}});function u(c,l,o,a){if(!Nr(l))throw new TypeError("Second parameter in function diag must be an integer");var s=l>0?l:0,p=l<0?-l:0;switch(o.length){case 1:return f(c,l,a,o[0],p,s);case 2:return h(c,l,a,o,p,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function f(c,l,o,a,s,p){var y=[a+s,a+p];if(o&&o!=="sparse"&&o!=="dense")throw new TypeError("Unknown matrix type ".concat(o,'"'));var v=o==="sparse"?t.diagonal(y,c,l):i.diagonal(y,c,l);return o!==null?v:v.valueOf()}function h(c,l,o,a,s,p){if(Sr(c)){var y=c.diagonal(l);return o!==null?o!==y.storage()?n(y,o):y:y.valueOf()}for(var v=Math.min(a[0]-s,a[1]-p),m=[],d=0;d<v;d++)m[d]=c[d+s][d+p];return o!==null?n(m):m}}),zn="flatten",Kf=["typed","matrix"],Wf=rr(zn,Kf,r=>{var{typed:e,matrix:n}=r;return e(zn,{Array:function(t){return Ot(t)},Matrix:function(t){var u=Ot(t.toArray());return n(u)}})}),On="getMatrixDataType",Hf=["typed"],kf=rr(On,Hf,r=>{var{typed:e}=r;return e(On,{Array:function(i){return qe(i,ae)},Matrix:function(i){return i.getDataType()}})}),In="identity",jf=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],r0=rr(In,jf,r=>{var{typed:e,config:n,matrix:i,BigNumber:t,DenseMatrix:u,SparseMatrix:f}=r;return e(In,{"":function(){return n.matrix==="Matrix"?i([]):[]},string:function(o){return i(o)},"number | BigNumber":function(o){return c(o,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,a){return c(o,o,a)},"number | BigNumber, number | BigNumber":function(o,a){return c(o,a,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,a,s){return c(o,a,s)},Array:function(o){return h(o)},"Array, string":function(o,a){return h(o,a)},Matrix:function(o){return h(o.valueOf(),o.storage())},"Matrix, string":function(o,a){return h(o.valueOf(),a)}});function h(l,o){switch(l.length){case 0:return o?i(o):[];case 1:return c(l[0],l[0],o);case 2:return c(l[0],l[1],o);default:throw new Error("Vector containing two values expected")}}function c(l,o,a){var s=Or(l)||Or(o)?t:null;if(Or(l)&&(l=l.toNumber()),Or(o)&&(o=o.toNumber()),!Nr(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Nr(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var p=s?new t(1):1,y=s?new s(0):0,v=[l,o];if(a){if(a==="sparse")return f.diagonal(v,p,0,y);if(a==="dense")return u.diagonal(v,p,0,y);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var m=it([],v,y),d=l<o?l:o,w=0;w<d;w++)m[w][w]=p;return m}}),$n="kron",e0=["typed","matrix","multiplyScalar"],t0=rr($n,e0,r=>{var{typed:e,matrix:n,multiplyScalar:i}=r;return e($n,{"Matrix, Matrix":function(f,h){return n(t(f.toArray(),h.toArray()))},"Matrix, Array":function(f,h){return n(t(f.toArray(),h))},"Array, Matrix":function(f,h){return n(t(f,h.toArray()))},"Array, Array":t});function t(u,f){if(Tr(u).length===1&&(u=[u]),Tr(f).length===1&&(f=[f]),Tr(u).length>2||Tr(f).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(u.length)+", y = "+JSON.stringify(f.length)+")");var h=[],c=[];return u.map(function(l){return f.map(function(o){return c=[],h.push(c),l.map(function(a){return o.map(function(s){return c.push(i(a,s))})})})})&&h}});function ia(){throw new Error('No "bignumber" implementation available')}function n0(){throw new Error('No "fraction" implementation available')}function aa(){throw new Error('No "matrix" implementation available')}var qn="range",i0=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],a0=rr(qn,i0,r=>{var{typed:e,config:n,matrix:i,bignumber:t,smaller:u,smallerEq:f,larger:h,largerEq:c,add:l,isPositive:o}=r;return e(qn,{string:s,"string, boolean":s,"number, number":function(m,d){return a(p(m,d,1,!1))},"number, number, number":function(m,d,w){return a(p(m,d,w,!1))},"number, number, boolean":function(m,d,w){return a(p(m,d,1,w))},"number, number, number, boolean":function(m,d,w,g){return a(p(m,d,w,g))},"BigNumber, BigNumber":function(m,d){var w=m.constructor;return a(p(m,d,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,d,w){return a(p(m,d,w,!1))},"BigNumber, BigNumber, boolean":function(m,d,w){var g=m.constructor;return a(p(m,d,new g(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(m,d,w,g){return a(p(m,d,w,g))},"Unit, Unit, Unit":function(m,d,w){return a(p(m,d,w,!1))},"Unit, Unit, Unit, boolean":function(m,d,w,g){return a(p(m,d,w,g))}});function a(v){return n.matrix==="Matrix"?i?i(v):aa():v}function s(v,m){var d=y(v);if(!d)throw new SyntaxError('String "'+v+'" is no valid range');return n.number==="BigNumber"?(t===void 0&&ia(),a(p(t(d.start),t(d.end),t(d.step)))):a(p(d.start,d.end,d.step,m))}function p(v,m,d,w){for(var g=[],F=o(d)?w?f:u:w?c:h,E=v;F(E,m);)g.push(E),E=l(E,d);return g}function y(v){var m=v.split(":"),d=m.map(function(g){return Number(g)}),w=d.some(function(g){return isNaN(g)});if(w)return null;switch(d.length){case 2:return{start:d[0],end:d[1],step:1};case 3:return{start:d[0],end:d[2],step:d[1]};default:return null}}}),Pn="reshape",u0=["typed","isInteger","matrix"],o0=rr(Pn,u0,r=>{var{typed:e,isInteger:n}=r;return e(Pn,{"Matrix, Array":function(t,u){return t.reshape(u,!0)},"Array, Array":function(t,u){return u.forEach(function(f){if(!n(f))throw new TypeError("Invalid size for dimension: "+f)}),Lt(t,u)}})}),Rn="size",s0=["typed","config","?matrix"],f0=rr(Rn,s0,r=>{var{typed:e,config:n,matrix:i}=r;return e(Rn,{Matrix:function(u){return u.create(u.size())},Array:Tr,string:function(u){return n.matrix==="Array"?[u.length]:i([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return n.matrix==="Array"?[]:i?i([]):aa()}})}),Un="subset",c0=["typed","matrix","zeros","add"],l0=rr(Un,c0,r=>{var{typed:e,matrix:n,zeros:i,add:t}=r;return e(Un,{"Matrix, Index":function(h,c){return Se(c)?n():(nt(h,c),h.subset(c))},"Array, Index":e.referTo("Matrix, Index",function(f){return function(h,c){var l=f(n(h),c);return c.isScalar()?l:l.valueOf()}}),"Object, Index":h0,"string, Index":v0,"Matrix, Index, any, any":function(h,c,l,o){return Se(c)?h:(nt(h,c),h.clone().subset(c,u(l,c),o))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(f){return function(h,c,l,o){var a=f(n(h),c,l,o);return a.isMatrix?a.valueOf():a}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(f){return function(h,c,l){return f(n(h),c,l,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(f){return function(h,c,l){return f(h,c,l,void 0)}}),"string, Index, string":Ln,"string, Index, string, string":Ln,"Object, Index, any":p0});function u(f,h){if(typeof f=="string")throw new Error("can't boradcast a string");if(h._isScalar)return f;var c=h.size();if(c.every(l=>l>0))try{return t(f,i(c))}catch{return f}else return f}});function v0(r,e){if(!vt(e))throw new TypeError("Index expected");if(Se(e))return"";if(nt(Array.from(r),e),e.size().length!==1)throw new yr(e.size().length,1);var n=r.length;Mr(e.min()[0],n),Mr(e.max()[0],n);var i=e.dimension(0),t="";return i.forEach(function(u){t+=r.charAt(u)}),t}function Ln(r,e,n,i){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Se(e))return r;if(nt(Array.from(r),e),e.size().length!==1)throw new yr(e.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var t=e.dimension(0),u=t.size()[0];if(u!==n.length)throw new yr(t.size()[0],n.length);var f=r.length;Mr(e.min()[0]),Mr(e.max()[0]);for(var h=[],c=0;c<f;c++)h[c]=r.charAt(c);if(t.forEach(function(a,s){h[a]=n.charAt(s[0])}),h.length>f)for(var l=f-1,o=h.length;l<o;l++)h[l]||(h[l]=i);return h.join("")}function h0(r,e){if(!Se(e)){if(e.size().length!==1)throw new yr(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return yi(r,n)}}function p0(r,e,n){if(Se(e))return r;if(e.size().length!==1)throw new yr(e.size(),1);var i=e.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var t=Ar(r);return wi(t,i,n),t}var Zn="transpose",d0=["typed","matrix"],m0=rr(Zn,d0,r=>{var{typed:e,matrix:n}=r;return e(Zn,{Array:f=>i(n(f)).valueOf(),Matrix:i,any:Ar});function i(f){var h=f.size(),c;switch(h.length){case 1:c=f.clone();break;case 2:{var l=h[0],o=h[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+zr(h)+")");switch(f.storage()){case"dense":c=t(f,l,o);break;case"sparse":c=u(f,l,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+zr(h)+")")}return c}function t(f,h,c){for(var l=f._data,o=[],a,s=0;s<c;s++){a=o[s]=[];for(var p=0;p<h;p++)a[p]=Ar(l[p][s])}return f.createDenseMatrix({data:o,size:[c,h],datatype:f._datatype})}function u(f,h,c){for(var l=f._values,o=f._index,a=f._ptr,s=l?[]:void 0,p=[],y=[],v=[],m=0;m<h;m++)v[m]=0;var d,w,g;for(d=0,w=o.length;d<w;d++)v[o[d]]++;for(var F=0,E=0;E<h;E++)y.push(F),F+=v[E],v[E]=y[E];for(y.push(F),g=0;g<c;g++)for(var D=a[g],C=a[g+1],b=D;b<C;b++){var A=v[o[b]]++;p[A]=g,l&&(s[A]=Ar(l[b]))}return f.createSparseMatrix({values:s,index:p,ptr:y,size:[c,h],datatype:f._datatype})}}),Vn="ctranspose",D0=["typed","transpose","conj"],g0=rr(Vn,D0,r=>{var{typed:e,transpose:n,conj:i}=r;return e(Vn,{any:function(u){return i(n(u))}})}),Yn="zeros",y0=["typed","config","matrix","BigNumber"],w0=rr(Yn,y0,r=>{var{typed:e,config:n,matrix:i,BigNumber:t}=r;return e(Yn,{"":function(){return n.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(l){var o=l[l.length-1];if(typeof o=="string"){var a=l.pop();return u(l,a)}else return n.matrix==="Array"?u(l):u(l,"default")},Array:u,Matrix:function(l){var o=l.storage();return u(l.valueOf(),o)},"Array | Matrix, string":function(l,o){return u(l.valueOf(),o)}});function u(c,l){var o=f(c),a=o?new t(0):0;if(h(c),l){var s=i(l);return c.length>0?s.resize(c,a):s}else{var p=[];return c.length>0?it(p,c,a):p}}function f(c){var l=!1;return c.forEach(function(o,a,s){Or(o)&&(l=!0,s[a]=o.toNumber())}),l}function h(c){c.forEach(function(l){if(typeof l!="number"||!Nr(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}}),A0="numeric",E0=["number","?bignumber","?fraction"],F0=rr(A0,E0,r=>{var{number:e,bignumber:n,fraction:i}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:f=>e(f),BigNumber:n?f=>n(f):ia,Fraction:i?f=>i(f):n0};return function(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=ae(h);if(!(o in t))throw new TypeError("Cannot convert "+h+' of type "'+o+'"; valid input types are '+Object.keys(t).join(", "));if(!(c in u))throw new TypeError("Cannot convert "+h+' to type "'+c+'"; valid output types are '+Object.keys(u).join(", "));return c===o?h:u[c](h)}}),Jn="divideScalar",C0=["typed","numeric"],b0=rr(Jn,C0,r=>{var{typed:e,numeric:n}=r;return e(Jn,{"number, number":function(t,u){return t/u},"Complex, Complex":function(t,u){return t.div(u)},"BigNumber, BigNumber":function(t,u){return t.div(u)},"Fraction, Fraction":function(t,u){return t.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,t)=>i.divide(t),"number | Fraction | Complex | BigNumber, Unit":(i,t)=>t.divideInto(i)})}),Gn="pow",M0=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],S0=rr(Gn,M0,r=>{var{typed:e,config:n,identity:i,multiply:t,matrix:u,inv:f,number:h,fraction:c,Complex:l}=r;return e(Gn,{"number, number":o,"Complex, Complex":function(y,v){return y.pow(v)},"BigNumber, BigNumber":function(y,v){return v.isInteger()||y>=0||n.predictable?y.pow(v):new l(y.toNumber(),0).pow(v.toNumber(),0)},"Fraction, Fraction":function(y,v){var m=y.pow(v);if(m!=null)return m;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(y.valueOf(),v.valueOf())},"Array, number":a,"Array, BigNumber":function(y,v){return a(y,v.toNumber())},"Matrix, number":s,"Matrix, BigNumber":function(y,v){return s(y,v.toNumber())},"Unit, number | BigNumber":function(y,v){return y.pow(v)}});function o(p,y){if(n.predictable&&!Nr(y)&&p<0)try{var v=c(y),m=h(v);if((y===m||Math.abs((y-m)/y)<1e-14)&&v.d%2===1)return(v.n%2===0?1:-1)*Math.pow(-p,y)}catch{}return n.predictable&&(p<-1&&y===1/0||p>-1&&p<0&&y===-1/0)?NaN:Nr(y)||p>=0||n.predictable?Hi(p,y):p*p<1&&y===1/0||p*p>1&&y===-1/0?0:new l(p,0).pow(y,0)}function a(p,y){if(!Nr(y))throw new TypeError("For A^b, b must be an integer (value is "+y+")");var v=Tr(p);if(v.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+v.length+" dimensions)");if(v[0]!==v[1])throw new Error("For A^b, A must be square (size is "+v[0]+"x"+v[1]+")");if(y<0)try{return a(f(p),-y)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+y+")"):w}for(var m=i(v[0]).valueOf(),d=p;y>=1;)(y&1)===1&&(m=t(d,m)),y>>=1,d=t(d,d);return m}function s(p,y){return u(a(p.valueOf(),y))}});function yt(r){var{DenseMatrix:e}=r;return function(i,t,u){var f=i.size();if(f.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+zr(f)+")");var h=f[0],c=f[1];if(h!==c)throw new RangeError("Matrix must be square (size: "+zr(f)+")");var l=[];if(Sr(t)){var o=t.size(),a=t._data;if(o.length===1){if(o[0]!==h)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var s=0;s<h;s++)l[s]=[a[s]];return new e({data:l,size:[h,1],datatype:t._datatype})}if(o.length===2){if(o[0]!==h||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(hi(t)){if(u){l=[];for(var p=0;p<h;p++)l[p]=[a[p][0]];return new e({data:l,size:[h,1],datatype:t._datatype})}return t}if(pi(t)){for(var y=0;y<h;y++)l[y]=[0];for(var v=t._values,m=t._index,d=t._ptr,w=d[1],g=d[0];g<w;g++){var F=m[g];l[F][0]=v[g]}return new e({data:l,size:[h,1],datatype:t._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Er(t)){var E=Tr(t);if(E.length===1){if(E[0]!==h)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<h;D++)l[D]=[t[D]];return new e({data:l,size:[h,1]})}if(E.length===2){if(E[0]!==h||E[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<h;C++)l[C]=[t[C][0]];return new e({data:l,size:[h,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Qn="lsolve",_0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],N0=rr(Qn,_0,r=>{var{typed:e,matrix:n,divideScalar:i,multiplyScalar:t,subtractScalar:u,equalScalar:f,DenseMatrix:h}=r,c=yt({DenseMatrix:h});return e(Qn,{"SparseMatrix, Array | Matrix":function(s,p){return o(s,p)},"DenseMatrix, Array | Matrix":function(s,p){return l(s,p)},"Array, Array | Matrix":function(s,p){var y=n(s),v=l(y,p);return v.valueOf()}});function l(a,s){s=c(a,s,!0);for(var p=s._data,y=a._size[0],v=a._size[1],m=[],d=a._data,w=0;w<v;w++){var g=p[w][0]||0,F=void 0;if(f(g,0))F=0;else{var E=d[w][w];if(f(E,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(g,E);for(var D=w+1;D<y;D++)p[D]=[u(p[D][0]||0,t(F,d[D][w]))]}m[w]=[F]}return new h({data:m,size:[y,1]})}function o(a,s){s=c(a,s,!0);for(var p=s._data,y=a._size[0],v=a._size[1],m=a._values,d=a._index,w=a._ptr,g=[],F=0;F<v;F++){var E=p[F][0]||0;if(f(E,0))g[F]=[0];else{for(var D=0,C=[],b=[],A=w[F],S=w[F+1],M=A;M<S;M++){var _=d[M];_===F?D=m[M]:_>F&&(C.push(m[M]),b.push(_))}if(f(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(E,D),z=0,I=b.length;z<I;z++){var B=b[z];p[B]=[u(p[B][0]||0,t(O,C[z]))]}g[F]=[O]}}return new h({data:g,size:[y,1]})}}),Xn="usolve",B0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],x0=rr(Xn,B0,r=>{var{typed:e,matrix:n,divideScalar:i,multiplyScalar:t,subtractScalar:u,equalScalar:f,DenseMatrix:h}=r,c=yt({DenseMatrix:h});return e(Xn,{"SparseMatrix, Array | Matrix":function(s,p){return o(s,p)},"DenseMatrix, Array | Matrix":function(s,p){return l(s,p)},"Array, Array | Matrix":function(s,p){var y=n(s),v=l(y,p);return v.valueOf()}});function l(a,s){s=c(a,s,!0);for(var p=s._data,y=a._size[0],v=a._size[1],m=[],d=a._data,w=v-1;w>=0;w--){var g=p[w][0]||0,F=void 0;if(f(g,0))F=0;else{var E=d[w][w];if(f(E,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(g,E);for(var D=w-1;D>=0;D--)p[D]=[u(p[D][0]||0,t(F,d[D][w]))]}m[w]=[F]}return new h({data:m,size:[y,1]})}function o(a,s){s=c(a,s,!0);for(var p=s._data,y=a._size[0],v=a._size[1],m=a._values,d=a._index,w=a._ptr,g=[],F=v-1;F>=0;F--){var E=p[F][0]||0;if(f(E,0))g[F]=[0];else{for(var D=0,C=[],b=[],A=w[F],S=w[F+1],M=S-1;M>=A;M--){var _=d[M];_===F?D=m[M]:_<F&&(C.push(m[M]),b.push(_))}if(f(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(E,D),z=0,I=b.length;z<I;z++){var B=b[z];p[B]=[u(p[B][0],t(O,C[z]))]}g[F]=[O]}}return new h({data:g,size:[y,1]})}}),Kn="usolveAll",T0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],z0=rr(Kn,T0,r=>{var{typed:e,matrix:n,divideScalar:i,multiplyScalar:t,subtractScalar:u,equalScalar:f,DenseMatrix:h}=r,c=yt({DenseMatrix:h});return e(Kn,{"SparseMatrix, Array | Matrix":function(s,p){return o(s,p)},"DenseMatrix, Array | Matrix":function(s,p){return l(s,p)},"Array, Array | Matrix":function(s,p){var y=n(s),v=l(y,p);return v.map(m=>m.valueOf())}});function l(a,s){for(var p=[c(a,s,!0)._data.map(b=>b[0])],y=a._data,v=a._size[0],m=a._size[1],d=m-1;d>=0;d--)for(var w=p.length,g=0;g<w;g++){var F=p[g];if(f(y[d][d],0))if(f(F[d],0)){if(g===0){var D=[...F];D[d]=1;for(var C=d-1;C>=0;C--)D[C]=u(D[C],y[C][d]);p.push(D)}}else{if(g===0)return[];p.splice(g,1),g-=1,w-=1}else{F[d]=i(F[d],y[d][d]);for(var E=d-1;E>=0;E--)F[E]=u(F[E],t(F[d],y[E][d]))}}return p.map(b=>new h({data:b.map(A=>[A]),size:[v,1]}))}function o(a,s){for(var p=[c(a,s,!0)._data.map(W=>W[0])],y=a._size[0],v=a._size[1],m=a._values,d=a._index,w=a._ptr,g=v-1;g>=0;g--)for(var F=p.length,E=0;E<F;E++){for(var D=p[E],C=[],b=[],A=w[g],S=w[g+1],M=0,_=S-1;_>=A;_--){var O=d[_];O===g?M=m[_]:O<g&&(C.push(m[_]),b.push(O))}if(f(M,0))if(f(D[g],0)){if(E===0){var Y=[...D];Y[g]=1;for(var q=0,T=b.length;q<T;q++){var Z=b[q];Y[Z]=u(Y[Z],C[q])}p.push(Y)}}else{if(E===0)return[];p.splice(E,1),E-=1,F-=1}else{D[g]=i(D[g],M);for(var z=0,I=b.length;z<I;z++){var B=b[z];D[B]=u(D[B],t(D[g],C[z]))}}}return p.map(W=>new h({data:W.map(U=>[U]),size:[y,1]}))}}),ot="equal",O0=["typed","matrix","equalScalar","DenseMatrix","concat"],I0=rr(ot,O0,r=>{var{typed:e,matrix:n,equalScalar:i,DenseMatrix:t,concat:u}=r,f=Ne({typed:e}),h=Ue({typed:e,DenseMatrix:t}),c=_e({typed:e,DenseMatrix:t}),l=me({typed:e,matrix:n,concat:u});return e(ot,$0({typed:e,equalScalar:i}),l({elop:i,SS:h,DS:f,Ss:c}))}),$0=rr(ot,["typed","equalScalar"],r=>{var{typed:e,equalScalar:n}=r;return e(ot,{"any, any":function(t,u){return t===null?u===null:u===null?t===null:t===void 0?u===void 0:u===void 0?t===void 0:n(t,u)}})}),st="smaller",q0=["typed","config","matrix","DenseMatrix","concat"],P0=rr(st,q0,r=>{var{typed:e,config:n,matrix:i,DenseMatrix:t,concat:u}=r,f=Ne({typed:e}),h=Ue({typed:e,DenseMatrix:t}),c=_e({typed:e,DenseMatrix:t}),l=me({typed:e,matrix:i,concat:u}),o=Re({typed:e});return e(st,R0({typed:e,config:n}),{"boolean, boolean":(a,s)=>a<s,"BigNumber, BigNumber":function(s,p){return s.lt(p)&&!Pe(s,p,n.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)===-1,"Complex, Complex":function(s,p){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:h,DS:f,Ss:c}))}),R0=rr(st,["typed","config"],r=>{var{typed:e,config:n}=r;return e(st,{"number, number":function(t,u){return t<u&&!le(t,u,n.epsilon)}})}),ft="smallerEq",U0=["typed","config","matrix","DenseMatrix","concat"],L0=rr(ft,U0,r=>{var{typed:e,config:n,matrix:i,DenseMatrix:t,concat:u}=r,f=Ne({typed:e}),h=Ue({typed:e,DenseMatrix:t}),c=_e({typed:e,DenseMatrix:t}),l=me({typed:e,matrix:i,concat:u}),o=Re({typed:e});return e(ft,Z0({typed:e,config:n}),{"boolean, boolean":(a,s)=>a<=s,"BigNumber, BigNumber":function(s,p){return s.lte(p)||Pe(s,p,n.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:h,DS:f,Ss:c}))}),Z0=rr(ft,["typed","config"],r=>{var{typed:e,config:n}=r;return e(ft,{"number, number":function(t,u){return t<=u||le(t,u,n.epsilon)}})}),ct="larger",V0=["typed","config","matrix","DenseMatrix","concat"],Y0=rr(ct,V0,r=>{var{typed:e,config:n,matrix:i,DenseMatrix:t,concat:u}=r,f=Ne({typed:e}),h=Ue({typed:e,DenseMatrix:t}),c=_e({typed:e,DenseMatrix:t}),l=me({typed:e,matrix:i,concat:u}),o=Re({typed:e});return e(ct,J0({typed:e,config:n}),{"boolean, boolean":(a,s)=>a>s,"BigNumber, BigNumber":function(s,p){return s.gt(p)&&!Pe(s,p,n.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:h,DS:f,Ss:c}))}),J0=rr(ct,["typed","config"],r=>{var{typed:e,config:n}=r;return e(ct,{"number, number":function(t,u){return t>u&&!le(t,u,n.epsilon)}})}),lt="largerEq",G0=["typed","config","matrix","DenseMatrix","concat"],Q0=rr(lt,G0,r=>{var{typed:e,config:n,matrix:i,DenseMatrix:t,concat:u}=r,f=Ne({typed:e}),h=Ue({typed:e,DenseMatrix:t}),c=_e({typed:e,DenseMatrix:t}),l=me({typed:e,matrix:i,concat:u}),o=Re({typed:e});return e(lt,X0({typed:e,config:n}),{"boolean, boolean":(a,s)=>a>=s,"BigNumber, BigNumber":function(s,p){return s.gte(p)||Pe(s,p,n.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:h,DS:f,Ss:c}))}),X0=rr(lt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(lt,{"number, number":function(t,u){return t>=u||le(t,u,n.epsilon)}})}),K0="ImmutableDenseMatrix",W0=["smaller","DenseMatrix"],H0=rr(K0,W0,r=>{var{smaller:e,DenseMatrix:n}=r;function i(t,u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!Kr(u))throw new Error("Invalid datatype: "+u);if(Sr(t)||Er(t)){var f=new n(t,u);this._data=f._data,this._size=f._size,this._datatype=f._datatype,this._min=null,this._max=null}else if(t&&Er(t.data)&&Er(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=typeof t.min<"u"?t.min:null,this._max=typeof t.max<"u"?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+ae(t)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return i.prototype=new n,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(t){switch(arguments.length){case 1:{var u=n.prototype.subset.call(this,t);return Sr(u)?new i({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Ar(this._data),size:Ar(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(t){return new i(t)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var t=null;this.forEach(function(u){(t===null||e(u,t))&&(t=u)}),this._min=t!==null?t:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var t=null;this.forEach(function(u){(t===null||e(t,u))&&(t=u)}),this._max=t!==null?t:void 0}return this._max},i},{isClass:!0}),k0="Index",j0=["ImmutableDenseMatrix","getMatrixDataType"],rc=rr(k0,j0,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:n}=r;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var f=0,h=arguments.length;f<h;f++){var c=arguments[f],l=Er(c),o=Sr(c),a=null;if(di(c))this._dimensions.push(c),this._isScalar=!1;else if(l||o){var s=void 0;n(c)==="boolean"?(l&&(s=t(Wn(c).valueOf())),o&&(s=t(Wn(c._data).valueOf())),a=c.valueOf().length):s=t(c.valueOf()),this._dimensions.push(s);var p=s.size();(p.length!==1||p[0]!==1||a!==null)&&(this._isScalar=!1)}else if(typeof c=="number")this._dimensions.push(t([c]));else if(typeof c=="string")this._dimensions.push(c);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(a)}}i.prototype.type="Index",i.prototype.isIndex=!0;function t(u){for(var f=0,h=u.length;f<h;f++)if(typeof u[f]!="number"||!Nr(u[f]))throw new TypeError("Index parameters must be positive integer numbers");return new e(u)}return i.prototype.clone=function(){var u=new i;return u._dimensions=Ar(this._dimensions),u._isScalar=this._isScalar,u._sourceSize=this._sourceSize,u},i.create=function(u){var f=new i;return i.apply(f,u),f},i.prototype.size=function(){for(var u=[],f=0,h=this._dimensions.length;f<h;f++){var c=this._dimensions[f];u[f]=typeof c=="string"?1:c.size()[0]}return u},i.prototype.max=function(){for(var u=[],f=0,h=this._dimensions.length;f<h;f++){var c=this._dimensions[f];u[f]=typeof c=="string"?c:c.max()}return u},i.prototype.min=function(){for(var u=[],f=0,h=this._dimensions.length;f<h;f++){var c=this._dimensions[f];u[f]=typeof c=="string"?c:c.min()}return u},i.prototype.forEach=function(u){for(var f=0,h=this._dimensions.length;f<h;f++)u(this._dimensions[f],f,this)},i.prototype.dimension=function(u){return this._dimensions[u]||null},i.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.toArray=function(){for(var u=[],f=0,h=this._dimensions.length;f<h;f++){var c=this._dimensions[f];u.push(typeof c=="string"?c:c.toArray())}return u},i.prototype.valueOf=i.prototype.toArray,i.prototype.toString=function(){for(var u=[],f=0,h=this._dimensions.length;f<h;f++){var c=this._dimensions[f];typeof c=="string"?u.push(JSON.stringify(c)):u.push(c.toString())}return"["+u.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(u){return i.create(u.dimensions)},i},{isClass:!0});function Wn(r){var e=[];return r.forEach((n,i)=>{n&&e.push(i)}),e}var ec="FibonacciHeap",tc=["smaller","larger"],nc=rr(ec,tc,r=>{var{smaller:e,larger:n}=r,i=1/Math.log((1+Math.sqrt(5))/2);function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}t.prototype.type="FibonacciHeap",t.prototype.isFibonacciHeap=!0,t.prototype.insert=function(o,a){var s={key:o,value:a,degree:0};if(this._minimum){var p=this._minimum;s.left=p,s.right=p.right,p.right=s,s.right.left=s,e(o,p.key)&&(this._minimum=s)}else s.left=s,s.right=s,this._minimum=s;return this._size++,s},t.prototype.size=function(){return this._size},t.prototype.clear=function(){this._minimum=null,this._size=0},t.prototype.isEmpty=function(){return this._size===0},t.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var a=this._minimum,s=o.degree,p=o.child;s>0;){var y=p.right;p.left.right=p.right,p.right.left=p.left,p.left=a,p.right=a.right,a.right=p,p.right.left=p,p.parent=null,p=y,s--}return o.left.right=o.right,o.right.left=o.left,o===o.right?a=null:(a=o.right,a=l(a,this._size)),this._size--,this._minimum=a,o},t.prototype.remove=function(o){this._minimum=u(this._minimum,o,-1),this.extractMinimum()};function u(o,a,s){a.key=s;var p=a.parent;return p&&e(a.key,p.key)&&(f(o,a,p),h(o,p)),e(a.key,o.key)&&(o=a),o}function f(o,a,s){a.left.right=a.right,a.right.left=a.left,s.degree--,s.child===a&&(s.child=a.right),s.degree===0&&(s.child=null),a.left=o,a.right=o.right,o.right=a,a.right.left=a,a.parent=null,a.mark=!1}function h(o,a){var s=a.parent;s&&(a.mark?(f(o,a,s),h(s)):a.mark=!0)}var c=function(a,s){a.left.right=a.right,a.right.left=a.left,a.parent=s,s.child?(a.left=s.child,a.right=s.child.right,s.child.right=a,a.right.left=a):(s.child=a,a.right=a,a.left=a),s.degree++,a.mark=!1};function l(o,a){var s=Math.floor(Math.log(a)*i)+1,p=new Array(s),y=0,v=o;if(v)for(y++,v=v.right;v!==o;)y++,v=v.right;for(var m;y>0;){for(var d=v.degree,w=v.right;m=p[d],!!m;){if(n(v.key,m.key)){var g=m;m=v,v=g}c(m,v),p[d]=null,d++}p[d]=v,v=w,y--}o=null;for(var F=0;F<s;F++)m=p[F],m&&(o?(m.left.right=m.right,m.right.left=m.left,m.left=o,m.right=o.right,o.right=m,m.right.left=m,e(m.key,o.key)&&(o=m)):o=m);return o}return t},{isClass:!0}),ic="Spa",ac=["addScalar","equalScalar","FibonacciHeap"],uc=rr(ic,ac,r=>{var{addScalar:e,equalScalar:n,FibonacciHeap:i}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return t.prototype.type="Spa",t.prototype.isSpa=!0,t.prototype.set=function(u,f){if(this._values[u])this._values[u].value=f;else{var h=this._heap.insert(u,f);this._values[u]=h}},t.prototype.get=function(u){var f=this._values[u];return f?f.value:0},t.prototype.accumulate=function(u,f){var h=this._values[u];h?h.value=e(h.value,f):(h=this._heap.insert(u,f),this._values[u]=h)},t.prototype.forEach=function(u,f,h){var c=this._heap,l=this._values,o=[],a=c.extractMinimum();for(a&&o.push(a);a&&a.key<=f;)a.key>=u&&(n(a.value,0)||h(a.key,a.value,this)),a=c.extractMinimum(),a&&o.push(a);for(var s=0;s<o.length;s++){var p=o[s];a=c.insert(p.key,p.value),l[a.key]=a}},t.prototype.swap=function(u,f){var h=this._values[u],c=this._values[f];if(!h&&c)h=this._heap.insert(u,c.value),this._heap.remove(c),this._values[u]=h,this._values[f]=void 0;else if(h&&!c)c=this._heap.insert(f,h.value),this._heap.remove(h),this._values[f]=c,this._values[u]=void 0;else if(h&&c){var l=h.value;h.value=c.value,c.value=l}},t},{isClass:!0}),oc="atan",sc=["typed"],fc=rr(oc,sc,r=>{var{typed:e}=r;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),ua=rr("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(n=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(n,i.valueType())(i.value)})}}),Hn="cos",cc=["typed"],lc=rr(Hn,cc,r=>{var{typed:e}=r,n=ua({typed:e});return e(Hn,{number:Math.cos,"Complex | BigNumber":i=>i.cos()},n)}),kn="sin",vc=["typed"],hc=rr(kn,vc,r=>{var{typed:e}=r,n=ua({typed:e});return e(kn,{number:Math.sin,"Complex | BigNumber":i=>i.sin()},n)}),jn="add",pc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],dc=rr(jn,pc,r=>{var{typed:e,matrix:n,addScalar:i,equalScalar:t,DenseMatrix:u,SparseMatrix:f,concat:h}=r,c=ta({typed:e}),l=wf({typed:e,equalScalar:t}),o=na({typed:e,DenseMatrix:u}),a=me({typed:e,matrix:n,concat:h});return e(jn,{"any, any":i,"any, any, ...any":e.referToSelf(s=>(p,y,v)=>{for(var m=s(p,y),d=0;d<v.length;d++)m=s(m,v[d]);return m})},a({elop:i,DS:c,SS:l,Ss:o}))}),ri="norm",mc=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Dc=rr(ri,mc,r=>{var{typed:e,abs:n,add:i,pow:t,conj:u,sqrt:f,multiply:h,equalScalar:c,larger:l,smaller:o,matrix:a,ctranspose:s,eigs:p}=r;return e(ri,{number:Math.abs,Complex:function(b){return b.abs()},BigNumber:function(b){return b.abs()},boolean:function(b){return Math.abs(b)},Array:function(b){return D(a(b),2)},Matrix:function(b){return D(b,2)},"Array, number | BigNumber | string":function(b,A){return D(a(b),A)},"Matrix, number | BigNumber | string":function(b,A){return D(b,A)}});function y(C){var b=0;return C.forEach(function(A){var S=n(A);l(S,b)&&(b=S)},!0),b}function v(C){var b;return C.forEach(function(A){var S=n(A);(!b||o(S,b))&&(b=S)},!0),b||0}function m(C,b){if(b===Number.POSITIVE_INFINITY||b==="inf")return y(C);if(b===Number.NEGATIVE_INFINITY||b==="-inf")return v(C);if(b==="fro")return D(C,2);if(typeof b=="number"&&!isNaN(b)){if(!c(b,0)){var A=0;return C.forEach(function(S){A=i(t(n(S),b),A)},!0),t(A,1/b)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function d(C){var b=0;return C.forEach(function(A,S){b=i(b,h(A,u(A)))}),n(f(b))}function w(C){var b=[],A=0;return C.forEach(function(S,M){var _=M[1],O=i(b[_]||0,n(S));l(O,A)&&(A=O),b[_]=O},!0),A}function g(C){var b=C.size();if(b[0]!==b[1])throw new RangeError("Invalid matrix dimensions");var A=s(C),S=h(A,C),M=p(S).values.toArray(),_=M[M.length-1];return n(f(_))}function F(C){var b=[],A=0;return C.forEach(function(S,M){var _=M[0],O=i(b[_]||0,n(S));l(O,A)&&(A=O),b[_]=O},!0),A}function E(C,b){if(b===1)return w(C);if(b===Number.POSITIVE_INFINITY||b==="inf")return F(C);if(b==="fro")return d(C);if(b===2)return g(C);throw new Error("Unsupported parameter value "+b)}function D(C,b){var A=C.size();if(A.length===1)return m(C,b);if(A.length===2){if(A[0]&&A[1])return E(C,b);throw new RangeError("Invalid matrix dimensions")}}}),ei="dot",gc=["typed","addScalar","multiplyScalar","conj","size"],yc=rr(ei,gc,r=>{var{typed:e,addScalar:n,multiplyScalar:i,conj:t,size:u}=r;return e(ei,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":c});function f(o,a){var s=l(o),p=l(a),y,v;if(s.length===1)y=s[0];else if(s.length===2&&s[1]===1)y=s[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(y!==v)throw new RangeError("Vectors must have equal length ("+y+" != "+v+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function h(o,a){var s=f(o,a),p=Sr(o)?o._data:o,y=Sr(o)?o._datatype||o.getDataType():void 0,v=Sr(a)?a._data:a,m=Sr(a)?a._datatype||a.getDataType():void 0,d=l(o).length===2,w=l(a).length===2,g=n,F=i;if(y&&m&&y===m&&typeof y=="string"&&y!=="mixed"){var E=y;g=e.find(n,[E,E]),F=e.find(i,[E,E])}if(!d&&!w){for(var D=F(t(p[0]),v[0]),C=1;C<s;C++)D=g(D,F(t(p[C]),v[C]));return D}if(!d&&w){for(var b=F(t(p[0]),v[0][0]),A=1;A<s;A++)b=g(b,F(t(p[A]),v[A][0]));return b}if(d&&!w){for(var S=F(t(p[0][0]),v[0]),M=1;M<s;M++)S=g(S,F(t(p[M][0]),v[M]));return S}if(d&&w){for(var _=F(t(p[0][0]),v[0][0]),O=1;O<s;O++)_=g(_,F(t(p[O][0]),v[O][0]));return _}}function c(o,a){f(o,a);for(var s=o._index,p=o._values,y=a._index,v=a._values,m=0,d=n,w=i,g=0,F=0;g<s.length&&F<y.length;){var E=s[g],D=y[F];if(E<D){g++;continue}if(E>D){F++;continue}E===D&&(m=d(m,w(p[g],v[F])),g++,F++)}return m}function l(o){return Sr(o)?o.size():u(o)}}),ti="index",wc=["typed","Index"],Ac=rr(ti,wc,r=>{var{typed:e,Index:n}=r;return e(ti,{"...number | string | BigNumber | Range | Array | Matrix":function(t){var u=t.map(function(h){return Or(h)?h.toNumber():Er(h)||Sr(h)?h.map(function(c){return Or(c)?c.toNumber():c}):h}),f=new n;return n.apply(f,u),f}})}),ni="lup",Ec=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Fc=rr(ni,Ec,r=>{var{typed:e,matrix:n,abs:i,addScalar:t,divideScalar:u,multiplyScalar:f,subtractScalar:h,larger:c,equalScalar:l,unaryMinus:o,DenseMatrix:a,SparseMatrix:s,Spa:p}=r;return e(ni,{DenseMatrix:function(d){return y(d)},SparseMatrix:function(d){return v(d)},Array:function(d){var w=n(d),g=y(w);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function y(m){var d=m._size[0],w=m._size[1],g=Math.min(d,w),F=Ar(m._data),E=[],D=[d,g],C=[],b=[g,w],A,S,M,_=[];for(A=0;A<d;A++)_[A]=A;for(S=0;S<w;S++){if(S>0)for(A=0;A<d;A++){var O=Math.min(A,S),z=0;for(M=0;M<O;M++)z=t(z,f(F[A][M],F[M][S]));F[A][S]=h(F[A][S],z)}var I=S,B=0,Y=0;for(A=S;A<d;A++){var q=F[A][S],T=i(q);c(T,B)&&(I=A,B=T,Y=q)}if(S!==I&&(_[S]=[_[I],_[I]=_[S]][0],a._swapRows(S,I,F)),S<d)for(A=S+1;A<d;A++){var Z=F[A][S];l(Z,0)||(F[A][S]=u(F[A][S],Y))}}for(S=0;S<w;S++)for(A=0;A<d;A++){if(S===0&&(A<w&&(C[A]=[]),E[A]=[]),A<S){A<w&&(C[A][S]=F[A][S]),S<d&&(E[A][S]=0);continue}if(A===S){A<w&&(C[A][S]=F[A][S]),S<d&&(E[A][S]=1);continue}A<w&&(C[A][S]=0),S<d&&(E[A][S]=F[A][S])}var W=new a({data:E,size:D}),U=new a({data:C,size:b}),R=[];for(A=0,g=_.length;A<g;A++)R[_[A]]=A;return{L:W,U,p:R,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function v(m){var d=m._size[0],w=m._size[1],g=Math.min(d,w),F=m._values,E=m._index,D=m._ptr,C=[],b=[],A=[],S=[d,g],M=[],_=[],O=[],z=[g,w],I,B,Y,q=[],T=[];for(I=0;I<d;I++)q[I]=I,T[I]=I;var Z=function(R,V){var nr=T[R],k=T[V];q[nr]=V,q[k]=R,T[R]=k,T[V]=nr},W=function(){var R=new p;B<d&&(A.push(C.length),C.push(1),b.push(B)),O.push(M.length);var V=D[B],nr=D[B+1];for(Y=V;Y<nr;Y++)I=E[Y],R.set(q[I],F[Y]);B>0&&R.forEach(0,B-1,function(K,G){s._forEachRow(K,C,b,A,function(ur,j){ur>K&&R.accumulate(ur,o(f(j,G)))})});var k=B,L=R.get(B),X=i(L);R.forEach(B+1,d-1,function(K,G){var ur=i(G);c(ur,X)&&(k=K,X=ur,L=G)}),B!==k&&(s._swapRows(B,k,S[1],C,b,A),s._swapRows(B,k,z[1],M,_,O),R.swap(B,k),Z(B,k)),R.forEach(0,d-1,function(K,G){K<=B?(M.push(G),_.push(K)):(G=u(G,L),l(G,0)||(C.push(G),b.push(K)))})};for(B=0;B<w;B++)W();return O.push(M.length),A.push(C.length),{L:new s({values:C,index:b,ptr:A,size:S}),U:new s({values:M,index:_,ptr:O,size:z}),p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),ii="qr",Cc=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],bc=rr(ii,Cc,r=>{var{typed:e,matrix:n,zeros:i,identity:t,isZero:u,equal:f,sign:h,sqrt:c,conj:l,unaryMinus:o,addScalar:a,divideScalar:s,multiplyScalar:p,subtractScalar:y,complex:v}=r;return Fe(e(ii,{DenseMatrix:function(F){return d(F)},SparseMatrix:function(F){return w()},Array:function(F){var E=n(F),D=d(E);return{Q:D.Q.valueOf(),R:D.R.valueOf()}}}),{_denseQRimpl:m});function m(g){var F=g._size[0],E=g._size[1],D=t([F],"dense"),C=D._data,b=g.clone(),A=b._data,S,M,_,O=i([F],"");for(_=0;_<Math.min(E,F);++_){var z=A[_][_],I=o(f(z,0)?1:h(z)),B=l(I),Y=0;for(S=_;S<F;S++)Y=a(Y,p(A[S][_],l(A[S][_])));var q=p(I,c(Y));if(!u(q)){var T=y(z,q);for(O[_]=1,S=_+1;S<F;S++)O[S]=s(A[S][_],T);var Z=o(l(s(T,q))),W=void 0;for(M=_;M<E;M++){for(W=0,S=_;S<F;S++)W=a(W,p(l(O[S]),A[S][M]));for(W=p(W,Z),S=_;S<F;S++)A[S][M]=p(y(A[S][M],p(O[S],W)),B)}for(S=0;S<F;S++){for(W=0,M=_;M<F;M++)W=a(W,p(C[S][M],O[M]));for(W=p(W,Z),M=_;M<F;++M)C[S][M]=s(y(C[S][M],p(W,l(O[M]))),B)}}}return{Q:D,R:b,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function d(g){var F=m(g),E=F.R._data;if(g._data.length>0)for(var D=E[0][0].type==="Complex"?v(0):0,C=0;C<E.length;++C)for(var b=0;b<C&&b<(E[0]||[]).length;++b)E[C][b]=D;return F}function w(g){throw new Error("qr not implemented for sparse matrices yet")}});function Mc(r,e,n,i){r._values;for(var t=r._index,u=r._ptr,f=r._size,h=r._datatype,c=f[0],l=f[1],o=null,a=[],s=[],p=0,y=0;y<l;y++){s[y]=p;for(var v=n?n[y]:y,m=u[v],d=u[v+1],w=m;w<d;w++){var g=t[w];a[p]=g,p++}}return s[l]=p,r.createSparseMatrix({values:o,index:a,ptr:s,size:[c,l],datatype:h})}function oa(r,e,n,i,t,u,f){var h=0;for(n[f]=r;h>=0;){var c=n[f+h],l=n[i+c];l===-1?(h--,u[e++]=c):(n[i+c]=n[t+l],++h,n[f+h]=l)}return e}function Sc(r,e){if(!r)return null;var n=0,i,t=[],u=[],f=0,h=e,c=2*e;for(i=0;i<e;i++)u[f+i]=-1;for(i=e-1;i>=0;i--)r[i]!==-1&&(u[h+i]=u[f+r[i]],u[f+r[i]]=i);for(i=0;i<e;i++)r[i]===-1&&(n=oa(i,n,u,f,h,t,c));return t}function _c(r,e){if(!r)return null;var n=r._index,i=r._ptr,t=r._size,u=t[0],f=t[1],h=[],c=[],l=0,o=f,a,s;for(a=0;a<u;a++)c[o+a]=-1;for(var p=0;p<f;p++){h[p]=-1,c[l+p]=-1;for(var y=i[p],v=i[p+1],m=y;m<v;m++){var d=n[m];for(a=c[o+d];a!==-1&&a<p;a=s)s=c[l+a],c[l+a]=p,s===-1&&(h[a]=p);c[o+d]=p}}return h}function Nc(r,e,n){for(var i=r._values,t=r._index,u=r._ptr,f=r._size,h=f[1],c=0,l=0;l<h;l++){var o=u[l];for(u[l]=c;o<u[l+1];o++)e(t[o],l,i?i[o]:1,n)&&(t[c]=t[o],i&&(i[c]=i[o]),c++)}return u[h]=c,t.splice(c,t.length-c),i&&i.splice(c,i.length-c),c}function fe(r){return-r-2}var Bc="csAmd",xc=["add","multiply","transpose"],Tc=rr(Bc,xc,r=>{var{add:e,multiply:n,transpose:i}=r;return function(o,a){if(!a||o<=0||o>3)return null;var s=a._size,p=s[0],y=s[1],v=0,m=Math.max(16,10*Math.sqrt(y));m=Math.min(y-2,m);var d=t(o,a,p,y,m);Nc(d,c,null);for(var w=d._index,g=d._ptr,F=g[y],E=[],D=[],C=0,b=y+1,A=2*(y+1),S=3*(y+1),M=4*(y+1),_=5*(y+1),O=6*(y+1),z=7*(y+1),I=E,B=u(y,g,D,C,S,I,A,z,b,O,M,_),Y=f(y,g,D,_,M,O,m,b,S,I,A),q=0,T,Z,W,U,R,V,nr,k,L,X,K,G,ur,j,or,fr;Y<y;){for(W=-1;q<y&&(W=D[S+q])===-1;q++);D[A+W]!==-1&&(I[D[A+W]]=-1),D[S+q]=D[A+W];var hr=D[M+W],dr=D[b+W];Y+=dr;var mr=0;D[b+W]=-dr;var cr=g[W],wr=hr===0?cr:F,gr=wr;for(U=1;U<=hr+1;U++){for(U>hr?(V=W,nr=cr,k=D[C+W]-hr):(V=w[cr++],nr=g[V],k=D[C+V]),R=1;R<=k;R++)T=w[nr++],!((L=D[b+T])<=0)&&(mr+=L,D[b+T]=-L,w[gr++]=T,D[A+T]!==-1&&(I[D[A+T]]=I[T]),I[T]!==-1?D[A+I[T]]=D[A+T]:D[S+D[_+T]]=D[A+T]);V!==W&&(g[V]=fe(W),D[O+V]=0)}for(hr!==0&&(F=gr),D[_+W]=mr,g[W]=wr,D[C+W]=gr-wr,D[M+W]=-2,B=h(B,v,D,O,y),X=wr;X<gr;X++)if(T=w[X],!((K=D[M+T])<=0)){L=-D[b+T];var Fr=B-L;for(cr=g[T],G=g[T]+K-1;cr<=G;cr++)V=w[cr],D[O+V]>=B?D[O+V]-=L:D[O+V]!==0&&(D[O+V]=D[_+V]+Fr)}for(X=wr;X<gr;X++){for(T=w[X],G=g[T],ur=G+D[M+T]-1,j=G,or=0,fr=0,cr=G;cr<=ur;cr++)if(V=w[cr],D[O+V]!==0){var $r=D[O+V]-B;$r>0?(fr+=$r,w[j++]=V,or+=V):(g[V]=fe(W),D[O+V]=0)}D[M+T]=j-G+1;var N=j,x=G+D[C+T];for(cr=ur+1;cr<x;cr++){Z=w[cr];var $=D[b+Z];$<=0||(fr+=$,w[j++]=Z,or+=Z)}fr===0?(g[T]=fe(W),L=-D[b+T],mr-=L,dr+=L,Y+=L,D[b+T]=0,D[M+T]=-1):(D[_+T]=Math.min(D[_+T],fr),w[j]=w[N],w[N]=w[G],w[G]=W,D[C+T]=j-G+1,or=(or<0?-or:or)%y,D[A+T]=D[z+or],D[z+or]=T,I[T]=or)}for(D[_+W]=mr,v=Math.max(v,mr),B=h(B+v,v,D,O,y),X=wr;X<gr;X++)if(T=w[X],!(D[b+T]>=0))for(or=I[T],T=D[z+or],D[z+or]=-1;T!==-1&&D[A+T]!==-1;T=D[A+T],B++){for(k=D[C+T],K=D[M+T],cr=g[T]+1;cr<=g[T]+k-1;cr++)D[O+w[cr]]=B;var P=T;for(Z=D[A+T];Z!==-1;){var Q=D[C+Z]===k&&D[M+Z]===K;for(cr=g[Z]+1;Q&&cr<=g[Z]+k-1;cr++)D[O+w[cr]]!==B&&(Q=0);Q?(g[Z]=fe(T),D[b+T]+=D[b+Z],D[b+Z]=0,D[M+Z]=-1,Z=D[A+Z],D[A+P]=Z):(P=Z,Z=D[A+Z])}}for(cr=wr,X=wr;X<gr;X++)T=w[X],!((L=-D[b+T])<=0)&&(D[b+T]=L,fr=D[_+T]+mr-L,fr=Math.min(fr,y-Y-L),D[S+fr]!==-1&&(I[D[S+fr]]=T),D[A+T]=D[S+fr],I[T]=-1,D[S+fr]=T,q=Math.min(q,fr),D[_+T]=fr,w[cr++]=T);D[b+W]=dr,(D[C+W]=cr-wr)===0&&(g[W]=-1,D[O+W]=0),hr!==0&&(F=cr)}for(T=0;T<y;T++)g[T]=fe(g[T]);for(Z=0;Z<=y;Z++)D[S+Z]=-1;for(Z=y;Z>=0;Z--)D[b+Z]>0||(D[A+Z]=D[S+g[Z]],D[S+g[Z]]=Z);for(V=y;V>=0;V--)D[b+V]<=0||g[V]!==-1&&(D[A+V]=D[S+g[V]],D[S+g[V]]=V);for(W=0,T=0;T<=y;T++)g[T]===-1&&(W=oa(T,W,D,S,A,E,O));return E.splice(E.length-1,1),E};function t(l,o,a,s,p){var y=i(o);if(l===1&&s===a)return e(o,y);if(l===2){for(var v=y._index,m=y._ptr,d=0,w=0;w<a;w++){var g=m[w];if(m[w]=d,!(m[w+1]-g>p))for(var F=m[w+1];g<F;g++)v[d++]=v[g]}return m[a]=d,o=i(y),n(y,o)}return n(y,o)}function u(l,o,a,s,p,y,v,m,d,w,g,F){for(var E=0;E<l;E++)a[s+E]=o[E+1]-o[E];a[s+l]=0;for(var D=0;D<=l;D++)a[p+D]=-1,y[D]=-1,a[v+D]=-1,a[m+D]=-1,a[d+D]=1,a[w+D]=1,a[g+D]=0,a[F+D]=a[s+D];var C=h(0,0,a,w,l);return a[g+l]=-2,o[l]=-1,a[w+l]=0,C}function f(l,o,a,s,p,y,v,m,d,w,g){for(var F=0,E=0;E<l;E++){var D=a[s+E];if(D===0)a[p+E]=-2,F++,o[E]=-1,a[y+E]=0;else if(D>v)a[m+E]=0,a[p+E]=-1,F++,o[E]=fe(l),a[m+l]++;else{var C=a[d+D];C!==-1&&(w[C]=E),a[g+E]=a[d+D],a[d+D]=E}}return F}function h(l,o,a,s,p){if(l<2||l+o<0){for(var y=0;y<p;y++)a[s+y]!==0&&(a[s+y]=1);l=2}return l}function c(l,o){return l!==o}});function zc(r,e,n,i,t,u,f){var h,c,l=0,o;if(r<=e||n[i+e]<=n[t+r])return-1;n[t+r]=n[i+e];var a=n[u+r];if(n[u+r]=e,a===-1)l=1,o=r;else{for(l=2,o=a;o!==n[f+o];o=n[f+o]);for(h=a;h!==o;h=c)c=n[f+h],n[f+h]=o}return{jleaf:l,q:o}}var Oc="csCounts",Ic=["transpose"],$c=rr(Oc,Ic,r=>{var{transpose:e}=r;return function(n,i,t,u){if(!n||!i||!t)return null;var f=n._size,h=f[0],c=f[1],l,o,a,s,p,y,v,m=4*c+(u?c+h+1:0),d=[],w=0,g=c,F=2*c,E=3*c,D=4*c,C=5*c+1;for(a=0;a<m;a++)d[a]=-1;var b=[],A=e(n),S=A._index,M=A._ptr;for(a=0;a<c;a++)for(o=t[a],b[o]=d[E+o]===-1?1:0;o!==-1&&d[E+o]===-1;o=i[o])d[E+o]=a;if(u){for(a=0;a<c;a++)d[t[a]]=a;for(l=0;l<h;l++){for(a=c,y=M[l],v=M[l+1],p=y;p<v;p++)a=Math.min(a,d[S[p]]);d[C+l]=d[D+a],d[D+a]=l}}for(l=0;l<c;l++)d[w+l]=l;for(a=0;a<c;a++){for(o=t[a],i[o]!==-1&&b[i[o]]--,s=u?d[D+a]:o;s!==-1;s=u?d[C+s]:-1)for(p=M[s];p<M[s+1];p++){l=S[p];var _=zc(l,o,d,E,g,F,w);_.jleaf>=1&&b[o]++,_.jleaf===2&&b[_.q]--}i[o]!==-1&&(d[w+o]=i[o])}for(o=0;o<c;o++)i[o]!==-1&&(b[i[o]]+=b[o]);return b}}),qc="csSqr",Pc=["add","multiply","transpose"],Rc=rr(qc,Pc,r=>{var{add:e,multiply:n,transpose:i}=r,t=Tc({add:e,multiply:n,transpose:i}),u=$c({transpose:i});return function(c,l,o){var a=l._ptr,s=l._size,p=s[1],y,v={};if(v.q=t(c,l),c&&!v.q)return null;if(o){var m=c?Mc(l,null,v.q):l;v.parent=_c(m);var d=Sc(v.parent,p);if(v.cp=u(m,v.parent,d,1),m&&v.parent&&v.cp&&f(m,v))for(v.unz=0,y=0;y<p;y++)v.unz+=v.cp[y]}else v.unz=4*a[p]+p,v.lnz=v.unz;return v};function f(h,c){var l=h._ptr,o=h._index,a=h._size,s=a[0],p=a[1];c.pinv=[],c.leftmost=[];var y=c.parent,v=c.pinv,m=c.leftmost,d=[],w=0,g=s,F=s+p,E=s+2*p,D,C,b,A,S;for(C=0;C<p;C++)d[g+C]=-1,d[F+C]=-1,d[E+C]=0;for(D=0;D<s;D++)m[D]=-1;for(C=p-1;C>=0;C--)for(A=l[C],S=l[C+1],b=A;b<S;b++)m[o[b]]=C;for(D=s-1;D>=0;D--)v[D]=-1,C=m[D],C!==-1&&(d[E+C]++===0&&(d[F+C]=D),d[w+D]=d[g+C],d[g+C]=D);for(c.lnz=0,c.m2=s,C=0;C<p;C++)if(D=d[g+C],c.lnz++,D<0&&(D=c.m2++),v[D]=C,!(--E[C]<=0)){c.lnz+=d[E+C];var M=y[C];M!==-1&&(d[E+M]===0&&(d[F+M]=d[F+C]),d[w+d[F+C]]=d[g+M],d[g+M]=d[w+D],d[E+M]+=d[E+C])}for(D=0;D<s;D++)v[D]<0&&(v[D]=C++);return!0}});function $t(r,e){return r[e]<0}function sa(r,e){r[e]=fe(r[e])}function ai(r){return r<0?fe(r):r}function Uc(r,e,n,i,t){var u=e._index,f=e._ptr,h=e._size,c=h[1],l,o,a,s=0;for(i[0]=r;s>=0;){r=i[s];var p=t?t[r]:r;$t(f,r)||(sa(f,r),i[c+s]=p<0?0:ai(f[p]));var y=1;for(o=i[c+s],a=p<0?0:ai(f[p+1]);o<a;o++)if(l=u[o],!$t(f,l)){i[c+s]=o,i[++s]=l,y=0;break}y&&(s--,i[--n]=r)}return n}function Lc(r,e,n,i,t){var u=r._ptr,f=r._size,h=e._index,c=e._ptr,l=f[1],o,a,s,p=l;for(a=c[n],s=c[n+1],o=a;o<s;o++){var y=h[o];$t(u,y)||(p=Uc(y,r,p,i,t))}for(o=p;o<l;o++)sa(u,i[o]);return p}var Zc="csSpsolve",Vc=["divideScalar","multiply","subtract"],Yc=rr(Zc,Vc,r=>{var{divideScalar:e,multiply:n,subtract:i}=r;return function(u,f,h,c,l,o,a){var s=u._values,p=u._index,y=u._ptr,v=u._size,m=v[1],d=f._values,w=f._index,g=f._ptr,F,E,D,C,b=Lc(u,f,h,c,o);for(F=b;F<m;F++)l[c[F]]=0;for(E=g[h],D=g[h+1],F=E;F<D;F++)l[w[F]]=d[F];for(var A=b;A<m;A++){var S=c[A],M=o?o[S]:S;if(!(M<0))for(E=y[M],D=y[M+1],l[S]=e(l[S],s[a?E:D-1]),F=a?E+1:E,C=a?D:D-1;F<C;F++){var _=p[F];l[_]=i(l[_],n(s[F],l[S]))}}return b}}),Jc="csLu",Gc=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Qc=rr(Jc,Gc,r=>{var{abs:e,divideScalar:n,multiply:i,subtract:t,larger:u,largerEq:f,SparseMatrix:h}=r,c=Yc({divideScalar:n,multiply:i,subtract:t});return function(o,a,s){if(!o)return null;var p=o._size,y=p[1],v,m=100,d=100;a&&(v=a.q,m=a.lnz||m,d=a.unz||d);var w=[],g=[],F=[],E=new h({values:w,index:g,ptr:F,size:[y,y]}),D=[],C=[],b=[],A=new h({values:D,index:C,ptr:b,size:[y,y]}),S=[],M,_,O=[],z=[];for(M=0;M<y;M++)O[M]=0,S[M]=-1,F[M+1]=0;m=0,d=0;for(var I=0;I<y;I++){F[I]=m,b[I]=d;var B=v?v[I]:I,Y=c(E,o,B,z,O,S,1),q=-1,T=-1;for(_=Y;_<y;_++)if(M=z[_],S[M]<0){var Z=e(O[M]);u(Z,T)&&(T=Z,q=M)}else C[d]=S[M],D[d++]=O[M];if(q===-1||T<=0)return null;S[B]<0&&f(e(O[B]),i(T,s))&&(q=B);var W=O[q];for(C[d]=I,D[d++]=W,S[q]=I,g[m]=q,w[m++]=1,_=Y;_<y;_++)M=z[_],S[M]<0&&(g[m]=M,w[m++]=n(O[M],W)),O[M]=0}for(F[y]=m,b[y]=d,_=0;_<m;_++)g[_]=S[g[_]];return w.splice(m,w.length-m),g.splice(m,g.length-m),D.splice(d,D.length-d),C.splice(d,C.length-d),{L:E,U:A,pinv:S}}}),ui="slu",Xc=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Kc=rr(ui,Xc,r=>{var{typed:e,abs:n,add:i,multiply:t,transpose:u,divideScalar:f,subtract:h,larger:c,largerEq:l,SparseMatrix:o}=r,a=Rc({add:i,multiply:t,transpose:u}),s=Qc({abs:n,divideScalar:f,multiply:t,subtract:h,larger:c,largerEq:l,SparseMatrix:o});return e(ui,{"SparseMatrix, number, number":function(y,v,m){if(!Nr(v)||v<0||v>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var d=a(v,y,!1),w=s(y,d,m);return{L:w.L,U:w.U,p:w.pinv,q:d.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function oi(r,e){var n,i=e.length,t=[];if(r)for(n=0;n<i;n++)t[r[n]]=e[n];else for(n=0;n<i;n++)t[n]=e[n];return t}var si="lusolve",Wc=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Hc=rr(si,Wc,r=>{var{typed:e,matrix:n,lup:i,slu:t,usolve:u,lsolve:f,DenseMatrix:h}=r,c=yt({DenseMatrix:h});return e(si,{"Array, Array | Matrix":function(s,p){s=n(s);var y=i(s),v=o(y.L,y.U,y.p,null,p);return v.valueOf()},"DenseMatrix, Array | Matrix":function(s,p){var y=i(s);return o(y.L,y.U,y.p,null,p)},"SparseMatrix, Array | Matrix":function(s,p){var y=i(s);return o(y.L,y.U,y.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(s,p,y,v){var m=t(s,y,v);return o(m.L,m.U,m.p,m.q,p)},"Object, Array | Matrix":function(s,p){return o(s.L,s.U,s.p,s.q,p)}});function l(a){if(Sr(a))return a;if(Er(a))return n(a);throw new TypeError("Invalid Matrix LU decomposition")}function o(a,s,p,y,v){a=l(a),s=l(s),p&&(v=c(a,v,!0),v._data=oi(p,v._data));var m=f(a,v),d=u(s,m);return y&&(d._data=oi(y,d._data)),d}}),fi="det",kc=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],jc=rr(fi,kc,r=>{var{typed:e,matrix:n,subtractScalar:i,multiply:t,divideScalar:u,isZero:f,unaryMinus:h}=r;return e(fi,{any:function(o){return Ar(o)},"Array | Matrix":function(o){var a;switch(Sr(o)?a=o.size():Array.isArray(o)?(o=n(o),a=o.size()):a=[],a.length){case 0:return Ar(o);case 1:if(a[0]===1)return Ar(o.valueOf()[0]);if(a[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+zr(a)+")");case 2:{var s=a[0],p=a[1];if(s===p)return c(o.clone().valueOf(),s);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+zr(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+zr(a)+")")}}});function c(l,o,a){if(o===1)return Ar(l[0][0]);if(o===2)return i(t(l[0][0],l[1][1]),t(l[1][0],l[0][1]));for(var s=!1,p=new Array(o).fill(0).map((C,b)=>b),y=0;y<o;y++){var v=p[y];if(f(l[v][y])){var m=void 0;for(m=y+1;m<o;m++)if(!f(l[p[m]][y])){v=p[m],p[m]=p[y],p[y]=v,s=!s;break}if(m===o)return l[v][y]}for(var d=l[v][y],w=y===0?1:l[p[y-1]][y-1],g=y+1;g<o;g++)for(var F=p[g],E=y+1;E<o;E++)l[F][E]=u(i(t(l[F][E],d),t(l[F][y],l[v][E])),w)}var D=l[p[o-1]][o-1];return s?h(D):D}}),ci="inv",rl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],el=rr(ci,rl,r=>{var{typed:e,matrix:n,divideScalar:i,addScalar:t,multiply:u,unaryMinus:f,det:h,identity:c,abs:l}=r;return e(ci,{"Array | Matrix":function(s){var p=Sr(s)?s.size():Tr(s);switch(p.length){case 1:if(p[0]===1)return Sr(s)?n([i(1,s.valueOf()[0])]):[i(1,s[0])];throw new RangeError("Matrix must be square (size: "+zr(p)+")");case 2:{var y=p[0],v=p[1];if(y===v)return Sr(s)?n(o(s.valueOf(),y,v),s.storage()):o(s,y,v);throw new RangeError("Matrix must be square (size: "+zr(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+zr(p)+")")}},any:function(s){return i(1,s)}});function o(a,s,p){var y,v,m,d,w;if(s===1){if(d=a[0][0],d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,d)]]}else if(s===2){var g=h(a);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(a[1][1],g),i(f(a[0][1]),g)],[i(f(a[1][0]),g),i(a[0][0],g)]]}else{var F=a.concat();for(y=0;y<s;y++)F[y]=F[y].concat();for(var E=c(s).valueOf(),D=0;D<p;D++){var C=l(F[D][D]),b=D;for(y=D+1;y<s;)l(F[y][D])>C&&(C=l(F[y][D]),b=y),y++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");y=b,y!==D&&(w=F[D],F[D]=F[y],F[y]=w,w=E[D],E[D]=E[y],E[y]=w);var A=F[D],S=E[D];for(y=0;y<s;y++){var M=F[y],_=E[y];if(y!==D){if(M[D]!==0){for(m=i(f(M[D]),A[D]),v=D;v<p;v++)M[v]=t(M[v],u(m,A[v]));for(v=0;v<p;v++)_[v]=t(_[v],u(m,S[v]))}}else{for(m=A[D],v=D;v<p;v++)M[v]=i(M[v],m);for(v=0;v<p;v++)_[v]=i(_[v],m)}}}return E}}});function tl(r){var{addScalar:e,subtract:n,flatten:i,multiply:t,multiplyScalar:u,divideScalar:f,sqrt:h,abs:c,bignumber:l,diag:o,size:a,reshape:s,inv:p,qr:y,usolve:v,usolveAll:m,equal:d,complex:w,larger:g,smaller:F,matrixFromColumns:E,dot:D}=r;function C(U,R,V,nr){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,L=b(U,R,V,nr,k);A(U,R,V,nr,k,L);var{values:X,C:K}=S(U,R,V,nr,k);if(k){var G=M(U,R,K,L,X,V,nr);return{values:X,eigenvectors:G}}return{values:X}}function b(U,R,V,nr,k){var L=nr==="BigNumber",X=nr==="Complex",K=L?l(0):0,G=L?l(1):X?w(1):1,ur=L?l(1):1,j=L?l(10):2,or=u(j,j),fr;k&&(fr=Array(R).fill(G));for(var hr=!1;!hr;){hr=!0;for(var dr=0;dr<R;dr++){for(var mr=K,cr=K,wr=0;wr<R;wr++)dr!==wr&&(mr=e(mr,c(U[wr][dr])),cr=e(cr,c(U[dr][wr])));if(!d(mr,0)&&!d(cr,0)){for(var gr=ur,Fr=mr,$r=f(cr,j),N=u(cr,j);F(Fr,$r);)Fr=u(Fr,or),gr=u(gr,j);for(;g(Fr,N);)Fr=f(Fr,or),gr=f(gr,j);var x=F(f(e(Fr,cr),gr),u(e(mr,cr),.95));if(x){hr=!1;for(var $=f(1,gr),P=0;P<R;P++)dr!==P&&(U[dr][P]=u(U[dr][P],$),U[P][dr]=u(U[P][dr],gr));k&&(fr[dr]=u(fr[dr],$))}}}}return k?o(fr):null}function A(U,R,V,nr,k,L){var X=nr==="BigNumber",K=nr==="Complex",G=X?l(0):K?w(0):0;X&&(V=l(V));for(var ur=0;ur<R-2;ur++){for(var j=0,or=G,fr=ur+1;fr<R;fr++){var hr=U[fr][ur];F(c(or),c(hr))&&(or=hr,j=fr)}if(!F(c(or),V)){if(j!==ur+1){var dr=U[j];U[j]=U[ur+1],U[ur+1]=dr;for(var mr=0;mr<R;mr++){var cr=U[mr][j];U[mr][j]=U[mr][ur+1],U[mr][ur+1]=cr}if(k){var wr=L[j];L[j]=L[ur+1],L[ur+1]=wr}}for(var gr=ur+2;gr<R;gr++){var Fr=f(U[gr][ur],or);if(Fr!==0){for(var $r=0;$r<R;$r++)U[gr][$r]=n(U[gr][$r],u(Fr,U[ur+1][$r]));for(var N=0;N<R;N++)U[N][ur+1]=e(U[N][ur+1],u(Fr,U[N][gr]));if(k)for(var x=0;x<R;x++)L[gr][x]=n(L[gr][x],u(Fr,L[ur+1][x]))}}}}return L}function S(U,R,V,nr,k){var L=nr==="BigNumber",X=nr==="Complex",K=L?l(1):X?w(1):1;L&&(V=l(V));for(var G=Ar(U),ur=[],j=R,or=[],fr=k?o(Array(R).fill(K)):void 0,hr=k?o(Array(j).fill(K)):void 0,dr=0;dr<=100;){dr+=1;for(var mr=G[j-1][j-1],cr=0;cr<j;cr++)G[cr][cr]=n(G[cr][cr],mr);var{Q:wr,R:gr}=y(G);G=t(gr,wr);for(var Fr=0;Fr<j;Fr++)G[Fr][Fr]=e(G[Fr][Fr],mr);if(k&&(hr=t(hr,wr)),j===1||F(c(G[j-1][j-2]),V)){dr=0,ur.push(G[j-1][j-1]),k&&(or.unshift([[1]]),z(hr,R),fr=t(fr,hr),j>1&&(hr=o(Array(j-1).fill(K)))),j-=1,G.pop();for(var $r=0;$r<j;$r++)G[$r].pop()}else if(j===2||F(c(G[j-2][j-3]),V)){dr=0;var N=_(G[j-2][j-2],G[j-2][j-1],G[j-1][j-2],G[j-1][j-1]);ur.push(...N),k&&(or.unshift(O(G[j-2][j-2],G[j-2][j-1],G[j-1][j-2],G[j-1][j-1],N[0],N[1],V,nr)),z(hr,R),fr=t(fr,hr),j>2&&(hr=o(Array(j-2).fill(K)))),j-=2,G.pop(),G.pop();for(var x=0;x<j;x++)G[x].pop(),G[x].pop()}if(j===0)break}if(ur.sort((Q,J)=>+n(c(Q),c(J))),dr>100){var $=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ur.join(", "));throw $.values=ur,$.vectors=[],$}var P=k?t(fr,I(or,R)):void 0;return{values:ur,C:P}}function M(U,R,V,nr,k,L,X){var K=p(V),G=t(K,U,V),ur=X==="BigNumber",j=X==="Complex",or=ur?l(0):j?w(0):0,fr=ur?l(1):j?w(1):1,hr=[],dr=[];for(var mr of k){var cr=B(hr,mr,d);cr===-1?(hr.push(mr),dr.push(1)):dr[cr]+=1}for(var wr=[],gr=hr.length,Fr=Array(R).fill(or),$r=o(Array(R).fill(fr)),N=function(){var P=hr[x],Q=n(G,t(P,$r)),J=m(Q,Fr);for(J.shift();J.length<dr[x];){var ar=Y(Q,R,J,L,X);if(ar===null)break;J.push(ar)}var tr=t(p(nr),V);J=J.map(ir=>t(tr,ir)),wr.push(...J.map(ir=>({value:P,vector:i(ir)})))},x=0;x<gr;x++)N();return wr}function _(U,R,V,nr){var k=e(U,nr),L=n(u(U,nr),u(R,V)),X=u(k,.5),K=u(h(n(u(k,k),u(4,L))),.5);return[e(X,K),n(X,K)]}function O(U,R,V,nr,k,L,X,K){var G=K==="BigNumber",ur=K==="Complex",j=G?l(0):ur?w(0):0,or=G?l(1):ur?w(1):1;if(F(c(V),X))return[[or,j],[j,or]];if(g(c(n(k,L)),X))return[[n(k,nr),n(L,nr)],[V,V]];var fr=n(U,k),hr=n(nr,k);return F(c(R),X)&&F(c(hr),X)?[[fr,or],[V,j]]:[[R,j],[hr,or]]}function z(U,R){for(var V=0;V<U.length;V++)U[V].push(...Array(R-U[V].length).fill(0));for(var nr=U.length;nr<R;nr++)U.push(Array(R).fill(0)),U[nr][nr]=1;return U}function I(U,R){for(var V=[],nr=0;nr<R;nr++)V[nr]=Array(R).fill(0);var k=0;for(var L of U){for(var X=L.length,K=0;K<X;K++)for(var G=0;G<X;G++)V[k+K][k+G]=L[K][G];k+=X}return V}function B(U,R,V){for(var nr=0;nr<U.length;nr++)if(V(U[nr],R))return nr;return-1}function Y(U,R,V,nr,k){for(var L=k==="BigNumber"?l(1e3):1e3,X,K=0;K<5;++K){X=q(R,V,k);try{X=v(U,X)}catch{continue}if(g(Z(X),L))break}if(K>=5)return null;for(K=0;;){var G=v(U,X);if(F(Z(T(X,[G])),nr))break;if(++K>=10)return null;X=W(G)}return X}function q(U,R,V){var nr=V==="BigNumber",k=V==="Complex",L=Array(U).fill(0).map(X=>2*Math.random()-1);return nr&&(L=L.map(X=>l(X))),k&&(L=L.map(X=>w(X))),L=T(L,R),W(L,V)}function T(U,R){var V=a(U);for(var nr of R)nr=s(nr,V),U=n(U,t(f(D(nr,U),D(nr,nr)),nr));return U}function Z(U){return c(h(D(U,U)))}function W(U,R){var V=R==="BigNumber",nr=R==="Complex",k=V?l(1):nr?w(1):1;return t(f(k,Z(U)),U)}return C}function nl(r){var{config:e,addScalar:n,subtract:i,abs:t,atan:u,cos:f,sin:h,multiplyScalar:c,inv:l,bignumber:o,multiply:a,add:s}=r;function p(A,S){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,_=arguments.length>3?arguments[3]:void 0,O=arguments.length>4?arguments[4]:void 0;if(_==="number")return y(A,M,O);if(_==="BigNumber")return v(A,M,O);throw TypeError("Unsupported data type: "+_)}function y(A,S,M){var _=A.length,O=Math.abs(S/_),z,I;if(M){I=new Array(_);for(var B=0;B<_;B++)I[B]=Array(_).fill(0),I[B][B]=1}for(var Y=D(A);Math.abs(Y[1])>=Math.abs(O);){var q=Y[0][0],T=Y[0][1];z=m(A[q][q],A[T][T],A[q][T]),A=E(A,z,q,T),M&&(I=w(I,z,q,T)),Y=D(A)}for(var Z=Array(_).fill(0),W=0;W<_;W++)Z[W]=A[W][W];return b(Ar(Z),I,M)}function v(A,S,M){var _=A.length,O=t(S/_),z,I;if(M){I=new Array(_);for(var B=0;B<_;B++)I[B]=Array(_).fill(0),I[B][B]=1}for(var Y=C(A);t(Y[1])>=t(O);){var q=Y[0][0],T=Y[0][1];z=d(A[q][q],A[T][T],A[q][T]),A=F(A,z,q,T),M&&(I=g(I,z,q,T)),Y=C(A)}for(var Z=Array(_).fill(0),W=0;W<_;W++)Z[W]=A[W][W];return b(Ar(Z),I,M)}function m(A,S,M){var _=S-A;return Math.abs(_)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(S-A))}function d(A,S,M){var _=i(S,A);return t(_)<=e.epsilon?o(-1).acos().div(4):c(.5,u(a(2,M,l(_))))}function w(A,S,M,_){for(var O=A.length,z=Math.cos(S),I=Math.sin(S),B=Array(O).fill(0),Y=Array(O).fill(0),q=0;q<O;q++)B[q]=z*A[q][M]-I*A[q][_],Y[q]=I*A[q][M]+z*A[q][_];for(var T=0;T<O;T++)A[T][M]=B[T],A[T][_]=Y[T];return A}function g(A,S,M,_){for(var O=A.length,z=f(S),I=h(S),B=Array(O).fill(o(0)),Y=Array(O).fill(o(0)),q=0;q<O;q++)B[q]=i(c(z,A[q][M]),c(I,A[q][_])),Y[q]=n(c(I,A[q][M]),c(z,A[q][_]));for(var T=0;T<O;T++)A[T][M]=B[T],A[T][_]=Y[T];return A}function F(A,S,M,_){for(var O=A.length,z=o(f(S)),I=o(h(S)),B=c(z,z),Y=c(I,I),q=Array(O).fill(o(0)),T=Array(O).fill(o(0)),Z=a(o(2),z,I,A[M][_]),W=n(i(c(B,A[M][M]),Z),c(Y,A[_][_])),U=s(c(Y,A[M][M]),Z,c(B,A[_][_])),R=0;R<O;R++)q[R]=i(c(z,A[M][R]),c(I,A[_][R])),T[R]=n(c(I,A[M][R]),c(z,A[_][R]));A[M][M]=W,A[_][_]=U,A[M][_]=o(0),A[_][M]=o(0);for(var V=0;V<O;V++)V!==M&&V!==_&&(A[M][V]=q[V],A[V][M]=q[V],A[_][V]=T[V],A[V][_]=T[V]);return A}function E(A,S,M,_){for(var O=A.length,z=Math.cos(S),I=Math.sin(S),B=z*z,Y=I*I,q=Array(O).fill(0),T=Array(O).fill(0),Z=B*A[M][M]-2*z*I*A[M][_]+Y*A[_][_],W=Y*A[M][M]+2*z*I*A[M][_]+B*A[_][_],U=0;U<O;U++)q[U]=z*A[M][U]-I*A[_][U],T[U]=I*A[M][U]+z*A[_][U];A[M][M]=Z,A[_][_]=W,A[M][_]=0,A[_][M]=0;for(var R=0;R<O;R++)R!==M&&R!==_&&(A[M][R]=q[R],A[R][M]=q[R],A[_][R]=T[R],A[R][_]=T[R]);return A}function D(A){for(var S=A.length,M=0,_=[0,1],O=0;O<S;O++)for(var z=O+1;z<S;z++)Math.abs(M)<Math.abs(A[O][z])&&(M=Math.abs(A[O][z]),_=[O,z]);return[_,M]}function C(A){for(var S=A.length,M=0,_=[0,1],O=0;O<S;O++)for(var z=O+1;z<S;z++)t(M)<t(A[O][z])&&(M=t(A[O][z]),_=[O,z]);return[_,M]}function b(A,S,M){var _=A.length,O=Array(_),z;if(M){z=Array(_);for(var I=0;I<_;I++)z[I]=Array(_)}for(var B=0;B<_;B++){for(var Y=0,q=A[0],T=0;T<A.length;T++)t(A[T])<t(q)&&(Y=T,q=A[Y]);if(O[B]=A.splice(Y,1)[0],M)for(var Z=0;Z<_;Z++)z[B][Z]=S[Z][Y],S[Z].splice(Y,1)}if(!M)return{values:O};var W=z.map((U,R)=>({value:O[R],vector:U}));return{values:O,eigenvectors:W}}return p}var il="eigs",al=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],ul=rr(il,al,r=>{var{config:e,typed:n,matrix:i,addScalar:t,subtract:u,equal:f,abs:h,atan:c,cos:l,sin:o,multiplyScalar:a,divideScalar:s,inv:p,bignumber:y,multiply:v,add:m,larger:d,column:w,flatten:g,number:F,complex:E,sqrt:D,diag:C,size:b,reshape:A,qr:S,usolve:M,usolveAll:_,im:O,re:z,smaller:I,matrixFromColumns:B,dot:Y}=r,q=nl({config:e,addScalar:t,subtract:u,column:w,flatten:g,equal:f,abs:h,atan:c,cos:l,sin:o,multiplyScalar:a,inv:p,bignumber:y,complex:E,multiply:v,add:m}),T=tl({config:e,addScalar:t,subtract:u,multiply:v,multiplyScalar:a,flatten:g,divideScalar:s,sqrt:D,abs:h,bignumber:y,diag:C,size:b,reshape:A,qr:S,inv:p,usolve:M,usolveAll:_,equal:f,complex:E,larger:d,smaller:I,matrixFromColumns:B,dot:Y});return n("eigs",{Array:function(L){return Z(i(L))},"Array, number|BigNumber":function(L,X){return Z(i(L),{precision:X})},"Array, Object"(k,L){return Z(i(k),L)},Matrix:function(L){return Z(L,{matricize:!0})},"Matrix, number|BigNumber":function(L,X){return Z(L,{precision:X,matricize:!0})},"Matrix, Object":function(L,X){var K={matricize:!0};return Fe(K,X),Z(L,K)}});function Z(k){var L,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K="eigenvectors"in X?X.eigenvectors:!0,G=(L=X.precision)!==null&&L!==void 0?L:e.epsilon,ur=W(k,G,K);return X.matricize&&(ur.values=i(ur.values),K&&(ur.eigenvectors=ur.eigenvectors.map(j=>{var{value:or,vector:fr}=j;return{value:or,vector:i(fr)}}))),K&&Object.defineProperty(ur,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ur}function W(k,L,X){var K=k.toArray(),G=k.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: ".concat(zr(G),")"));var ur=G[0];if(R(K,ur,L)&&(V(K,ur),U(K,ur,L))){var j=nr(k,K,ur);return q(K,ur,L,j,X)}var or=nr(k,K,ur);return T(K,ur,L,or,X)}function U(k,L,X){for(var K=0;K<L;K++)for(var G=K;G<L;G++)if(d(y(h(u(k[K][G],k[G][K]))),X))return!1;return!0}function R(k,L,X){for(var K=0;K<L;K++)for(var G=0;G<L;G++)if(d(y(h(O(k[K][G]))),X))return!1;return!0}function V(k,L){for(var X=0;X<L;X++)for(var K=0;K<L;K++)k[X][K]=z(k[X][K])}function nr(k,L,X){var K=k.datatype();if(K==="number"||K==="BigNumber"||K==="Complex")return K;for(var G=!1,ur=!1,j=!1,or=0;or<X;or++)for(var fr=0;fr<X;fr++){var hr=L[or][fr];if(_r(hr)||Pt(hr))G=!0;else if(Or(hr))ur=!0;else if(qt(hr))j=!0;else throw TypeError("Unsupported type in Matrix: "+ae(hr))}if(ur&&j&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),j){for(var dr=0;dr<X;dr++)for(var mr=0;mr<X;mr++)L[dr][mr]=E(L[dr][mr]);return"Complex"}if(ur){for(var cr=0;cr<X;cr++)for(var wr=0;wr<X;wr++)L[cr][wr]=y(L[cr][wr]);return"BigNumber"}if(G){for(var gr=0;gr<X;gr++)for(var Fr=0;Fr<X;Fr++)L[gr][Fr]=F(L[gr][Fr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Le=Lo({config:Gr}),wt=Jo({}),Yt=Ko({}),Jt=ko({}),Ur=cs({Matrix:Jt}),sr=Vu({BigNumber:Le,Complex:wt,DenseMatrix:Ur,Fraction:Yt}),Ze=Ys({typed:sr}),pe=Gs({typed:sr}),ol=fc({typed:sr}),Gt=Bs({BigNumber:Le,typed:sr}),Qt=zs({Complex:wt,typed:sr}),At=Pf({typed:sr}),sl=lc({typed:sr}),ee=ys({config:Gr,typed:sr}),fl=kf({typed:sr}),cl=Uf({typed:sr}),fa=vs({typed:sr}),ll=ps({typed:sr}),ca=ms({typed:sr}),ue=bf({typed:sr}),Xt=Ss({typed:sr}),vl=Zf({typed:sr}),hl=Nf({BigNumber:Le,Fraction:Yt,complex:Qt,typed:sr}),pl=hc({typed:sr}),Be=Es({Matrix:Jt,equalScalar:ee,typed:sr}),De=Xs({typed:sr}),Kt=Tf({Complex:wt,config:Gr,typed:sr}),Ve=Zs({typed:sr}),la=$s({Fraction:Yt,typed:sr}),Dr=Ps({DenseMatrix:Ur,Matrix:Jt,SparseMatrix:Be,typed:sr}),dl=F0({bignumber:Gt,fraction:la,number:Xt}),ml=o0({isInteger:fa,matrix:Dr,typed:sr}),Wt=f0({matrix:Dr,config:Gr,typed:sr}),Ht=m0({matrix:Dr,typed:sr}),va=w0({BigNumber:Le,config:Gr,matrix:Dr,typed:sr}),ge=Yf({isInteger:fa,matrix:Dr,typed:sr}),Dl=g0({conj:At,transpose:Ht,typed:sr}),gl=Xf({DenseMatrix:Ur,SparseMatrix:Be,matrix:Dr,typed:sr}),oe=b0({numeric:dl,typed:sr}),ha=I0({DenseMatrix:Ur,concat:ge,equalScalar:ee,matrix:Dr,typed:sr}),kt=Wf({matrix:Dr,typed:sr}),Et=r0({BigNumber:Le,DenseMatrix:Ur,SparseMatrix:Be,config:Gr,matrix:Dr,typed:sr}),yl=t0({matrix:Dr,multiplyScalar:ue,typed:sr}),pa=Q0({DenseMatrix:Ur,concat:ge,config:Gr,matrix:Dr,typed:sr}),wl=N0({DenseMatrix:Ur,divideScalar:oe,equalScalar:ee,matrix:Dr,multiplyScalar:ue,subtractScalar:De,typed:sr}),Al=Us({flatten:kt,matrix:Dr,size:Wt,typed:sr}),El=bc({addScalar:pe,complex:Qt,conj:At,divideScalar:oe,equal:ha,identity:Et,isZero:ca,matrix:Dr,multiplyScalar:ue,sign:hl,sqrt:Kt,subtractScalar:De,typed:sr,unaryMinus:Ve,zeros:va}),Ye=P0({DenseMatrix:Ur,concat:ge,config:Gr,matrix:Dr,typed:sr}),Je=Of({DenseMatrix:Ur,concat:ge,equalScalar:ee,matrix:Dr,subtractScalar:De,typed:sr,unaryMinus:Ve}),da=x0({DenseMatrix:Ur,divideScalar:oe,equalScalar:ee,matrix:Dr,multiplyScalar:ue,subtractScalar:De,typed:sr}),Ge=dc({DenseMatrix:Ur,SparseMatrix:Be,addScalar:pe,concat:ge,equalScalar:ee,matrix:Dr,typed:sr}),Oe=yc({addScalar:pe,conj:At,multiplyScalar:ue,size:Wt,typed:sr}),Fl=H0({DenseMatrix:Ur,smaller:Ye}),ma=rc({ImmutableDenseMatrix:Fl,getMatrixDataType:fl}),xe=Y0({DenseMatrix:Ur,concat:ge,config:Gr,matrix:Dr,typed:sr}),re=Sf({addScalar:pe,dot:Oe,equalScalar:ee,matrix:Dr,multiplyScalar:ue,typed:sr}),Cl=Kc({SparseMatrix:Be,abs:Ze,add:Ge,divideScalar:oe,larger:xe,largerEq:pa,multiply:re,subtract:Je,transpose:Ht,typed:sr}),He=l0({add:Ge,matrix:Dr,typed:sr,zeros:va}),bl=z0({DenseMatrix:Ur,divideScalar:oe,equalScalar:ee,matrix:Dr,multiplyScalar:ue,subtractScalar:De,typed:sr}),Ml=jc({divideScalar:oe,isZero:ca,matrix:Dr,multiply:re,subtractScalar:De,typed:sr,unaryMinus:Ve}),Sl=nc({larger:xe,smaller:Ye}),ke=Ac({Index:ma,typed:sr}),_l=L0({DenseMatrix:Ur,concat:ge,config:Gr,matrix:Dr,typed:sr}),Nl=a0({bignumber:Gt,matrix:Dr,add:Ge,config:Gr,isPositive:ll,larger:xe,largerEq:pa,smaller:Ye,smallerEq:_l,typed:sr}),Bl=uc({FibonacciHeap:Sl,addScalar:pe,equalScalar:ee}),xl=Gf({Index:ma,matrix:Dr,range:Nl,typed:sr}),Da=el({abs:Ze,addScalar:pe,det:Ml,divideScalar:oe,identity:Et,matrix:Dr,multiply:re,typed:sr,unaryMinus:Ve}),Tl=Fc({DenseMatrix:Ur,Spa:Bl,SparseMatrix:Be,abs:Ze,addScalar:pe,divideScalar:oe,equalScalar:ee,larger:xe,matrix:Dr,multiplyScalar:ue,subtractScalar:De,typed:sr,unaryMinus:Ve}),zl=S0({Complex:wt,config:Gr,fraction:la,identity:Et,inv:Da,matrix:Dr,multiply:re,number:Xt,typed:sr}),Ol=Hc({DenseMatrix:Ur,lsolve:wl,lup:Tl,matrix:Dr,slu:Cl,typed:sr,usolve:da}),Il=ul({abs:Ze,add:Ge,addScalar:pe,atan:ol,bignumber:Gt,column:xl,complex:Qt,config:Gr,cos:sl,diag:gl,divideScalar:oe,dot:Oe,equal:ha,flatten:kt,im:cl,inv:Da,larger:xe,matrix:Dr,matrixFromColumns:Al,multiply:re,multiplyScalar:ue,number:Xt,qr:El,re:vl,reshape:ml,sin:pl,size:Wt,smaller:Ye,sqrt:Kt,subtract:Je,typed:sr,usolve:da,usolveAll:bl}),jt=Dc({abs:Ze,add:Ge,conj:At,ctranspose:Dl,eigs:Il,equalScalar:ee,larger:xe,matrix:Dr,multiply:re,pow:zl,smaller:Ye,sqrt:Kt,typed:sr});function ga(r,e){const n=Je(e,r),i=jt(n),t=Oe(n,Dr([1,0,0]))/i,u=Oe(n,Dr([0,1,0]))/i,f=Oe(n,Dr([0,0,1]))/i,h=Math.sqrt(t**2+u**2);let c=Dr([[t,u,f],[-u/h,t/h,0],[-t*f/h,-u*f/h,h]]);return f===1&&(c=Dr([[0,0,1],[0,1,0],[-1,0,0]])),f===-1&&(c=Dr([[0,0,-1],[0,1,0],[1,0,0]])),yl(Et(4),c).toArray()}function ya(r,e,n){const i=(r==null?void 0:r.momentOfInertiaZ)??0,t=(r==null?void 0:r.momentOfInertiaY)??0,u=(e==null?void 0:e.elasticity)??0,f=(r==null?void 0:r.area)??0,h=(e==null?void 0:e.shearModulus)??0,c=(r==null?void 0:r.torsionalConstant)??0,l=n??1,o=u*f/l,a=u*i/l**3,s=u*t/l**3,p=h*c/l;return Dr([[o,0,0,0,0,0,-o,0,0,0,0,0],[0,12*a,0,0,0,6*l*a,0,-12*a,0,0,0,6*l*a],[0,0,12*s,0,-6*l*s,0,0,0,-12*s,0,-6*l*s,0],[0,0,0,p,0,0,0,0,0,-p,0,0],[0,0,-6*l*s,0,4*s*l**2,0,0,0,6*l*s,0,2*s*l**2,0],[0,6*l*a,0,0,0,4*a*l**2,0,-6*l*a,0,0,0,2*a*l**2],[-o,0,0,0,0,0,o,0,0,0,0,0],[0,-12*a,0,0,0,-6*a*l,0,12*a,0,0,0,-6*a*l],[0,0,-12*s,0,6*l*s,0,0,0,12*s,0,6*l*s,0],[0,0,0,-p,0,0,0,0,0,p,0,0],[0,0,-6*l*s,0,2*s*l**2,0,0,0,6*l*s,0,4*s*l**2,0],[0,6*l*a,0,0,0,2*a*l**2,0,-6*l*a,0,0,0,4*a*l**2]]).toArray()}function $l(r,e,n,i,t){let u=Array(t).fill(0).map(()=>Array(t).fill(0));return e.forEach((f,h)=>{const[c,l]=f,o=r[c],a=r[l],s=jt(Je(a,o)),p=ya(i==null?void 0:i.get(h),n==null?void 0:n.get(h),s),y=ga(o,a),v=re(Ht(y),re(p,y));u=ql(u,v,c,l)}),u}function ql(r,e,n,i){const t=6*n,u=6*i;for(let f=0;f<6;f++)for(let h=0;h<6;h++)r[t+f][t+h]+=e[f][h],r[u+f][t+h]+=e[f+6][h],r[t+f][u+h]+=e[f][h+6],r[u+f][u+h]+=e[f+6][h+6];return r}function Pl(r,e,n,i){const t=[];r==null||r.forEach((h,c)=>{h[0]&&t.push(c*6),h[1]&&t.push(c*6+1),h[2]&&t.push(c*6+2),h[3]&&t.push(c*6+3),h[4]&&t.push(c*6+4),h[5]&&t.push(c*6+5)});const u=new Set;e==null||e.forEach((h,c)=>{if(!h.momentOfInertiaY&&!h.momentOfInertiaZ){const l=n[c];u.add(l[0]),u.add(l[1])}});const f=[];return u.forEach(h=>{f.push(h*6+3),f.push(h*6+4),f.push(h*6+5)}),Array(i).fill(0).map((h,c)=>c).filter(h=>!t.includes(h)&&!f.includes(h))}function Rl(r,e){const n=Array(e).fill(0);return r==null||r.forEach((i,t)=>{n[t*6]=i[0],n[t*6+1]=i[1],n[t*6+2]=i[2],n[t*6+3]=i[3],n[t*6+4]=i[4],n[t*6+5]=i[5]}),n}function Ul(r,e,n){const i=r.length*6,t=Pl(n.pointSupports,n.sections,e,i),u=Rl(n.pointLoads,i),f=$l(r,e,n.materials,n.sections,i),h=He(u,ke(t)),c=He(f,ke(t,t)),l=Ol(c,h),o=He(Array(i).fill(0),ke(t),kt(l)),a=re(f,o);return{deformations:o,reactions:a}}function Zl(r,e,n){const{deformations:i,reactions:t}=Ul(r,e,n),u={nodes:new Map,elements:new Map};return r.forEach((f,h)=>{var l,o;const c=(l=n.pointSupports)==null?void 0:l.get(h);(o=u.nodes)==null||o.set(h,{deformation:[i[h*6],i[h*6+1],i[h*6+2],i[h*6+3],i[h*6+4],i[h*6+5]],...c&&{reaction:[t[h*6],t[h*6+1],t[h*6+2],t[h*6+3],t[h*6+4],t[h*6+5]]}})}),e.forEach((f,h)=>{var w,g,F,E;const c=r[f[0]],l=r[f[1]],o=jt(Je(l,c)),a=He(i,ke(Ll(f))),s=ga(c,l),p=re(s,a),y=ya((w=n.sections)==null?void 0:w.get(h),(g=n.materials)==null?void 0:g.get(h),o);let v=re(y,p);const m=(F=n.sections)==null?void 0:F.get(h),d=(m==null?void 0:m.momentOfInertiaY)&&m.momentOfInertiaZ;(E=u.elements)==null||E.set(h,{normal:[v[0],v[6]],...d&&{shearY:[v[1],v[7]],shearZ:[v[2],v[8]],torsion:[v[3],v[9]],bendingY:[v[4],v[10]],bendingZ:[v[5],v[11]]}})}),u}function Ll(r){const e=[r[0]*6,r[0]*6+1,r[0]*6+2,r[0]*6+3,r[0]*6+4,r[0]*6+5],n=[r[1]*6,r[1]*6+1,r[1]*6+2,r[1]*6+3,r[1]*6+4,r[1]*6+5];return[...e,...n]}export{Zl as a};

import{dy as w,dw as B,ar as i,aB as F,aD as Y,eQ as D,cT as I,cs as X,cr as _,cg as q,ce as j,aq as Z,di as v,ax as J,eo as H,cp as P}from"./pureFunctionsAny.generated-D5ggz2zd.js";function U(t){const f=[t[0]*3,t[0]*3+1,t[0]*3+2],o=[t[1]*3,t[1]*3+1,t[1]*3+2];return[...f,...o]}function V(t){const f=[t[0]*6,t[0]*6+1,t[0]*6+2,t[0]*6+3,t[0]*6+4,t[0]*6+5],o=[t[1]*6,t[1]*6+1,t[1]*6+2,t[1]*6+3,t[1]*6+4,t[1]*6+5];return[...f,...o]}const K={0:U,1:V};function W(t,f){let o=[];return t==null||t.forEach((r,s)=>{r[0]&&o.push(s*3),r[1]&&o.push(s*3+1),r[2]&&o.push(s*3+2)}),w(B(0,f),o)}function T(t,f){let o=[];return t==null||t.forEach((r,s)=>{r[0]&&o.push(s*6),r[1]&&o.push(s*6+1),r[2]&&o.push(s*6+2),r[3]&&o.push(s*6+3),r[4]&&o.push(s*6+4),r[5]&&o.push(s*6+5)}),w(B(0,f),o)}const $={0:W,1:T};function d(t,f,o){var a,h,m,b;const r=((h=(a=t.sections)==null?void 0:a.get(f))==null?void 0:h.area)||0,s=((b=(m=t.materials)==null?void 0:m.get(f))==null?void 0:b.elasticity)||0;let n=i([[1,-1],[-1,1]]);return F(n,s*r/o)}function y(t,f,o){var k,E,g,A,O,u,z,M,R,G,S,C;const r=((E=(k=t.sections)==null?void 0:k.get(f))==null?void 0:E.momentOfInertiaZ)||0,s=((A=(g=t.sections)==null?void 0:g.get(f))==null?void 0:A.momentOfInertiaY)||0,n=((u=(O=t.materials)==null?void 0:O.get(f))==null?void 0:u.elasticity)||0,a=((M=(z=t.sections)==null?void 0:z.get(f))==null?void 0:M.area)||0,h=((G=(R=t.materials)==null?void 0:R.get(f))==null?void 0:G.shearModulus)||0,m=((C=(S=t.sections)==null?void 0:S.get(f))==null?void 0:C.torsionalConstant)||0,b=n*a/o,c=n*r/o**3,e=n*s/o**3,l=h*m/o;return i([[b,0,0,0,0,0,-b,0,0,0,0,0],[0,12*c,0,0,0,6*o*c,0,-12*c,0,0,0,6*o*c],[0,0,12*e,0,-6*o*e,0,0,0,-12*e,0,-6*o*e,0],[0,0,0,l,0,0,0,0,0,-l,0,0],[0,0,-6*o*e,0,4*e*o**2,0,0,0,6*o*e,0,2*e*o**2,0],[0,6*o*c,0,0,0,4*c*o**2,0,-6*o*c,0,0,0,2*c*o**2],[-b,0,0,0,0,0,b,0,0,0,0,0],[0,-12*c,0,0,0,-6*c*o,0,12*c,0,0,0,-6*c*o],[0,0,-12*e,0,6*o*e,0,0,0,12*e,0,6*o*e,0],[0,0,0,-l,0,0,0,0,0,l,0,0],[0,0,-6*o*e,0,2*e*o**2,0,0,0,6*o*e,0,4*e*o**2,0],[0,6*o*c,0,0,0,2*c*o**2,0,-6*o*c,0,0,0,4*c*o**2]])}const N={0:d,1:y};function p(t,f){const o=Y(f,t),r=D(o),s=I(o,i([1,0,0]))/r,n=I(o,i([0,1,0]))/r,a=I(o,i([0,0,1]))/r;return i([[s,n,a,0,0,0],[0,0,0,s,n,a]])}function L(t,f){const o=Y(f,t),r=D(o),s=I(o,i([1,0,0]))/r,n=I(o,i([0,1,0]))/r,a=I(o,i([0,0,1]))/r,h=Math.sqrt(s**2+n**2);let m=i([[s,n,a],[-n/h,s/h,0],[-s*a/h,-n*a/h,h]]);return a===1&&(m=i([[0,0,1],[0,1,0],[-1,0,0]])),a===-1&&(m=i([[0,0,-1],[0,1,0],[1,0,0]])),X(_(4),m)}const Q={0:p,1:L};function x(t,f,o,r){var k;const s=t.length*(r===0?3:6);let n=q(s,s);f.forEach((E,g)=>{const A=t[E[0]],O=t[E[1]],u=D(Y(O,A)),z=N[r](o,g,u),M=Q[r](A,O),R=F(j(M),F(z,M)),G=K[r](E),S=Z(n,v(G,G));n=Z(n,v(G,G),J(S,R))});let a=q([s]);(k=o.pointLoads)==null||k.forEach((E,g)=>{const A={0:[g*3,g*3+1,g*3+2],1:[g*6,g*6+1,g*6+2,g*6+3,g*6+4,g*6+5]},O=Z(a,v(A[r]));a=Z(a,v(A[r]),J(O,r==0?E.slice(0,3):E))});const h=$[r](o.pointSupports,s),m=Z(a,v(h)),b=Z(n,v(h,h)),c=H(b,m),e=Z(q(s),v(h),P(c));let l=F(n,e);return{deformations:e.toArray(),forces:l.toArray()}}function t0(t,f,o){var m;let r=0;const s=(m=o.sections)==null?void 0:m.values().next().value;("momentOfInertiaZ"in s||"momentOfInertiaZ"in s)&&(r=1);const{deformations:n,forces:a}=x(t,f,o,r),h=[];return t.forEach((b,c)=>{var k;const e={0:[n[c*3],n[c*3+1],n[c*3+2]],1:[n[c*6],n[c*6+1],n[c*6+2],n[c*6+3],n[c*6+4],n[c*6+5]]};h.push({node:c,deformation:e[r]});const l={0:[a[c*3],a[c*3+1],a[c*3+2]],1:[a[c*6],a[c*6+1],a[c*6+2],a[c*6+3],a[c*6+4],a[c*6+5]]};(k=o.pointSupports)!=null&&k.get(c)&&h.push({node:c,reaction:l[r]})}),f.forEach((b,c)=>{const e=t[b[0]],l=t[b[1]],k=D(Y(l,e)),E=Z(n,v(K[r](b))),g=Q[r](e,l),A=F(g,E),O=N[r](o,c,k);let u=F(O,A).toArray();const z={0:{element:c,normal:[-u[0],-u[0]]},1:{element:c,normal:[u[0],u[6]],shearY:[u[1],u[7]],shearZ:[u[2],u[8]],torsion:[u[3],u[9]],bendingY:[u[4],u[10]],bendingZ:[u[5],u[11]]}};h.push(z[r])}),{default:h}}export{t0 as a};

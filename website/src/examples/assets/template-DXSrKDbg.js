import{P as m,v as o,a as v}from"./styles-BOGCXN8A.js";function I(u,c){const l=document.createElement("div"),e=new m({title:"Parameters",container:l}),a=S(u),p=new Map;return l.setAttribute("id","parameters"),p.set("root",e),Object.entries(u).forEach(([f,d])=>{var n;d.folder&&!p.get(d.folder)&&p.set(d.folder,e.addFolder({title:d.folder})),(n=p.get(d.folder??"root"))==null||n.addBinding(a,f,{min:d.min||0,max:d.max||50,step:d.step||.5,label:d.label||f})}),e.on("change",f=>{f.last||c(f)}),l}const S=u=>Object.entries(u).reduce((c,[l,e])=>(c[l]=e.value,c),{});function r({parameters:u,onParameterChange:c,settings:l}){const e=(c==null?void 0:c(u??{}))??{},a={nodes:o.state(e.nodes??[]),elements:o.state((e==null?void 0:e.elements)??[]),analysisInputs:o.state((e==null?void 0:e.analysisInputs)??{}),analysisOutputs:o.state((e==null?void 0:e.analysisOutputs)??{})},p={gridSize:o.state((l==null?void 0:l.gridSize)??20),displayScale:o.state((l==null?void 0:l.displayScale)??1),nodes:o.state((l==null?void 0:l.nodes)??!0),elements:o.state((l==null?void 0:l.elements)??!0),nodesIndexes:o.state((l==null?void 0:l.nodesIndexes)??!1),elementsIndexes:o.state((l==null?void 0:l.elementsIndexes)??!1),orientations:o.state((l==null?void 0:l.orientations)??!1),supports:o.state((l==null?void 0:l.supports)??!0),loads:o.state((l==null?void 0:l.loads)??!0),deformedShape:o.state((l==null?void 0:l.deformedShape)??!1),elementResults:o.state((l==null?void 0:l.elementResults)??"none"),nodeResults:o.state((l==null?void 0:l.nodeResults)??"none")},f=v(a,p);if(document.body.appendChild(f),u&&c){const d=I(u,n=>{u[n.target.key].value=n.value;const y=c(u);a.nodes&&(a.nodes.val=y.nodes??[]),a.elements&&(a.elements.val=y.elements??[]),a.analysisInputs&&(a.analysisInputs.val=y.analysisInputs??{}),a.analysisOutputs&&(a.analysisOutputs.val=y.analysisOutputs??{})});document.body.appendChild(d)}}export{r as t};

import{B as z,R as U,V as B,S as T,M as G,b as A,L as V,c as _,d as q,e as H,D as J,P as K,f as Q,a as h,F as C,l as W,t as Z,m as $,s as tt,g as et,v as nt}from"./marketing-Cri0LzEI.js";const y=1e5;function ot(t){const e=E(t),[n,s]=at(t),[o,a]=L(t);return{area:Math.round(e),Ixx:Math.round(n),Iyy:Math.round(s),centroid_x:Math.round(o),centroid_y:Math.round(a)}}function st(t){const e=w(t),{basePoint:n,xDomain:s,yDomain:o}=g(e),a=M(n,s,o,y);return b(a,e).map(i=>[i[0],i[1]])}function E(t){const e=w(t),{basePoint:n,xDomain:s,yDomain:o}=g(e),a=M(n,s,o,y),i=b(a,e),r=s*o;return i.length/a.length*r}function at(t){const e=w(t),{basePoint:n,xDomain:s,yDomain:o}=g(e),a=M(n,s,o,y),i=b(a,e),r=E(t),[u,P]=L(t);let p=0,x=0;i.forEach(S=>{p+=(S[1]-P)**2,x+=(S[0]-u)**2});const Y=p/i.length*r,k=x/i.length*r;return[Y,k]}function L(t){const e=w(t),{basePoint:n,xDomain:s,yDomain:o}=g(e),a=M(n,s,o,y),i=b(a,e);let r=0,u=0;i.forEach(x=>{r+=x[0],u+=x[1]});const P=r/i.length,p=u/i.length;return[P,p]}function g(t){const e=new z().setFromObject(t),n=e.max.sub(e.min);return{basePoint:e.min.toArray(),xDomain:n.x,yDomain:n.y}}function M(t,e,n,s){const o=[];for(let a=0;a<s;a++)o.push([t[0]+Math.random()*e,t[1]+Math.random()*n,0]);return o}function b(t,e){const n=new U;return t.filter(o=>(n.set(new B(...o),new B(0,0,-1)),n.intersectObject(e).length))}function w(t){const e=new T,n=t[0];e.moveTo(n[0],n[1]);for(const s of t.slice(1))e.lineTo(s[0],s[1]);return new G(new A(e))}function O(t,e,n=0){const s=[];for(let o=0;o<t.length;o+=2){const a=t[o],i=t[o+1];let r=[n,n,n];r[e.x]=a,r[e.y]=i,s.push(r)}return s.flat()}function j(t,e,n=!1){if(t.length==0)return[new Array(e).fill(0)];const s=t.map(o=>o.map(a=>a===""?0:a));return n?s.map(o=>o.map(a=>a<0?0:a)):s}const l=165,f=10.2,d=201,m=6.2,c=h.state([[0,0],[l,0],[l,f],[(l-m)/2+m,f],[(l-m)/2+m,d-f],[l,d-f],[l,d],[0,d],[0,d-f],[(l-m)/2,d-f],[(l-m)/2,f],[0,f],[0,0]]),F=h.state([[10,1e3,100]]),N=h.state([[0,0,0,0,0]]),R=new V(new _,new q({color:"#c5d62f"})),D=new G(new A,new H({visible:!1,side:J})),X=new K(new _,new Q({color:"#c5d62f"})),v=h.state([R,D,X]),I=new Map;I.set("SectionGeometry",{text:"Section Geometry",data:c,fields:[{field:"A",text:"X-coordinate",editable:{type:"float"}},{field:"B",text:"Y-coordinate",editable:{type:"float"}}]});I.set("MaterialProperties",{text:"Material Properties",data:F,fields:[{field:"A",text:"Modulus of Elasticity",editable:{type:"float"}},{field:"B",text:"Shear Modulus",editable:{type:"float"}},{field:"C",text:"Mass Density",editable:{type:"float"}}]});const it=({sheet:t,data:e})=>{t=="SectionGeometry"?c.val=j(e,2):t=="MaterialProperties"&&(F.val=j(e,3,!0))};h.derive(()=>{R.geometry.setAttribute("position",new C(O(c.val.flat(),{x:0,y:2}),3));const t=new T;t.moveTo(c.val[0][0],c.val[0][1]);for(var e=1;e<c.val.length;++e)t.lineTo(c.val[e][0],c.val[e][1]);D.geometry=new A(t),D.rotation.x=Math.PI/2,X.geometry.setAttribute("position",new C(O(st(c.val).flat(),{x:0,y:2}),3)),v.val=[...v.rawVal]});h.derive(()=>{N.val=[Object.entries(ot(c.val)).map(t=>t[1])]});document.body.append(W({topLeft:{element:Z("Section Designer")},topRight:{element:$({})},main:{element:tt({sheets:I,onChange:it}),title:"Inputs"},preview:{element:et({fields:[{field:"A",text:"Area"},{field:"B",text:"Ixx"},{field:"C",text:"Iyy"},{field:"D",text:"Centroid X"},{field:"E",text:"Centroid Y"}],data:N}),title:"Output"},right:{element:nt({objects3D:v,settingsObj:{gridSize:450}})}}));

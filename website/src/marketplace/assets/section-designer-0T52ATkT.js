import{B as W,R as $,V as Z,S as j,M as L,b as C,L as tt,c as z,d as et,e as nt,D as ot,P as st,f as it,a as D,F as G,l as at,t as rt,m as ct,s as lt,g as ut,v as xt}from"./marketing-BZa4p8Ga.js";function T(t,e,n,s,i){if(n(t)*n(e)>=0)return null;let o=t,a=0;for(;e-t>=s&&a<i&&(o=(t+e)/2,n(o)!=0);)n(t)*n(o)<0?e=o:t=o,a++;return o}const b=1e5;function dt(t){const e=B(t),[n,s]=v(t);ft(t);const[i,o]=N(t),[a,r]=mt(t),{Sxt:l,Sxb:u,Syt:c,Syb:x}=ht(t),[d,P]=F(t),[y,E]=pt(t);return{area:Math.round(e),Ixx:Math.round(n),Iyy:Math.round(s),centroid_x:Math.round(i),centroid_y:Math.round(o),rx:Math.round(a),ry:Math.round(r),Sxt:Math.round(l),Sxb:Math.round(u),Syt:Math.round(c),Syb:Math.round(x),PNAx:Math.round(d*100)/100,PNAy:Math.round(P*100)/100,Zxp:Math.round(y),Zyp:Math.round(E)}}function yt(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b);return g(o,e).map(a=>[a[0],a[1]])}function B(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b),a=g(o,e),r=s*i;return a.length/o.length*r}function v(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b),a=g(o,e),r=B(t),[l,u]=N(t);let c=0,x=0;a.forEach(y=>{c+=(y[1]-u)**2,x+=(y[0]-l)**2});const d=c/a.length*r,P=x/a.length*r;return[d,P]}function ft(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b),a=g(o,e),r=B(t),[l,u]=N(t);let c=0;return a.forEach(d=>{c+=(d[0]-l)*(d[1]-u)}),c/a.length*r}function mt(t){const e=B(t),[n,s]=v(t),i=Math.sqrt(n/e),o=Math.sqrt(s/e);return[i,o]}function ht(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),[o,a]=v(t),[r,l]=N(t),u=n[1]+i-l,c=l-n[1],x=n[0]+s-r,d=r-n[0];return{Sxt:o/u,Sxb:o/c,Syt:a/x,Syb:a/d}}function F(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b),a=g(o,e),r=.001,l=100;function u(w,J){const[K,Q]=Mt(a,w,J);return(K-Q)/a.length}const c=0,x=n[c],d=n[c]+s,P=T(x,d,w=>u(w,c),r*s,l),y=1,E=n[y],Y=n[y]+s,H=T(E,Y,w=>u(w,y),r*i,l);return[P,H]}function pt(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b),a=g(o,e),[r,l]=F(t),u=B(t);let c=0,x=0;a.forEach(y=>{c+=Math.abs(y[0]-r),x+=Math.abs(y[1]-l)});const d=x/a.length*u,P=c/a.length*u;return[d,P]}function N(t){const e=M(t),{basePoint:n,xDomain:s,yDomain:i}=p(e),o=S(n,s,i,b),a=g(o,e);let r=0,l=0;a.forEach(x=>{r+=x[0],l+=x[1]});const u=r/a.length,c=l/a.length;return[u,c]}function p(t){const e=new W().setFromObject(t),n=e.max.sub(e.min);return{basePoint:e.min.toArray(),xDomain:n.x,yDomain:n.y}}function S(t,e,n,s){const i=[];for(let o=0;o<s;o++)i.push([t[0]+Math.random()*e,t[1]+Math.random()*n,0]);return i}function g(t,e){const n=new $;return t.filter(i=>(n.set(new Z(...i),new Z(0,0,-1)),n.intersectObject(e).length))}function M(t){const e=new j,n=t[0];e.moveTo(n[0],n[1]);for(const s of t.slice(1))e.lineTo(s[0],s[1]);return new L(new C(e))}function Mt(t,e,n){let s=0,i=0;return t.forEach(o=>{o[n]>e?s++:i++}),[s,i]}function R(t,e,n=0){const s=[];for(let i=0;i<t.length;i+=2){const o=t[i],a=t[i+1];let r=[n,n,n];r[e.x]=o,r[e.y]=a,s.push(r)}return s.flat()}function Pt(t,e,n=!1){if(t.length==0)return[new Array(e).fill(0)];const s=t.map(i=>i.map(o=>o===""?0:o));return n?s.map(i=>i.map(o=>o<0?0:o)):s}const m=165,h=10.2,A=201,I=6.2,f=D.state([[0,0],[m,0],[m,h],[(m-I)/2+I,h],[(m-I)/2+I,A-h],[m,A-h],[m,A],[0,A],[0,A-h],[(m-I)/2,A-h],[(m-I)/2,h],[0,h],[0,0]]),V=D.state({modulusOfElasticity:2e5,shearModulus:3e4,massDensity:200}),k=D.state({area:0,Ixx:0,Iyy:0,centroid_x:0,centroid_y:0,rx:0,ry:0,Sxt:0,Sxb:0,Syt:0,Syb:0,PNAx:0,PNAy:0,Zxp:0,Zyp:0}),q=new tt(new z,new et({color:"#c5d62f"})),O=new L(new C,new nt({visible:!1,side:ot})),U=new st(new z,new it({color:"#c5d62f"})),_=D.state([q,O,U]),X=new Map;X.set("SectionGeometry",{text:"Section Geometry",data:f,fields:[{field:"A",text:"X-coordinate",editable:{type:"float"}},{field:"B",text:"Y-coordinate",editable:{type:"float"}}]});X.set("MaterialProperties",{text:"Material Properties",data:V,fields:[{field:"A",text:"Material Property",size:"150px",editable:!1},{field:"B",text:"Value",editable:{type:"float"}},{field:"modulusOfElasticity",text:"Modulus of Elasticity",editable:{type:"float"}},{field:"shearModulus",text:"Shear Modulus",editable:{type:"float"}},{field:"massDensity",text:"Mass Density",editable:{type:"float"}}]});const bt=({sheet:t,data:e})=>{t=="SectionGeometry"?f.val=Pt(e,2):t=="MaterialProperties"&&(V.val={modulusOfElasticity:e[0][1],shearModulus:e[1][1],massDensity:e[2][1]})};D.derive(()=>{q.geometry.setAttribute("position",new G(R(f.val.flat(),{x:0,y:2}),3));const t=new j;t.moveTo(f.val[0][0],f.val[0][1]);for(var e=1;e<f.val.length;++e)t.lineTo(f.val[e][0],f.val[e][1]);O.geometry=new C(t),O.rotation.x=Math.PI/2,U.geometry.setAttribute("position",new G(R(yt(f.val).flat(),{x:0,y:2}),3)),_.val=[..._.rawVal]});D.derive(()=>{k.val=dt(f.val)});document.body.append(at({topLeft:{element:rt("Section Designer")},topRight:{element:ct({})},main:{element:lt({sheets:X,onChange:bt}),title:"Inputs"},preview:{element:ut({fields:[{field:"A",text:"Parameter",size:"225px",editable:!1},{field:"B",text:"Value"},{field:"area",text:"Area"},{field:"Ixx",text:"Ixx"},{field:"Iyy",text:"Iyy"},{field:"centroid_x",text:"Centroid X"},{field:"centroid_y",text:"Centroid Y"},{field:"rx",text:"Radius of Gyration X"},{field:"ry",text:"Radius of Gyration Y"},{field:"Sxt",text:"Elastic Section Modulus X (Top)"},{field:"Sxb",text:"Elastic Section Modulus X (Bottom)"},{field:"Syt",text:"Elastic Section Modulus Y (Top)"},{field:"Syb",text:"Elastic Section Modulus Y (Bottom)"},{field:"PNAx",text:"Plastic Neutral Axis X"},{field:"PNAy",text:"Plastic Neutral Axis Y"},{field:"Zxp",text:"Plastic Section Modulus X"},{field:"Zyp",text:"Plastic Section Modulus Y"}],data:k}),title:"Output"},right:{element:xt({objects3D:_,settingsObj:{gridSize:450}})}}));

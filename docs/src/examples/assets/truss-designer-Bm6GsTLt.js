import{a as ee}from"./app-BPsrtgRK.js";import{a as te}from"./BHUODB6U-C5Zks2c4.js";self.$k="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjb2RlMSI6IjU4QWJKNihGJ0F0bCIsImNvZGUyIjoiMjJ1cj1fcCgwSkNOIiwiY29kZTMiOiJlPjhUejklM3IyTz4iLCJjb2RlNCI6IjB4NjY2YyY2N2IyISIsImlhdCI6MTcwMzk2NjE5OCwiZXhwIjoxNzQyMTQwNDY2fQ.mXod3jFvkJLjIQTfOUGNdOPGVEhrqJmz6lDtltxqQcc";function z(h,s,t,c,g,p,m,d=0){const l=Math.round(h/s);let f=[],o=[],j=[],T=[],y=[];for(let e=0;e<l+1;e++){const b=e*s,G=(m-p)/h,a=p+G*b;f.push([d+b,0,a])}for(let e=0;e<l+1;e++){const b=e*s,G=(g-c)/h,a=c+G*b,n=(m-p)/h,v=p+n*b;f.push([d+b,0,v+a]),j.push(f.length-1)}if(t===1)for(let e=0;e<l;e++)o.push([e,e+1],[l+1+e,l+1+e+1],[e,l+1+e],[e,l+1+e+1]),T.push(o.length-3,o.length-4),y.push(o.length-1,o.length-2);if(t===2)for(let e=0;e<l;e++)o.push([e,e+1],[l+1+e,l+1+e+1],[e,l+1+e],[e+1,l+1+e]),T.push(o.length-3,o.length-4),y.push(o.length-1,o.length-2);if(t===3)for(let e=0;e<l;e++)o.push([e,e+1],[l+1+e,l+1+e+1],[e,l+1+e],[e,l+1+e+1],[e+1,l+1+e]),T.push(o.length-4,o.length-5),y.push(o.length-1,o.length-2,o.length-3);return o.push([l,2*l+1]),y.push(o.length-1),{nodes:f,elements:o,topNodesIndices:j,chordsIndices:T,websIndices:y}}const se={span:{value:25,min:1,max:25,label:"Span (m)",folder:"Geometry"},spacing:{value:2.5,min:1,max:5,label:"Spacing (m)",folder:"Geometry"},webType:{value:1,min:1,max:3,step:1,label:"Web type",folder:"Geometry"},trimType:{value:1,min:1,max:3,step:1,label:"Trim type",folder:"Geometry"},leftHeight:{value:2.5,min:1,max:10,step:.1,label:"Left height (m)",folder:"Geometry"},midHeight:{value:2.5,min:1,max:10,step:.1,label:"Mid height (m)",folder:"Geometry"},rightHeight:{value:2.5,min:1,max:10,step:.1,label:"Right height (m)",folder:"Geometry"},leftOffset:{value:0,min:0,max:10,step:.1,label:"Left offset (m)",folder:"Geometry"},midOffset:{value:5,min:0,max:10,step:.1,label:"Mid offset (m)",folder:"Geometry"},rightOffset:{value:0,min:0,max:10,step:.1,label:"Right offset (m)",folder:"Geometry"},supportType:{value:1,min:1,max:2,step:1,label:"Support type",folder:"Supports"},uniformLoad:{value:200,min:0,max:1e3,step:1,label:"Uniform load (KN/m)",folder:"Loads"},chordsArea:{value:50,min:1,max:100,step:1,label:"Chords area (cm2)",folder:"Sections & Materials"},chordsElasticity:{value:10,min:1,max:250,step:1,label:"Chords elasticity (gpa)",folder:"Sections & Materials"},websArea:{value:50,min:1,max:100,step:1,label:"Webs area (cm2)",folder:"Sections & Materials"},websElasticity:{value:10,min:1,max:250,step:1,label:"Webs elasticity (gpa)",folder:"Sections & Materials"}},le=h=>{let s=h.span.value,t=h.spacing.value;const c=h.webType.value,g=h.trimType.value,p=h.leftHeight.value,m=h.midHeight.value,d=h.rightHeight.value,l=h.leftOffset.value,f=h.midOffset.value,o=h.rightOffset.value,j=h.supportType.value,T=h.uniformLoad.value,y=h.chordsArea.value*1e-4,e=h.chordsElasticity.value*1e6,b=h.websArea.value*1e-4,G=h.websElasticity.value*1e6;let a=[],n=[],v=[],N=[],x=[],r=[],M=[];if(t=s/Math.round(s/t),Math.abs(m-.5*(p+d))>.3||Math.abs(f-.5*(l+o))>.3){s=s/2,t=s/Math.round(s/t);const i=Math.round((s-2*t)/t),u=g>=2&&i>=1,E=(p-m)/s,H=p-E*t,I=(l-f)/s,k=l-I*t,{nodes:S,elements:D,topNodesIndices:R,chordsIndices:q,websIndices:F}=z(u?s-t:s,t,c,u?H:p,m,u?k:l,f,u?t:0);a.push(...S),n.push(...D),x.push(...R),r.push(...q),M.push(...F);const K=(m-d)/s,P=(f-o)/s;let U=c;c===1&&(U=2),c===2&&(U=1);const{nodes:W,elements:V,topNodesIndices:B,chordsIndices:$,websIndices:_}=z(u?s-2*t:s-t,t,U,m-K*t,u?d+K*t:d,f-P*t,u?o+P*t:o,s+t);if(r.push(...Y($,n.length)),M.push(...Y(_,n.length)),n.push(...ne(V,a.length)),x.push(...Y(B,a.length)),a.push(...W),u){a.push([0,0,g==3?p+l:l],[2*s,0,g==3?d+o:o]),x.push(a.length-2,a.length-1);const O=(i+1+1)*2,X=(i+1)*2,Q=O+X;n.push([0,Q],[i+2,Q],[O+i,Q+1],[O+X-1,Q+1]),r.push(n.length-1,n.length-2,n.length-3,n.length-4)}const A=Math.round(u?(s-1*t)/t:s/t),C=A,J=(A+1)*2,w=(A+1)*2-1,L=w+A+1;if(c===1&&(n.push([C,J],[w,L],[w,J]),r.push(n.length-3,n.length-2),M.push(n.length-1)),c===2&&(n.push([C,J],[w,L],[C,L]),r.push(n.length-3,n.length-2),M.push(n.length-1)),c===3&&(n.push([C,J],[w,L],[C,L],[w,J]),r.push(n.length-4,n.length-3),M.push(n.length-2,n.length-1)),u){const O=S.length+W.length;N.push(O,O+1)}else j===1?N.push(0,S.length+W.length/2-1):N.push(S.length/2,S.length+W.length-1)}else{const i=Math.round((s-2*t)/t),u=g>=2&&i>=1,E=(p-d)/s,H=(l-o)/s,{nodes:I,elements:k,topNodesIndices:S,chordsIndices:D,websIndices:R}=z(u?s-2*t:s,t,c,u?p-E*t:p,u?d+E*t:d,u?l-H*t:l,u?o+H*t:o,u?t:0);a.push(...I),n.push(...k),x.push(...S),r.push(...D),M.push(...R),u&&(a.push([0,0,g==3?p+l:l],[s,0,g==3?d+o:o]),x.push(a.length-2,a.length-1),n.push([0,(i+1)*2],[i+1,(i+1)*2],[i,(i+1)*2+1],[i*2+1,(i+1)*2+1]),r.push(n.length-1,n.length-2,n.length-3,n.length-4)),u?N.push(I.length,I.length+1):j===1?N.push(0,I.length/2-1):N.push(I.length/2,I.length-1)}v.push(...N.map(i=>({node:i,support:[!0,!0,!0]}))),v.push(...x.map(i=>({node:i,load:[0,0,-T*t]}))),v.push(...r.map(i=>({element:i,area:y,elasticity:e})),...M.map(i=>({element:i,area:b,elasticity:G})));const Z=te(a,n,v);return{nodes:a,elements:n,analysisInputs:v,analysisOutputs:Z}},ne=(h,s)=>h.map(([t,c])=>[t+s,c+s]),Y=(h,s)=>h.map(t=>t+s);ee({parameters:se,onParameterChange:le,settings:{deformedShape:!0,loads:!1}});

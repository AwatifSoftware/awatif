var aa=Object.create,Si=Object.defineProperty,oa=Object.getOwnPropertyDescriptor,sa=Object.getOwnPropertyNames,fa=Object.getPrototypeOf,ca=Object.prototype.hasOwnProperty,Ot=Math.pow,jr=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),la=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of sa(r))!ca.call(t,i)&&i!==e&&Si(t,i,{get:()=>r[i],enumerable:!(n=oa(r,i))||n.enumerable});return t},kr=(t,r,e)=>(e=t!=null?aa(fa(t)):{},la(r||!t||!t.__esModule?Si(e,"default",{value:t,enumerable:!0}):e,t)),pa=jr((t,r)=>{(function(e,n){typeof t=="object"&&typeof r<"u"?r.exports=n():typeof define=="function"&&define.amd?define(n):(e=typeof globalThis<"u"?globalThis:e||self,e.typed=n())})(t,function(){function e(s,l){var p=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!p){if(Array.isArray(s)||(p=n(s))||l&&s&&typeof s.length=="number"){p&&(s=p);var f=0,m=function(){};return{s:m,n:function(){return f>=s.length?{done:!0}:{done:!1,value:s[f++]}},e:function(x){throw x},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=!0,y=!1,w;return{s:function(){p=p.call(s)},n:function(){var x=p.next();return D=x.done,x},e:function(x){y=!0,w=x},f:function(){try{!D&&p.return!=null&&p.return()}finally{if(y)throw w}}}}function n(s,l){if(s){if(typeof s=="string")return i(s,l);var p=Object.prototype.toString.call(s).slice(8,-1);if(p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set")return Array.from(s);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return i(s,l)}}function i(s,l){(l==null||l>s.length)&&(l=s.length);for(var p=0,f=new Array(l);p<l;p++)f[p]=s[p];return f}function a(s){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(s)}function c(){return!0}function v(){return!1}function d(){}var h="Argument is not a typed-function.";function o(){function s(_){return a(_)==="object"&&_!==null&&_.constructor===Object}var l=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:s},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],p={name:"any",test:c,isAny:!0},f,m,D=0,y={createCount:0};function w(_){var T=f.get(_);if(T)return T;var R='Unknown type "'+_+'"',J=_.toLowerCase(),K,Y=e(m),et;try{for(Y.s();!(et=Y.n()).done;)if(K=et.value,K.toLowerCase()===J){R+='. Did you mean "'+K+'" ?';break}}catch(Z){Y.e(Z)}finally{Y.f()}throw new TypeError(R)}function x(_){for(var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",R=T?w(T).index:m.length,J=[],K=0;K<_.length;++K){if(!_[K]||typeof _[K].name!="string"||typeof _[K].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var Y=_[K].name;if(f.has(Y))throw new TypeError('Duplicate type name "'+Y+'"');J.push(Y),f.set(Y,{name:Y,test:_[K].test,isAny:_[K].isAny,index:R+K,conversionsTo:[]})}var et=m.slice(R);m=m.slice(0,R).concat(J).concat(et);for(var Z=R+J.length;Z<m.length;++Z)f.get(m[Z]).index=Z}function g(){f=new Map,m=[],D=0,x([p],!1)}g(),x(l);function E(){var _,T=e(m),R;try{for(T.s();!(R=T.n()).done;)_=R.value,f.get(_).conversionsTo=[]}catch(J){T.e(J)}finally{T.f()}D=0}function b(_){var T=m.filter(function(R){var J=f.get(R);return!J.isAny&&J.test(_)});return T.length?T:["any"]}function C(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function F(_,T,R){if(!C(_))throw new TypeError(h);var J=R&&R.exact,K=Array.isArray(T)?T.join(","):T,Y=I(K),et=M(Y);if(!J||et in _.signatures){var Z=_._typedFunctionData.signatureMap.get(et);if(Z)return Z}var ut=Y.length,xt;if(J){xt=[];var Et;for(Et in _.signatures)xt.push(_._typedFunctionData.signatureMap.get(Et))}else xt=_._typedFunctionData.signatures;for(var nt=0;nt<ut;++nt){var Ht=Y[nt],Ut=[],kt=void 0,Rt=e(xt),Xt;try{for(Rt.s();!(Xt=Rt.n()).done;){kt=Xt.value;var Vt=O(kt.params,nt);if(!(!Vt||Ht.restParam&&!Vt.restParam)){if(!Vt.hasAny){var ue=function(){var Yt=z(Vt);if(Ht.types.some(function(ze){return!Yt.has(ze.name)}))return"continue"}();if(ue==="continue")continue}Ut.push(kt)}}}catch(Yt){Rt.e(Yt)}finally{Rt.f()}if(xt=Ut,xt.length===0)break}var ee,Wt=e(xt),Ne;try{for(Wt.s();!(Ne=Wt.n()).done;)if(ee=Ne.value,ee.params.length<=ut)return ee}catch(Yt){Wt.e(Yt)}finally{Wt.f()}throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+M(Y,", ")+"))")}function A(_,T,R){return F(_,T,R).implementation}function B(_,T){var R=w(T);if(R.test(_))return _;var J=R.conversionsTo;if(J.length===0)throw new Error("There are no conversions to "+T+" defined.");for(var K=0;K<J.length;K++){var Y=w(J[K].from);if(Y.test(_))return J[K].convert(_)}throw new Error("Cannot convert "+_+" to "+T)}function M(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map(function(R){return R.name}).join(T)}function S(_){var T=_.indexOf("...")===0,R=T?_.length>3?_.slice(3):"any":_,J=R.split("|").map(function(Z){return w(Z.trim())}),K=!1,Y=T?"...":"",et=J.map(function(Z){return K=Z.isAny||K,Y+=Z.name+"|",{name:Z.name,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:null,conversionIndex:-1}});return{types:et,name:Y.slice(0,-1),hasAny:K,hasConversion:!1,restParam:T}}function j(_){var T=_.types.map(function(et){return et.name}),R=tt(T),J=_.hasAny,K=_.name,Y=R.map(function(et){var Z=w(et.from);return J=Z.isAny||J,K+="|"+et.from,{name:et.from,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:et,conversionIndex:et.index}});return{types:_.types.concat(Y),name:K,hasAny:J,hasConversion:Y.length>0,restParam:_.restParam}}function z(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(function(T){return _.typeSet.add(T.name)})),_.typeSet}function I(_){var T=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");var R=_.trim();if(R==="")return T;for(var J=R.split(","),K=0;K<J.length;++K){var Y=S(J[K].trim());if(Y.restParam&&K!==J.length-1)throw new SyntaxError('Unexpected rest parameter "'+J[K]+'": only allowed for the last parameter');if(Y.types.length===0)return null;T.push(Y)}return T}function q(_){var T=Bt(_);return T?T.restParam:!1}function N(_){if(!_||_.types.length===0)return c;if(_.types.length===1)return w(_.types[0].name).test;if(_.types.length===2){var T=w(_.types[0].name).test,R=w(_.types[1].name).test;return function(K){return T(K)||R(K)}}else{var J=_.types.map(function(K){return w(K.name).test});return function(K){for(var Y=0;Y<J.length;Y++)if(J[Y](K))return!0;return!1}}}function k(_){var T,R,J;if(q(_)){T=_t(_).map(N);var K=T.length,Y=N(Bt(_)),et=function(Z){for(var ut=K;ut<Z.length;ut++)if(!Y(Z[ut]))return!1;return!0};return function(Z){for(var ut=0;ut<T.length;ut++)if(!T[ut](Z[ut]))return!1;return et(Z)&&Z.length>=K+1}}else return _.length===0?function(Z){return Z.length===0}:_.length===1?(R=N(_[0]),function(Z){return R(Z[0])&&Z.length===1}):_.length===2?(R=N(_[0]),J=N(_[1]),function(Z){return R(Z[0])&&J(Z[1])&&Z.length===2}):(T=_.map(N),function(Z){for(var ut=0;ut<T.length;ut++)if(!T[ut](Z[ut]))return!1;return Z.length===T.length})}function O(_,T){return T<_.length?_[T]:q(_)?Bt(_):null}function U(_,T){var R=O(_,T);return R?z(R):new Set}function X(_){return _.conversion===null||_.conversion===void 0}function P(_,T){var R=new Set;return _.forEach(function(J){var K=U(J.params,T),Y,et=e(K),Z;try{for(et.s();!(Z=et.n()).done;)Y=Z.value,R.add(Y)}catch(ut){et.e(ut)}finally{et.f()}}),R.has("any")?["any"]:Array.from(R)}function L(_,T,R){var J,K,Y=_||"unnamed",et=R,Z,ut=function(){var kt=[];if(et.forEach(function(Xt){var Vt=O(Xt.params,Z),ue=N(Vt);(Z<Xt.params.length||q(Xt.params))&&ue(T[Z])&&kt.push(Xt)}),kt.length===0){if(K=P(et,Z),K.length>0){var Rt=b(T[Z]);return J=new TypeError("Unexpected type of argument in function "+Y+" (expected: "+K.join(" or ")+", actual: "+Rt.join(" | ")+", index: "+Z+")"),J.data={category:"wrongType",fn:Y,index:Z,actual:Rt,expected:K},{v:J}}}else et=kt};for(Z=0;Z<T.length;Z++){var xt=ut();if(a(xt)==="object")return xt.v}var Et=et.map(function(kt){return q(kt.params)?1/0:kt.params.length});if(T.length<Math.min.apply(null,Et))return K=P(et,Z),J=new TypeError("Too few arguments in function "+Y+" (expected: "+K.join(" or ")+", index: "+T.length+")"),J.data={category:"tooFewArgs",fn:Y,index:T.length,expected:K},J;var nt=Math.max.apply(null,Et);if(T.length>nt)return J=new TypeError("Too many arguments in function "+Y+" (expected: "+nt+", actual: "+T.length+")"),J.data={category:"tooManyArgs",fn:Y,index:T.length,expectedLength:nt},J;for(var Ht=[],Ut=0;Ut<T.length;++Ut)Ht.push(b(T[Ut]).join("|"));return J=new TypeError('Arguments of type "'+Ht.join(", ")+'" do not match any of the defined signatures of function '+Y+"."),J.data={category:"mismatch",actual:Ht},J}function $(_){for(var T=m.length+1,R=0;R<_.types.length;R++)X(_.types[R])&&(T=Math.min(T,_.types[R].typeIndex));return T}function G(_){for(var T=D+1,R=0;R<_.types.length;R++)X(_.types[R])||(T=Math.min(T,_.types[R].conversionIndex));return T}function Q(_,T){if(_.hasAny){if(!T.hasAny)return 1}else if(T.hasAny)return-1;if(_.restParam){if(!T.restParam)return 1}else if(T.restParam)return-1;if(_.hasConversion){if(!T.hasConversion)return 1}else if(T.hasConversion)return-1;var R=$(_)-$(T);if(R<0)return-1;if(R>0)return 1;var J=G(_)-G(T);return J<0?-1:J>0?1:0}function rt(_,T){var R=_.params,J=T.params,K=Bt(R),Y=Bt(J),et=q(R),Z=q(J);if(et&&K.hasAny){if(!Z||!Y.hasAny)return 1}else if(Z&&Y.hasAny)return-1;var ut=0,xt=0,Et,nt=e(R),Ht;try{for(nt.s();!(Ht=nt.n()).done;)Et=Ht.value,Et.hasAny&&++ut,Et.hasConversion&&++xt}catch(Ke){nt.e(Ke)}finally{nt.f()}var Ut=0,kt=0,Rt=e(J),Xt;try{for(Rt.s();!(Xt=Rt.n()).done;)Et=Xt.value,Et.hasAny&&++Ut,Et.hasConversion&&++kt}catch(Ke){Rt.e(Ke)}finally{Rt.f()}if(ut!==Ut)return ut-Ut;if(et&&K.hasConversion){if(!Z||!Y.hasConversion)return 1}else if(Z&&Y.hasConversion)return-1;if(xt!==kt)return xt-kt;if(et){if(!Z)return 1}else if(Z)return-1;var Vt=(R.length-J.length)*(et?-1:1);if(Vt!==0)return Vt;for(var ue=[],ee=0,Wt=0;Wt<R.length;++Wt){var Ne=Q(R[Wt],J[Wt]);ue.push(Ne),ee+=Ne}if(ee!==0)return ee;for(var Yt,ze=0,pr=ue;ze<pr.length;ze++)if(Yt=pr[ze],Yt!==0)return Yt;return 0}function tt(_){if(_.length===0)return[];var T=_.map(w);_.length>1&&T.sort(function(ut,xt){return ut.index-xt.index});var R=T[0].conversionsTo;if(_.length===1)return R;R=R.concat([]);for(var J=new Set(_),K=1;K<T.length;++K){var Y=void 0,et=e(T[K].conversionsTo),Z;try{for(et.s();!(Z=et.n()).done;)Y=Z.value,J.has(Y.from)||(R.push(Y),J.add(Y.from))}catch(ut){et.e(ut)}finally{et.f()}}return R}function V(_,T){var R=T;if(_.some(function(Z){return Z.hasConversion})){var J=q(_),K=_.map(ht);R=function(){for(var Z=[],ut=J?arguments.length-1:arguments.length,xt=0;xt<ut;xt++)Z[xt]=K[xt](arguments[xt]);return J&&(Z[ut]=arguments[ut].map(K[ut])),T.apply(this,Z)}}var Y=R;if(q(_)){var et=_.length-1;Y=function(){return R.apply(this,It(arguments,0,et).concat([It(arguments,et)]))}}return Y}function ht(_){var T,R,J,K,Y=[],et=[];switch(_.types.forEach(function(Z){Z.conversion&&(Y.push(w(Z.conversion.from).test),et.push(Z.conversion.convert))}),et.length){case 0:return function(Z){return Z};case 1:return T=Y[0],J=et[0],function(Z){return T(Z)?J(Z):Z};case 2:return T=Y[0],R=Y[1],J=et[0],K=et[1],function(Z){return T(Z)?J(Z):R(Z)?K(Z):Z};default:return function(Z){for(var ut=0;ut<et.length;ut++)if(Y[ut](Z))return et[ut](Z);return Z}}}function ot(_){function T(R,J,K){if(J<R.length){var Y=R[J],et=[];if(Y.restParam){var Z=Y.types.filter(X);Z.length<Y.types.length&&et.push({types:Z,name:"..."+Z.map(function(ut){return ut.name}).join("|"),hasAny:Z.some(function(ut){return ut.isAny}),hasConversion:!1,restParam:!0}),et.push(Y)}else et=Y.types.map(function(ut){return{types:[ut],name:ut.name,hasAny:ut.isAny,hasConversion:ut.conversion,restParam:!1}});return ie(et,function(ut){return T(R,J+1,K.concat([ut]))})}else return[K]}return T(_,0,[])}function it(_,T){for(var R=Math.max(_.length,T.length),J=0;J<R;J++){var K=U(_,J),Y=U(T,J),et=!1,Z=void 0,ut=e(Y),xt;try{for(ut.s();!(xt=ut.n()).done;)if(Z=xt.value,K.has(Z)){et=!0;break}}catch(kt){ut.e(kt)}finally{ut.f()}if(!et)return!1}var Et=_.length,nt=T.length,Ht=q(_),Ut=q(T);return Ht?Ut?Et===nt:nt>=Et:Ut?Et>=nt:Et===nt}function ft(_){return _.map(function(T){return lr(T)?pe(T.referToSelf.callback):Qe(T)?se(T.referTo.references,T.referTo.callback):T})}function dt(_,T,R){var J=[],K,Y=e(_),et;try{for(Y.s();!(et=Y.n()).done;){K=et.value;var Z=R[K];if(typeof Z!="number")throw new TypeError('No definition for referenced signature "'+K+'"');if(Z=T[Z],typeof Z!="function")return!1;J.push(Z)}}catch(ut){Y.e(ut)}finally{Y.f()}return J}function mt(_,T,R){for(var J=ft(_),K=new Array(J.length).fill(!1),Y=!0;Y;){Y=!1;for(var et=!0,Z=0;Z<J.length;++Z)if(!K[Z]){var ut=J[Z];if(lr(ut))J[Z]=ut.referToSelf.callback(R),J[Z].referToSelf=ut.referToSelf,K[Z]=!0,et=!1;else if(Qe(ut)){var xt=dt(ut.referTo.references,J,T);xt?(J[Z]=ut.referTo.callback.apply(this,xt),J[Z].referTo=ut.referTo,K[Z]=!0,et=!1):Y=!0}}if(et&&Y)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return J}function ct(_){var T=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach(function(R){var J=_[R];if(T.test(J.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function gt(_,T){if(y.createCount++,Object.keys(T).length===0)throw new SyntaxError("No signatures provided");y.warnAgainstDeprecatedThis&&ct(T);var R=[],J=[],K={},Y=[],et,Z=function(){if(!Object.prototype.hasOwnProperty.call(T,et))return"continue";var zt=I(et);if(!zt)return"continue";R.forEach(function(ke){if(it(ke,zt))throw new TypeError('Conflicting signatures "'+M(ke)+'" and "'+M(zt)+'".')}),R.push(zt);var me=J.length;J.push(T[et]);var ua=zt.map(j),hr=void 0,vr=e(ot(ua)),Cn;try{for(vr.s();!(Cn=vr.n()).done;){hr=Cn.value;var Mn=M(hr);Y.push({params:hr,name:Mn,fn:me}),hr.every(function(ke){return!ke.hasConversion})&&(K[Mn]=me)}}catch(ke){vr.e(ke)}finally{vr.f()}};for(et in T)var ut=Z();Y.sort(rt);var xt=mt(J,K,tr),Et;for(Et in K)Object.prototype.hasOwnProperty.call(K,Et)&&(K[Et]=xt[K[Et]]);for(var nt=[],Ht=new Map,Ut=0,kt=Y;Ut<kt.length;Ut++)Et=kt[Ut],Ht.has(Et.name)||(Et.fn=xt[Et.fn],nt.push(Et),Ht.set(Et.name,Et));for(var Rt=nt[0]&&nt[0].params.length<=2&&!q(nt[0].params),Xt=nt[1]&&nt[1].params.length<=2&&!q(nt[1].params),Vt=nt[2]&&nt[2].params.length<=2&&!q(nt[2].params),ue=nt[3]&&nt[3].params.length<=2&&!q(nt[3].params),ee=nt[4]&&nt[4].params.length<=2&&!q(nt[4].params),Wt=nt[5]&&nt[5].params.length<=2&&!q(nt[5].params),Ne=Rt&&Xt&&Vt&&ue&&ee&&Wt,Yt=0;Yt<nt.length;++Yt)nt[Yt].test=k(nt[Yt].params);for(var ze=Rt?N(nt[0].params[0]):v,pr=Xt?N(nt[1].params[0]):v,Ke=Vt?N(nt[2].params[0]):v,Ou=ue?N(nt[3].params[0]):v,Iu=ee?N(nt[4].params[0]):v,Tu=Wt?N(nt[5].params[0]):v,ju=Rt?N(nt[0].params[1]):v,ku=Xt?N(nt[1].params[1]):v,Pu=Vt?N(nt[2].params[1]):v,qu=ue?N(nt[3].params[1]):v,Ru=ee?N(nt[4].params[1]):v,Lu=Wt?N(nt[5].params[1]):v,Ye=0;Ye<nt.length;++Ye)nt[Ye].implementation=V(nt[Ye].params,nt[Ye].fn);var Uu=Rt?nt[0].implementation:d,Zu=Xt?nt[1].implementation:d,$u=Vt?nt[2].implementation:d,Xu=ue?nt[3].implementation:d,Ju=ee?nt[4].implementation:d,Gu=Wt?nt[5].implementation:d,Hu=Rt?nt[0].params.length:-1,Vu=Xt?nt[1].params.length:-1,Wu=Vt?nt[2].params.length:-1,Qu=ue?nt[3].params.length:-1,Ku=ee?nt[4].params.length:-1,Yu=Wt?nt[5].params.length:-1,ta=Ne?6:0,ea=nt.length,ra=nt.map(function(zt){return zt.test}),na=nt.map(function(zt){return zt.implementation}),ia=function(){for(var zt=ta;zt<ea;zt++)if(ra[zt](arguments))return na[zt].apply(this,arguments);return y.onMismatch(_,arguments,nt)};function tr(zt,me){return arguments.length===Hu&&ze(zt)&&ju(me)?Uu.apply(this,arguments):arguments.length===Vu&&pr(zt)&&ku(me)?Zu.apply(this,arguments):arguments.length===Wu&&Ke(zt)&&Pu(me)?$u.apply(this,arguments):arguments.length===Qu&&Ou(zt)&&qu(me)?Xu.apply(this,arguments):arguments.length===Ku&&Iu(zt)&&Ru(me)?Ju.apply(this,arguments):arguments.length===Yu&&Tu(zt)&&Lu(me)?Gu.apply(this,arguments):ia.apply(this,arguments)}try{Object.defineProperty(tr,"name",{value:_})}catch{}return tr.signatures=K,tr._typedFunctionData={signatures:nt,signatureMap:Ht},tr}function Dt(_,T,R){throw L(_,T,R)}function _t(_){return It(_,0,_.length-1)}function Bt(_){return _[_.length-1]}function It(_,T,R){return Array.prototype.slice.call(_,T,R)}function Kt(_,T){for(var R=0;R<_.length;R++)if(T(_[R]))return _[R]}function ie(_,T){return Array.prototype.concat.apply([],_.map(T))}function Lt(){var _=_t(arguments).map(function(R){return M(I(R))}),T=Bt(arguments);if(typeof T!="function")throw new TypeError("Callback function expected as last argument");return se(_,T)}function se(_,T){return{referTo:{references:_,callback:T}}}function pe(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function Qe(_){return _&&a(_.referTo)==="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function lr(_){return _&&a(_.referToSelf)==="object"&&typeof _.referToSelf.callback=="function"}function je(_,T){if(!_)return T;if(T&&T!==_){var R=new Error("Function names do not match (expected: "+_+", actual: "+T+")");throw R.data={actual:T,expected:_},R}return _}function Su(_){var T;for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(C(_[R])||typeof _[R].signature=="string")&&(T=je(T,_[R].name));return T}function Nu(_,T){var R;for(R in T)if(Object.prototype.hasOwnProperty.call(T,R)){if(R in _&&T[R]!==_[R]){var J=new Error('Signature "'+R+'" is defined twice');throw J.data={signature:R,sourceFunction:T[R],destFunction:_[R]},J}_[R]=T[R]}}var zu=y;y=function(_){for(var T=typeof _=="string",R=T?1:0,J=T?_:"",K={},Y=R;Y<arguments.length;++Y){var et=arguments[Y],Z={},ut=void 0;if(typeof et=="function"?(ut=et.name,typeof et.signature=="string"?Z[et.signature]=et:C(et)&&(Z=et.signatures)):s(et)&&(Z=et,T||(ut=Su(et))),Object.keys(Z).length===0){var xt=new TypeError("Argument to 'typed' at index "+Y+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw xt.data={index:Y,argument:et},xt}T||(J=je(J,ut)),Nu(K,Z)}return gt(J||"",K)},y.create=o,y.createCount=zu.createCount,y.onMismatch=Dt,y.throwMismatchError=Dt,y.createError=L,y.clear=g,y.clearConversions=E,y.addTypes=x,y._findType=w,y.referTo=Lt,y.referToSelf=pe,y.convert=B,y.findSignature=F,y.find=A,y.isTypedFunction=C,y.warnAgainstDeprecatedThis=!0,y.addType=function(_,T){var R="any";T!==!1&&f.has("Object")&&(R="Object"),y.addTypes([_],R)};function bn(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return y.addConversion=function(_){bn(_);var T=w(_.to);if(T.conversionsTo.every(function(R){return R.from!==_.from}))T.conversionsTo.push({from:_.from,convert:_.convert,index:D++});else throw new Error('There is already a conversion from "'+_.from+'" to "'+T.name+'"')},y.addConversions=function(_){_.forEach(y.addConversion)},y.removeConversion=function(_){bn(_);var T=w(_.to),R=Kt(T.conversionsTo,function(K){return K.from===_.from});if(!R)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if(R.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");var J=T.conversionsTo.indexOf(R);T.conversionsTo.splice(J,1)},y.resolve=function(_,T){if(!C(_))throw new TypeError(h);for(var R=_._typedFunctionData.signatures,J=0;J<R.length;++J)if(R[J].test(T))return R[J];return null},y}var u=o();return u})}),ha=jr((t,r)=>{(function(e){var n=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},i=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var s=Math.PI/4;if(-s>u||u>s)return Math.cos(u)-1;var l=u*u;return l*(l*(l*(l*(l*(l*(l*(l/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},c=function(u,s){var l=Math.abs(u),p=Math.abs(s);return l<3e3&&p<3e3?Math.sqrt(l*l+p*p):(l<p?(l=p,p=u/s):p=s/u,l*Math.sqrt(1+p*p))},v=function(){throw SyntaxError("Invalid Param")};function d(u,s){var l=Math.abs(u),p=Math.abs(s);return u===0?Math.log(p):s===0?Math.log(l):l<3e3&&p<3e3?Math.log(u*u+s*s)*.5:(u=u/2,s=s/2,.5*Math.log(u*u+s*s)+Math.LN2)}var h=function(u,s){var l={re:0,im:0};if(u==null)l.re=l.im=0;else if(s!==void 0)l.re=u,l.im=s;else switch(typeof u){case"object":if("im"in u&&"re"in u)l.re=u.re,l.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return o.INFINITY;l.re=u.abs*Math.cos(u.arg),l.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return o.INFINITY;l.re=u.r*Math.cos(u.phi),l.im=u.r*Math.sin(u.phi)}else u.length===2?(l.re=u[0],l.im=u[1]):v();break;case"string":l.im=l.re=0;var p=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),f=1,m=0;p===null&&v();for(var D=0;D<p.length;D++){var y=p[D];y===" "||y==="	"||y===`
`||(y==="+"?f++:y==="-"?m++:y==="i"||y==="I"?(f+m===0&&v(),p[D+1]!==" "&&!isNaN(p[D+1])?(l.im+=parseFloat((m%2?"-":"")+p[D+1]),D++):l.im+=parseFloat((m%2?"-":"")+"1"),f=m=0):((f+m===0||isNaN(y))&&v(),p[D+1]==="i"||p[D+1]==="I"?(l.im+=parseFloat((m%2?"-":"")+y),D++):l.re+=parseFloat((m%2?"-":"")+y),f=m=0))}f+m>0&&v();break;case"number":l.im=0,l.re=u;break;default:v()}return isNaN(l.re)||isNaN(l.im),l};function o(u,s){if(!(this instanceof o))return new o(u,s);var l=h(u,s);this.re=l.re,this.im=l.im}o.prototype={re:0,im:0,sign:function(){var u=this.abs();return new o(this.re/u,this.im/u)},add:function(u,s){var l=new o(u,s);return this.isInfinite()&&l.isInfinite()?o.NAN:this.isInfinite()||l.isInfinite()?o.INFINITY:new o(this.re+l.re,this.im+l.im)},sub:function(u,s){var l=new o(u,s);return this.isInfinite()&&l.isInfinite()?o.NAN:this.isInfinite()||l.isInfinite()?o.INFINITY:new o(this.re-l.re,this.im-l.im)},mul:function(u,s){var l=new o(u,s);return this.isInfinite()&&l.isZero()||this.isZero()&&l.isInfinite()?o.NAN:this.isInfinite()||l.isInfinite()?o.INFINITY:l.im===0&&this.im===0?new o(this.re*l.re,0):new o(this.re*l.re-this.im*l.im,this.re*l.im+this.im*l.re)},div:function(u,s){var l=new o(u,s);if(this.isZero()&&l.isZero()||this.isInfinite()&&l.isInfinite())return o.NAN;if(this.isInfinite()||l.isZero())return o.INFINITY;if(this.isZero()||l.isInfinite())return o.ZERO;u=this.re,s=this.im;var p=l.re,f=l.im,m,D;return f===0?new o(u/p,s/p):Math.abs(p)<Math.abs(f)?(D=p/f,m=p*D+f,new o((u*D+s)/m,(s*D-u)/m)):(D=f/p,m=f*D+p,new o((u+s*D)/m,(s-u*D)/m))},pow:function(u,s){var l=new o(u,s);if(u=this.re,s=this.im,l.isZero())return o.ONE;if(l.im===0){if(s===0&&u>0)return new o(Math.pow(u,l.re),0);if(u===0)switch((l.re%4+4)%4){case 0:return new o(Math.pow(s,l.re),0);case 1:return new o(0,Math.pow(s,l.re));case 2:return new o(-Math.pow(s,l.re),0);case 3:return new o(0,-Math.pow(s,l.re))}}if(u===0&&s===0&&l.re>0&&l.im>=0)return o.ZERO;var p=Math.atan2(s,u),f=d(u,s);return u=Math.exp(l.re*f-l.im*p),s=l.im*f+l.re*p,new o(u*Math.cos(s),u*Math.sin(s))},sqrt:function(){var u=this.re,s=this.im,l=this.abs(),p,f;if(u>=0){if(s===0)return new o(Math.sqrt(u),0);p=.5*Math.sqrt(2*(l+u))}else p=Math.abs(s)/Math.sqrt(2*(l-u));return u<=0?f=.5*Math.sqrt(2*(l-u)):f=Math.abs(s)/Math.sqrt(2*(l+u)),new o(p,s<0?-f:f)},exp:function(){var u=Math.exp(this.re);return this.im,new o(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,s=this.im;return new o(Math.expm1(u)*Math.cos(s)+a(s),Math.exp(u)*Math.sin(s))},log:function(){var u=this.re,s=this.im;return new o(d(u,s),Math.atan2(s,u))},abs:function(){return c(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,s=this.im;return new o(Math.sin(u)*n(s),Math.cos(u)*i(s))},cos:function(){var u=this.re,s=this.im;return new o(Math.cos(u)*n(s),-Math.sin(u)*i(s))},tan:function(){var u=2*this.re,s=2*this.im,l=Math.cos(u)+n(s);return new o(Math.sin(u)/l,i(s)/l)},cot:function(){var u=2*this.re,s=2*this.im,l=Math.cos(u)-n(s);return new o(-Math.sin(u)/l,i(s)/l)},sec:function(){var u=this.re,s=this.im,l=.5*n(2*s)+.5*Math.cos(2*u);return new o(Math.cos(u)*n(s)/l,Math.sin(u)*i(s)/l)},csc:function(){var u=this.re,s=this.im,l=.5*n(2*s)-.5*Math.cos(2*u);return new o(Math.sin(u)*n(s)/l,-Math.cos(u)*i(s)/l)},asin:function(){var u=this.re,s=this.im,l=new o(s*s-u*u+1,-2*u*s).sqrt(),p=new o(l.re-s,l.im+u).log();return new o(p.im,-p.re)},acos:function(){var u=this.re,s=this.im,l=new o(s*s-u*u+1,-2*u*s).sqrt(),p=new o(l.re-s,l.im+u).log();return new o(Math.PI/2-p.im,p.re)},atan:function(){var u=this.re,s=this.im;if(u===0){if(s===1)return new o(0,1/0);if(s===-1)return new o(0,-1/0)}var l=u*u+(1-s)*(1-s),p=new o((1-s*s-u*u)/l,-2*u/l).log();return new o(-.5*p.im,.5*p.re)},acot:function(){var u=this.re,s=this.im;if(s===0)return new o(Math.atan2(1,u),0);var l=u*u+s*s;return l!==0?new o(u/l,-s/l).atan():new o(u!==0?u/0:0,s!==0?-s/0:0).atan()},asec:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(0,1/0);var l=u*u+s*s;return l!==0?new o(u/l,-s/l).acos():new o(u!==0?u/0:0,s!==0?-s/0:0).acos()},acsc:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(Math.PI/2,1/0);var l=u*u+s*s;return l!==0?new o(u/l,-s/l).asin():new o(u!==0?u/0:0,s!==0?-s/0:0).asin()},sinh:function(){var u=this.re,s=this.im;return new o(i(u)*Math.cos(s),n(u)*Math.sin(s))},cosh:function(){var u=this.re,s=this.im;return new o(n(u)*Math.cos(s),i(u)*Math.sin(s))},tanh:function(){var u=2*this.re,s=2*this.im,l=n(u)+Math.cos(s);return new o(i(u)/l,Math.sin(s)/l)},coth:function(){var u=2*this.re,s=2*this.im,l=n(u)-Math.cos(s);return new o(i(u)/l,-Math.sin(s)/l)},csch:function(){var u=this.re,s=this.im,l=Math.cos(2*s)-n(2*u);return new o(-2*i(u)*Math.cos(s)/l,2*n(u)*Math.sin(s)/l)},sech:function(){var u=this.re,s=this.im,l=Math.cos(2*s)+n(2*u);return new o(2*n(u)*Math.cos(s)/l,-2*i(u)*Math.sin(s)/l)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var s=this.asin();return this.re=-this.im,this.im=u,u=s.re,s.re=-s.im,s.im=u,s},acosh:function(){var u=this.acos();if(u.im<=0){var s=u.re;u.re=-u.im,u.im=s}else{var s=u.im;u.im=-u.re,u.re=s}return u},atanh:function(){var u=this.re,s=this.im,l=u>1&&s===0,p=1-u,f=1+u,m=p*p+s*s,D=m!==0?new o((f*p-s*s)/m,(s*p+f*s)/m):new o(u!==-1?u/0:0,s!==0?s/0:0),y=D.re;return D.re=d(D.re,D.im)/2,D.im=Math.atan2(D.im,y)/2,l&&(D.im=-D.im),D},acoth:function(){var u=this.re,s=this.im;if(u===0&&s===0)return new o(0,Math.PI/2);var l=u*u+s*s;return l!==0?new o(u/l,-s/l).atanh():new o(u!==0?u/0:0,s!==0?-s/0:0).atanh()},acsch:function(){var u=this.re,s=this.im;if(s===0)return new o(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var l=u*u+s*s;return l!==0?new o(u/l,-s/l).asinh():new o(u!==0?u/0:0,s!==0?-s/0:0).asinh()},asech:function(){var u=this.re,s=this.im;if(this.isZero())return o.INFINITY;var l=u*u+s*s;return l!==0?new o(u/l,-s/l).acosh():new o(u!==0?u/0:0,s!==0?-s/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var u=this.re,s=this.im,l=u*u+s*s;return new o(u/l,-s/l)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new o(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new o(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new o(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,s){var l=new o(u,s);return Math.abs(l.re-this.re)<=o.EPSILON&&Math.abs(l.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var u=this.re,s=this.im,l="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<o.EPSILON&&(u=0),Math.abs(s)<o.EPSILON&&(s=0),s===0?l+u:(u!==0?(l+=u,l+=" ",s<0?(s=-s,l+="-"):l+="+",l+=" "):s<0&&(s=-s,l+="-"),s!==1&&(l+=s),l+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return o}):typeof t=="object"?(Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o):e.Complex=o})(t)}),va=jr((t,r)=>{(function(e){var n=2e3,i={s:1,n:0,d:1};function a(p,f){if(isNaN(p=parseInt(p,10)))throw l.InvalidParameter;return p*f}function c(p,f){if(f===0)throw l.DivisionByZero;var m=Object.create(l.prototype);m.s=p<0?-1:1,p=p<0?-p:p;var D=s(p,f);return m.n=p/D,m.d=f/D,m}function v(p){for(var f={},m=p,D=2,y=4;y<=m;){for(;m%D===0;)m/=D,f[D]=(f[D]||0)+1;y+=1+2*D++}return m!==p?m>1&&(f[m]=(f[m]||0)+1):f[p]=(f[p]||0)+1,f}var d=function(p,f){var m=0,D=1,y=1,w=0,x=0,g=0,E=1,b=1,C=0,F=1,A=1,B=1,M=1e7,S;if(p!=null)if(f!==void 0){if(m=p,D=f,y=m*D,m%1!==0||D%1!==0)throw l.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)m=p.n,D=p.d,"s"in p&&(m*=p.s);else if(0 in p)m=p[0],1 in p&&(D=p[1]);else throw l.InvalidParameter;y=m*D;break}case"number":{if(p<0&&(y=p,p=-p),p%1===0)m=p;else if(p>0){for(p>=1&&(b=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=b);F<=M&&B<=M;)if(S=(C+A)/(F+B),p===S){F+B<=M?(m=C+A,D=F+B):B>F?(m=A,D=B):(m=C,D=F);break}else p>S?(C+=A,F+=B):(A+=C,B+=F),F>M?(m=A,D=B):(m=C,D=F);m*=b}else(isNaN(p)||isNaN(f))&&(D=m=NaN);break}case"string":{if(F=p.match(/\d+|./g),F===null)throw l.InvalidParameter;if(F[C]==="-"?(y=-1,C++):F[C]==="+"&&C++,F.length===C+1?x=a(F[C++],y):F[C+1]==="."||F[C]==="."?(F[C]!=="."&&(w=a(F[C++],y)),C++,(C+1===F.length||F[C+1]==="("&&F[C+3]===")"||F[C+1]==="'"&&F[C+3]==="'")&&(x=a(F[C],y),E=Math.pow(10,F[C].length),C++),(F[C]==="("&&F[C+2]===")"||F[C]==="'"&&F[C+2]==="'")&&(g=a(F[C+1],y),b=Math.pow(10,F[C+1].length)-1,C+=3)):F[C+1]==="/"||F[C+1]===":"?(x=a(F[C],y),E=a(F[C+2],1),C+=3):F[C+3]==="/"&&F[C+1]===" "&&(w=a(F[C],y),x=a(F[C+2],y),E=a(F[C+4],1),C+=5),F.length<=C){D=E*b,y=m=g+D*w+b*x;break}}default:throw l.InvalidParameter}if(D===0)throw l.DivisionByZero;i.s=y<0?-1:1,i.n=Math.abs(m),i.d=Math.abs(D)};function h(p,f,m){for(var D=1;f>0;p=p*p%m,f>>=1)f&1&&(D=D*p%m);return D}function o(p,f){for(;f%2===0;f/=2);for(;f%5===0;f/=5);if(f===1)return 0;for(var m=10%f,D=1;m!==1;D++)if(m=m*10%f,D>n)return 0;return D}function u(p,f,m){for(var D=1,y=h(10,m,f),w=0;w<300;w++){if(D===y)return w;D=D*10%f,y=y*10%f}return 0}function s(p,f){if(!p)return f;if(!f)return p;for(;;){if(p%=f,!p)return f;if(f%=p,!f)return p}}function l(p,f){if(d(p,f),this instanceof l)p=s(i.d,i.n),this.s=i.s,this.n=i.n/p,this.d=i.d/p;else return c(i.s*i.n,i.d)}l.DivisionByZero=new Error("Division by Zero"),l.InvalidParameter=new Error("Invalid argument"),l.NonIntegerParameter=new Error("Parameters must be integer"),l.prototype={s:1,n:0,d:1,abs:function(){return c(this.n,this.d)},neg:function(){return c(-this.s*this.n,this.d)},add:function(p,f){return d(p,f),c(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(p,f){return d(p,f),c(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(p,f){return d(p,f),c(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(p,f){return d(p,f),c(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return c(this.s*this.n,this.d)},mod:function(p,f){if(isNaN(this.n)||isNaN(this.d))return new l(NaN);if(p===void 0)return c(this.s*this.n%this.d,1);if(d(p,f),i.n===0&&this.d===0)throw l.DivisionByZero;return c(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(p,f){return d(p,f),c(s(i.n,this.n)*s(i.d,this.d),i.d*this.d)},lcm:function(p,f){return d(p,f),i.n===0&&this.n===0?c(0,1):c(i.n*this.n,s(i.n,this.n)*s(i.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):c(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):c(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):c(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return c(this.s*this.d,this.n)},pow:function(p,f){if(d(p,f),i.d===1)return i.s<0?c(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):c(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var m=v(this.n),D=v(this.d),y=1,w=1;for(var x in m)if(x!=="1"){if(x==="0"){y=0;break}if(m[x]*=i.n,m[x]%i.d===0)m[x]/=i.d;else return null;y*=Math.pow(x,m[x])}for(var x in D)if(x!=="1"){if(D[x]*=i.n,D[x]%i.d===0)D[x]/=i.d;else return null;w*=Math.pow(x,D[x])}return i.s<0?c(w,y):c(y,w)},equals:function(p,f){return d(p,f),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(p,f){d(p,f);var m=this.s*this.n*i.d-i.s*i.n*this.d;return(0<m)-(m<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var f=this.abs(),m=f.toContinued(),D=1;D<m.length;D++){for(var y=c(m[D-1],1),w=D-2;w>=0;w--)y=y.inverse().add(m[w]);if(y.sub(f).abs().valueOf()<p)return y.mul(this.s)}return this},divisible:function(p,f){return d(p,f),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var f,m="",D=this.n,y=this.d;return this.s<0&&(m+="-"),y===1?m+=D:(p&&(f=Math.floor(D/y))>0&&(m+=f,m+=" ",D%=y),m+=D,m+="/",m+=y),m},toLatex:function(p){var f,m="",D=this.n,y=this.d;return this.s<0&&(m+="-"),y===1?m+=D:(p&&(f=Math.floor(D/y))>0&&(m+=f,D%=y),m+="\\frac{",m+=D,m+="}{",m+=y,m+="}"),m},toContinued:function(){var p,f=this.n,m=this.d,D=[];if(isNaN(f)||isNaN(m))return D;do D.push(Math.floor(f/m)),p=f%m,f=m,m=p;while(f!==1);return D},toString:function(p){var f=this.n,m=this.d;if(isNaN(f)||isNaN(m))return"NaN";p=p||15;var D=o(f,m),y=u(f,m,D),w=this.s<0?"-":"";if(w+=f/m|0,f%=m,f*=10,f&&(w+="."),D){for(var x=y;x--;)w+=f/m|0,f%=m,f*=10;w+="(";for(var x=D;x--;)w+=f/m|0,f%=m,f*=10;w+=")"}else for(var x=p;f&&x--;)w+=f/m|0,f%=m,f*=10;return w}},typeof define=="function"&&define.amd?define([],function(){return l}):typeof t=="object"?(Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,r.exports=l):e.Fraction=l})(t)}),da=jr((t,r)=>{r.exports=function e(n,i){var a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,c=/(^[ ]*|[ ]*$)/g,v=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,d=/^0x[0-9a-f]+$/i,h=/^0/,o=function(g){return e.insensitive&&(""+g).toLowerCase()||""+g},u=o(n).replace(c,"")||"",s=o(i).replace(c,"")||"",l=u.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=s.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=parseInt(u.match(d),16)||l.length!==1&&u.match(v)&&Date.parse(u),m=parseInt(s.match(d),16)||f&&s.match(v)&&Date.parse(s)||null,D,y;if(m){if(f<m)return-1;if(f>m)return 1}for(var w=0,x=Math.max(l.length,p.length);w<x;w++){if(D=!(l[w]||"").match(h)&&parseFloat(l[w])||l[w]||0,y=!(p[w]||"").match(h)&&parseFloat(p[w])||p[w]||0,isNaN(D)!==isNaN(y))return isNaN(D)?1:-1;if(typeof D!=typeof y&&(D+="",y+=""),D<y)return-1;if(D>y)return 1}return 0}});function gr(){return gr=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},gr.apply(this,arguments)}var Ni={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Nt(t){return typeof t=="number"}function jt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function fn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function cn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function zi(t){return t&&t.constructor.prototype.isUnit===!0||!1}function fe(t){return typeof t=="string"}var At=Array.isArray;function Ct(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function wr(t){return Array.isArray(t)||Ct(t)}function xr(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function qe(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Oi(t){return t&&t.constructor.prototype.isRange===!0||!1}function Pr(t){return t&&t.constructor.prototype.isIndex===!0||!1}function ma(t){return typeof t=="boolean"}function Da(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function ya(t){return t&&t.constructor.prototype.isHelp===!0||!1}function ga(t){return typeof t=="function"}function wa(t){return t instanceof Date}function xa(t){return t instanceof RegExp}function Ea(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!fn(t)&&!cn(t))}function Aa(t){return t===null}function Fa(t){return t===void 0}function ba(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ca(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ma(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function _a(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ba(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Sa(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Na(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function za(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Oa(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ia(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ta(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function ja(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ka(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Pa(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function qa(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ra(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function La(t){return t&&t.constructor.prototype.isChain===!0||!1}function ve(t){var r=typeof t;return r==="object"?t===null?"null":jt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":r}function yt(t){var r=typeof t;if(r==="number"||r==="string"||r==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(e){return yt(e)});if(t instanceof Date)return new Date(t.valueOf());if(jt(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Ua(t,yt)}function Ua(t,r){var e={};for(var n in t)rr(t,n)&&(e[n]=r(t[n]));return e}function Za(t,r){for(var e in r)rr(r,e)&&(t[e]=r[e]);return t}function Er(t,r){var e,n,i;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Er(t[n],r[n]))return!1;return!0}else{if(typeof t=="function")return t===r;if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(e in t)if(!(e in r)||!Er(t[e],r[e]))return!1;for(e in r)if(!(e in t))return!1;return!0}else return t===r}}function rr(t,r){return t&&Object.hasOwnProperty.call(t,r)}function $a(t,r){for(var e={},n=0;n<r.length;n++){var i=r[n],a=t[i];a!==void 0&&(e[i]=a)}return e}var Xa=["Matrix","Array"],Ja=["number","BigNumber","Fraction"],Qt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ni)};gr(Qt,Ni,{MATRIX_OPTIONS:Xa,NUMBER_OPTIONS:Ja});var _n=kr(pa(),1);function bt(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var Ga=Math.sign||function(t){return t>0?1:t<0?-1:0};function Hr(t,r,e){var n={2:"0b",8:"0o",16:"0x"},i=n[r],a="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!bt(e))throw new Error("size must be an integer");if(t>Ot(2,e-1)-1||t<-Ot(2,e-1))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!bt(t))throw new Error("Value must be an integer");t<0&&(t=t+Ot(2,e)),a="i".concat(e)}var c="";return t<0&&(t=-t,c="-"),"".concat(c).concat(i).concat(t.toString(r)).concat(a)}function Kr(t,r){if(typeof r=="function")return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var e="auto",n,i;if(r&&(r.notation&&(e=r.notation),Nt(r)?n=r:Nt(r.precision)&&(n=r.precision),r.wordSize&&(i=r.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return Va(t,n);case"exponential":return Ii(t,n);case"engineering":return Ha(t,n);case"bin":return Hr(t,2,i);case"oct":return Hr(t,8,i);case"hex":return Hr(t,16,i);case"auto":return Wa(t,n,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],c=arguments[4];return a!=="."?a+c:c});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qr(t){var r=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var e=r[1],n=r[2],i=parseFloat(r[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var c=n.replace(".","").replace(/^0*/,function(v){return i-=v.length,""}).replace(/0*$/,"").split("").map(function(v){return parseInt(v)});return c.length===0&&(c.push(0),i++),{sign:e,coefficients:c,exponent:i}}function Ha(t,r){if(isNaN(t)||!isFinite(t))return String(t);var e=qr(t),n=Rr(e,r),i=n.exponent,a=n.coefficients,c=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Nt(r))for(;r>a.length||i-c+1>a.length;)a.push(0);else for(var v=Math.abs(i-c)-(a.length-1),d=0;d<v;d++)a.push(0);for(var h=Math.abs(i-c),o=1;h>0;)o++,h--;var u=a.slice(o).join(""),s=Nt(r)&&u.length||u.match(/[1-9]/)?"."+u:"",l=a.slice(0,o).join("")+s+"e"+(i>=0?"+":"")+c.toString();return n.sign+l}function Va(t,r){if(isNaN(t)||!isFinite(t))return String(t);var e=qr(t),n=typeof r=="number"?Rr(e,e.exponent+1+r):e,i=n.coefficients,a=n.exponent+1,c=a+(r||0);return i.length<c&&(i=i.concat(Le(c-i.length))),a<0&&(i=Le(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function Ii(t,r){if(isNaN(t)||!isFinite(t))return String(t);var e=qr(t),n=r?Rr(e,r):e,i=n.coefficients,a=n.exponent;i.length<r&&(i=i.concat(Le(r-i.length)));var c=i.shift();return n.sign+c+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function Wa(t,r,e){if(isNaN(t)||!isFinite(t))return String(t);var n=e&&e.lowerExp!==void 0?e.lowerExp:-3,i=e&&e.upperExp!==void 0?e.upperExp:5,a=qr(t),c=r?Rr(a,r):a;if(c.exponent<n||c.exponent>=i)return Ii(t,r);var v=c.coefficients,d=c.exponent;v.length<r&&(v=v.concat(Le(r-v.length))),v=v.concat(Le(d-v.length+1+(v.length<r?r-v.length:0))),v=Le(-d).concat(v);var h=d>0?d:0;return h<v.length-1&&v.splice(h+1,0,"."),c.sign+v.join("")}function Rr(t,r){for(var e={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=e.coefficients;r<=0;)n.unshift(0),e.exponent++,r++;if(n.length>r){var i=n.splice(r,n.length-r);if(i[0]>=5){var a=r-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),e.exponent++,a++),a--,n[a]++}}return e}function Le(t){for(var r=[],e=0;e<t;e++)r.push(0);return r}function Qa(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Ka=Number.EPSILON||2220446049250313e-31;function ge(t,r,e){if(e==null)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var n=Math.abs(t-r);return n<Ka?!0:n<=Math.max(Math.abs(t),Math.abs(r))*e}return!1}function Vr(t,r,e){var n=t.constructor,i=new n(2),a="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!bt(e))throw new Error("size must be an integer");if(t.greaterThan(i.pow(e-1).sub(1))||t.lessThan(i.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(e))),a="i".concat(e)}switch(r){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(r," not supported "))}}function Ya(t,r){if(typeof r=="function")return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var e="auto",n,i;if(r!==void 0&&(r.notation&&(e=r.notation),typeof r=="number"?n=r:r.precision!==void 0&&(n=r.precision),r.wordSize&&(i=r.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return eo(t,n);case"exponential":return Bn(t,n);case"engineering":return to(t,n);case"bin":return Vr(t,2,i);case"oct":return Vr(t,8,i);case"hex":return Vr(t,16,i);case"auto":{var a=r&&r.lowerExp!==void 0?r.lowerExp:-3,c=r&&r.upperExp!==void 0?r.upperExp:5;if(t.isZero())return"0";var v,d=t.toSignificantDigits(n),h=d.e;return h>=a&&h<c?v=d.toFixed():v=Bn(t,n),v.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],u=arguments[4];return o!=="."?o+u:u})}default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function to(t,r){var e=t.e,n=e%3===0?e:e<0?e-3-e%3:e-e%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(r);if(a.indexOf("e")!==-1){var c=t.constructor;a=new c(a).toFixed()}return a+"e"+(e>=0?"+":"")+n.toString()}function Bn(t,r){return r!==void 0?t.toExponential(r-1):t.toExponential()}function eo(t,r){return t.toFixed(r)}function St(t,r){var e=ro(t,r);return r&&typeof r=="object"&&"truncate"in r&&e.length>r.truncate?e.substring(0,r.truncate-3)+"...":e}function ro(t,r){if(typeof t=="number")return Kr(t,r);if(jt(t))return Ya(t,r);if(no(t))return!r||r.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return Ti(t,r);if(fe(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(r);if(t&&t.toString(r)!=={}.toString())return t.toString(r);var e=Object.keys(t).map(n=>'"'+n+'": '+St(t[n],r));return"{"+e.join(", ")+"}"}return String(t)}function Ti(t,r){if(Array.isArray(t)){for(var e="[",n=t.length,i=0;i<n;i++)i!==0&&(e+=", "),e+=Ti(t[i],r);return e+="]",e}else return St(t,r)}function no(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function wt(t,r,e){if(!(this instanceof wt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}wt.prototype=new RangeError;wt.prototype.constructor=RangeError;wt.prototype.name="DimensionError";wt.prototype.isDimensionError=!0;function Oe(t,r,e){if(!(this instanceof Oe))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Oe.prototype=new RangeError;Oe.prototype.constructor=RangeError;Oe.prototype.name="IndexError";Oe.prototype.isIndexError=!0;function Tt(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function ji(t,r,e){var n,i=t.length;if(i!==r[e])throw new wt(i,r[e]);if(e<r.length-1){var a=e+1;for(n=0;n<i;n++){var c=t[n];if(!Array.isArray(c))throw new wt(r.length-1,r.length,"<");ji(t[n],r,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new wt(r.length+1,r.length,">")}function Sn(t,r){var e=r.length===0;if(e){if(Array.isArray(t))throw new wt(t.length,0)}else ji(t,r,0)}function Ft(t,r){if(!Nt(t)||!bt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof r=="number"&&t>=r)throw new Oe(t,r)}function Ar(t,r,e){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(i){if(!Nt(i)||!bt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+St(r)+")")});var n=e!==void 0?e:0;return Yr(t,r,0,n),t}function Yr(t,r,e,n){var i,a,c=t.length,v=r[e],d=Math.min(c,v);if(t.length=v,e<r.length-1){var h=e+1;for(i=0;i<d;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Yr(a,r,h,n);for(i=d;i<v;i++)a=[],t[i]=a,Yr(a,r,h,n)}else{for(i=0;i<d;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=d;i<v;i++)t[i]=n}}function io(t,r){var e=Ue(t),n=e.length;if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new wt(0,n,"!=");r=ln(r,n);var i=ki(r);if(n!==i)throw new wt(i,n,"!=");try{return uo(e,r)}catch(a){throw a instanceof wt?new wt(i,n,"!="):a}}function ln(t,r){var e=ki(t),n=t.slice(),i=-1,a=t.indexOf(i),c=t.indexOf(i,a+1)>=0;if(c)throw new Error("More than one wildcard in sizes");var v=a>=0,d=r%e===0;if(v)if(d)n[a]=-r/e;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-e);return n}function ki(t){return t.reduce((r,e)=>r*e,1)}function uo(t,r){for(var e=t,n,i=r.length-1;i>0;i--){var a=r[i];n=[];for(var c=e.length/a,v=0;v<c;v++)n.push(e.slice(v*a,(v+1)*a));e=n}return e}function Pi(t,r,e,n){var i=n||Tt(t);if(e)for(var a=0;a<e;a++)t=[t],i.unshift(1);for(t=qi(t,r,0);i.length<r;)i.push(1);return t}function qi(t,r,e){var n,i;if(Array.isArray(t)){var a=e+1;for(n=0,i=t.length;n<i;n++)t[n]=qi(t[n],r,a)}else for(var c=e;c<r;c++)t=[t];return t}function Ue(t){if(!Array.isArray(t))return t;var r=[];return t.forEach(function e(n){Array.isArray(n)?n.forEach(e):r.push(n)}),r}function Nn(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var r=[],e=0;r[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?e++:e=0,r.push({value:t[n],identifier:e});return r}function zn(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var r=[],e=0;e<t.length;e++)r.push(t[e].value);return r}function Fr(t,r){for(var e,n=0,i=0;i<t.length;i++){var a=t[i],c=Array.isArray(a);if(i===0&&c&&(n=a.length),c&&a.length!==n)return;var v=c?Fr(a,r):r(a);if(e===void 0)e=v;else if(e!==v)return"mixed"}return e}function W(t,r,e,n){function i(a){var c=$a(a,r.map(so));return ao(t,r,a),e(c)}return i.isFactory=!0,i.fn=t,i.dependencies=r.slice().sort(),n&&(i.meta=n),i}function ao(t,r,e){var n=r.filter(a=>!oo(a)).every(a=>e[a]!==void 0);if(!n){var i=r.filter(a=>e[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function oo(t){return t&&t[0]==="?"}function so(t){return t&&t[0]==="?"?t.slice(1):t}function Ri(t,r){if(Zi(t)&&Ui(t,r))return t[r];throw typeof t[r]=="function"&&co(t,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Li(t,r,e){if(Zi(t)&&Ui(t,r))return t[r]=e,e;throw new Error('No access to property "'+r+'"')}function fo(t,r){return r in t}function Ui(t,r){return!t||typeof t!="object"?!1:rr(lo,r)?!0:!(r in Object.prototype||r in Function.prototype)}function co(t,r){return t==null||typeof t[r]!="function"||rr(t,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(t)?!1:rr(po,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Zi(t){return typeof t=="object"&&t&&t.constructor===Object}var lo={length:!0,name:!0},po={toString:!0,valueOf:!0,toLocaleString:!0},ho=class{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Ri(this.wrappedObject,t)}set(t,r){return Li(this.wrappedObject,t,r),this}has(t){return fo(this.wrappedObject,t)}};function vo(t){return t?t instanceof Map||t instanceof ho||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}var $i=function(){return $i=_n.default.create,_n.default},mo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Do=W("typed",mo,function(t){var{BigNumber:r,Complex:e,DenseMatrix:n,Fraction:i}=t,a=$i();return a.clear(),a.addTypes([{name:"number",test:Nt},{name:"Complex",test:fn},{name:"BigNumber",test:jt},{name:"Fraction",test:cn},{name:"Unit",test:zi},{name:"identifier",test:c=>fe&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:fe},{name:"Chain",test:La},{name:"Array",test:At},{name:"Matrix",test:Ct},{name:"DenseMatrix",test:xr},{name:"SparseMatrix",test:qe},{name:"Range",test:Oi},{name:"Index",test:Pr},{name:"boolean",test:ma},{name:"ResultSet",test:Da},{name:"Help",test:ya},{name:"function",test:ga},{name:"Date",test:wa},{name:"RegExp",test:xa},{name:"null",test:Aa},{name:"undefined",test:Fa},{name:"AccessorNode",test:ba},{name:"ArrayNode",test:Ca},{name:"AssignmentNode",test:Ma},{name:"BlockNode",test:_a},{name:"ConditionalNode",test:Ba},{name:"ConstantNode",test:Sa},{name:"FunctionNode",test:za},{name:"FunctionAssignmentNode",test:Na},{name:"IndexNode",test:Oa},{name:"Node",test:Ia},{name:"ObjectNode",test:Ta},{name:"OperatorNode",test:ja},{name:"ParenthesisNode",test:ka},{name:"RangeNode",test:Pa},{name:"RelationalNode",test:qa},{name:"SymbolNode",test:Ra},{name:"Map",test:vo},{name:"Object",test:Ea}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||Wr(c),Qa(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return e||dr(c),new e(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return e||dr(c),new e(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return e||dr(c),new e(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){i||Qr(c);var v=new i(c);if(v.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return v}},{from:"string",to:"number",convert:function(c){var v=Number(c);if(isNaN(v))throw new Error('Cannot convert "'+c+'" to a number');return v}},{from:"string",to:"BigNumber",convert:function(c){r||Wr(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){i||Qr(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){e||dr(c);try{return new e(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Wr(c),new r(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return i||Qr(c),new i(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||yo(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),a.onMismatch=(c,v,d)=>{var h=a.createError(c,v,d);if(["wrongType","mismatch"].includes(h.data.category)&&v.length===1&&wr(v[0])&&d.some(u=>!u.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=h.data,o}throw h},a.onMismatch=(c,v,d)=>{var h=a.createError(c,v,d);if(["wrongType","mismatch"].includes(h.data.category)&&v.length===1&&wr(v[0])&&d.some(u=>!u.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=h.data,o}throw h},a});function Wr(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function dr(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function yo(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Qr(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Re=9e15,_e=1e9,tn="0123456789abcdef",br="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Cr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",en={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Re,maxE:Re,crypto:!1},Xi,ye,pt=!0,Lr="[DecimalError] ",Me=Lr+"Invalid argument: ",Ji=Lr+"Precision limit exceeded",Gi=Lr+"crypto unavailable",Hi="[object Decimal]",Gt=Math.floor,Pt=Math.pow,go=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,wo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,xo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,le=1e7,lt=7,Eo=9007199254740991,Ao=br.length-1,rn=Cr.length-1,H={toStringTag:Hi};H.absoluteValue=H.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),st(t)};H.ceil=function(){return st(new this.constructor(this),this.e+1,2)};H.clampedTo=H.clamp=function(t,r){var e,n=this,i=n.constructor;if(t=new i(t),r=new i(r),!t.s||!r.s)return new i(NaN);if(t.gt(r))throw Error(Me+r);return e=n.cmp(t),e<0?t:n.cmp(r)>0?r:new i(n)};H.comparedTo=H.cmp=function(t){var r,e,n,i,a=this,c=a.d,v=(t=new a.constructor(t)).d,d=a.s,h=t.s;if(!c||!v)return!d||!h?NaN:d!==h?d:c===v?0:!c^d<0?1:-1;if(!c[0]||!v[0])return c[0]?d:v[0]?-h:0;if(d!==h)return d;if(a.e!==t.e)return a.e>t.e^d<0?1:-1;for(n=c.length,i=v.length,r=0,e=n<i?n:i;r<e;++r)if(c[r]!==v[r])return c[r]>v[r]^d<0?1:-1;return n===i?0:n>i^d<0?1:-1};H.cosine=H.cos=function(){var t,r,e=this,n=e.constructor;return e.d?e.d[0]?(t=n.precision,r=n.rounding,n.precision=t+Math.max(e.e,e.sd())+lt,n.rounding=1,e=Fo(n,tu(n,e)),n.precision=t,n.rounding=r,st(ye==2||ye==3?e.neg():e,t,r,!0)):new n(1):new n(NaN)};H.cubeRoot=H.cbrt=function(){var t,r,e,n,i,a,c,v,d,h,o=this,u=o.constructor;if(!o.isFinite()||o.isZero())return new u(o);for(pt=!1,a=o.s*Pt(o.s*o,1/3),!a||Math.abs(a)==1/0?(e=$t(o.d),t=o.e,(a=(t-e.length+1)%3)&&(e+=a==1||a==-2?"0":"00"),a=Pt(e,1/3),t=Gt((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e),n.s=o.s):n=new u(a.toString()),c=(t=u.precision)+3;;)if(v=n,d=v.times(v).times(v),h=d.plus(o),n=Mt(h.plus(o).times(v),h.plus(d),c+2,1),$t(v.d).slice(0,c)===(e=$t(n.d)).slice(0,c))if(e=e.slice(c-3,c+1),e=="9999"||!i&&e=="4999"){if(!i&&(st(v,t+1,0),v.times(v).times(v).eq(o))){n=v;break}c+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(st(n,t+1,1),r=!n.times(n).times(n).eq(o));break}return pt=!0,st(n,t,u.rounding,r)};H.decimalPlaces=H.dp=function(){var t,r=this.d,e=NaN;if(r){if(t=r.length-1,e=(t-Gt(this.e/lt))*lt,t=r[t],t)for(;t%10==0;t/=10)e--;e<0&&(e=0)}return e};H.dividedBy=H.div=function(t){return Mt(this,new this.constructor(t))};H.dividedToIntegerBy=H.divToInt=function(t){var r=this,e=r.constructor;return st(Mt(r,new e(t),0,1,1),e.precision,e.rounding)};H.equals=H.eq=function(t){return this.cmp(t)===0};H.floor=function(){return st(new this.constructor(this),this.e+1,3)};H.greaterThan=H.gt=function(t){return this.cmp(t)>0};H.greaterThanOrEqualTo=H.gte=function(t){var r=this.cmp(t);return r==1||r===0};H.hyperbolicCosine=H.cosh=function(){var t,r,e,n,i,a=this,c=a.constructor,v=new c(1);if(!a.isFinite())return new c(a.s?1/0:NaN);if(a.isZero())return v;e=c.precision,n=c.rounding,c.precision=e+Math.max(a.e,a.sd())+4,c.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),r=(1/Zr(4,t)).toString()):(t=16,r="2.3283064365386962890625e-10"),a=Xe(c,1,a.times(r),new c(1),!0);for(var d,h=t,o=new c(8);h--;)d=a.times(a),a=v.minus(d.times(o.minus(d.times(o))));return st(a,c.precision=e,c.rounding=n,!0)};H.hyperbolicSine=H.sinh=function(){var t,r,e,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(r=a.precision,e=a.rounding,a.precision=r+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Xe(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Zr(5,t)),i=Xe(a,2,i,i,!0);for(var c,v=new a(5),d=new a(16),h=new a(20);t--;)c=i.times(i),i=i.times(v.plus(c.times(d.times(c).plus(h))))}return a.precision=r,a.rounding=e,st(i,r,e,!0)};H.hyperbolicTangent=H.tanh=function(){var t,r,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(t=n.precision,r=n.rounding,n.precision=t+7,n.rounding=1,Mt(e.sinh(),e.cosh(),n.precision=t,n.rounding=r)):new n(e.s)};H.inverseCosine=H.acos=function(){var t,r=this,e=r.constructor,n=r.abs().cmp(1),i=e.precision,a=e.rounding;return n!==-1?n===0?r.isNeg()?ce(e,i,a):new e(0):new e(NaN):r.isZero()?ce(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,r=r.asin(),t=ce(e,i+4,a).times(.5),e.precision=i,e.rounding=a,t.minus(r))};H.inverseHyperbolicCosine=H.acosh=function(){var t,r,e=this,n=e.constructor;return e.lte(1)?new n(e.eq(1)?0:NaN):e.isFinite()?(t=n.precision,r=n.rounding,n.precision=t+Math.max(Math.abs(e.e),e.sd())+4,n.rounding=1,pt=!1,e=e.times(e).minus(1).sqrt().plus(e),pt=!0,n.precision=t,n.rounding=r,e.ln()):new n(e)};H.inverseHyperbolicSine=H.asinh=function(){var t,r,e=this,n=e.constructor;return!e.isFinite()||e.isZero()?new n(e):(t=n.precision,r=n.rounding,n.precision=t+2*Math.max(Math.abs(e.e),e.sd())+6,n.rounding=1,pt=!1,e=e.times(e).plus(1).sqrt().plus(e),pt=!0,n.precision=t,n.rounding=r,e.ln())};H.inverseHyperbolicTangent=H.atanh=function(){var t,r,e,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,r=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?st(new a(i),t,r,!0):(a.precision=e=n-i.e,i=Mt(i.plus(1),new a(1).minus(i),e+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=r,i.times(.5))):new a(NaN)};H.inverseSine=H.asin=function(){var t,r,e,n,i=this,a=i.constructor;return i.isZero()?new a(i):(r=i.abs().cmp(1),e=a.precision,n=a.rounding,r!==-1?r===0?(t=ce(a,e+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=e+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=e,a.rounding=n,i.times(2)))};H.inverseTangent=H.atan=function(){var t,r,e,n,i,a,c,v,d,h=this,o=h.constructor,u=o.precision,s=o.rounding;if(h.isFinite()){if(h.isZero())return new o(h);if(h.abs().eq(1)&&u+4<=rn)return c=ce(o,u+4,s).times(.25),c.s=h.s,c}else{if(!h.s)return new o(NaN);if(u+4<=rn)return c=ce(o,u+4,s).times(.5),c.s=h.s,c}for(o.precision=v=u+10,o.rounding=1,e=Math.min(28,v/lt+2|0),t=e;t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(pt=!1,r=Math.ceil(v/lt),n=1,d=h.times(h),c=new o(h),i=h;t!==-1;)if(i=i.times(d),a=c.minus(i.div(n+=2)),i=i.times(d),c=a.plus(i.div(n+=2)),c.d[r]!==void 0)for(t=r;c.d[t]===a.d[t]&&t--;);return e&&(c=c.times(2<<e-1)),pt=!0,st(c,o.precision=u,o.rounding=s,!0)};H.isFinite=function(){return!!this.d};H.isInteger=H.isInt=function(){return!!this.d&&Gt(this.e/lt)>this.d.length-2};H.isNaN=function(){return!this.s};H.isNegative=H.isNeg=function(){return this.s<0};H.isPositive=H.isPos=function(){return this.s>0};H.isZero=function(){return!!this.d&&this.d[0]===0};H.lessThan=H.lt=function(t){return this.cmp(t)<0};H.lessThanOrEqualTo=H.lte=function(t){return this.cmp(t)<1};H.logarithm=H.log=function(t){var r,e,n,i,a,c,v,d,h=this,o=h.constructor,u=o.precision,s=o.rounding,l=5;if(t==null)t=new o(10),r=!0;else{if(t=new o(t),e=t.d,t.s<0||!e||!e[0]||t.eq(1))return new o(NaN);r=t.eq(10)}if(e=h.d,h.s<0||!e||!e[0]||h.eq(1))return new o(e&&!e[0]?-1/0:h.s!=1?NaN:e?0:1/0);if(r)if(e.length>1)a=!0;else{for(i=e[0];i%10===0;)i/=10;a=i!==1}if(pt=!1,v=u+l,c=be(h,v),n=r?Mr(o,v+10):be(t,v),d=Mt(c,n,v,1),nr(d.d,i=u,s))do if(v+=10,c=be(h,v),n=r?Mr(o,v+10):be(t,v),d=Mt(c,n,v,1),!a){+$t(d.d).slice(i+1,i+15)+1==1e14&&(d=st(d,u+1,0));break}while(nr(d.d,i+=10,s));return pt=!0,st(d,u,s)};H.minus=H.sub=function(t){var r,e,n,i,a,c,v,d,h,o,u,s,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return!l.s||!t.s?t=new p(NaN):l.d?t.s=-t.s:t=new p(t.d||l.s!==t.s?l:NaN),t;if(l.s!=t.s)return t.s=-t.s,l.plus(t);if(h=l.d,s=t.d,v=p.precision,d=p.rounding,!h[0]||!s[0]){if(s[0])t.s=-t.s;else if(h[0])t=new p(l);else return new p(d===3?-0:0);return pt?st(t,v,d):t}if(e=Gt(t.e/lt),o=Gt(l.e/lt),h=h.slice(),a=o-e,a){for(u=a<0,u?(r=h,a=-a,c=s.length):(r=s,e=o,c=h.length),n=Math.max(Math.ceil(v/lt),c)+2,a>n&&(a=n,r.length=1),r.reverse(),n=a;n--;)r.push(0);r.reverse()}else{for(n=h.length,c=s.length,u=n<c,u&&(c=n),n=0;n<c;n++)if(h[n]!=s[n]){u=h[n]<s[n];break}a=0}for(u&&(r=h,h=s,s=r,t.s=-t.s),c=h.length,n=s.length-c;n>0;--n)h[c++]=0;for(n=s.length;n>a;){if(h[--n]<s[n]){for(i=n;i&&h[--i]===0;)h[i]=le-1;--h[i],h[n]+=le}h[n]-=s[n]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--e;return h[0]?(t.d=h,t.e=Ur(h,e),pt?st(t,v,d):t):new p(d===3?-0:0)};H.modulo=H.mod=function(t){var r,e=this,n=e.constructor;return t=new n(t),!e.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||e.d&&!e.d[0]?st(new n(e),n.precision,n.rounding):(pt=!1,n.modulo==9?(r=Mt(e,t.abs(),0,3,1),r.s*=t.s):r=Mt(e,t,0,n.modulo,1),r=r.times(t),pt=!0,e.minus(r))};H.naturalExponential=H.exp=function(){return nn(this)};H.naturalLogarithm=H.ln=function(){return be(this)};H.negated=H.neg=function(){var t=new this.constructor(this);return t.s=-t.s,st(t)};H.plus=H.add=function(t){var r,e,n,i,a,c,v,d,h,o,u=this,s=u.constructor;if(t=new s(t),!u.d||!t.d)return!u.s||!t.s?t=new s(NaN):u.d||(t=new s(t.d||u.s===t.s?u:NaN)),t;if(u.s!=t.s)return t.s=-t.s,u.minus(t);if(h=u.d,o=t.d,v=s.precision,d=s.rounding,!h[0]||!o[0])return o[0]||(t=new s(u)),pt?st(t,v,d):t;if(a=Gt(u.e/lt),n=Gt(t.e/lt),h=h.slice(),i=a-n,i){for(i<0?(e=h,i=-i,c=o.length):(e=o,n=a,c=h.length),a=Math.ceil(v/lt),c=a>c?a+1:c+1,i>c&&(i=c,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for(c=h.length,i=o.length,c-i<0&&(i=c,e=o,o=h,h=e),r=0;i;)r=(h[--i]=h[i]+o[i]+r)/le|0,h[i]%=le;for(r&&(h.unshift(r),++n),c=h.length;h[--c]==0;)h.pop();return t.d=h,t.e=Ur(h,n),pt?st(t,v,d):t};H.precision=H.sd=function(t){var r,e=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Me+t);return e.d?(r=Wi(e.d),t&&e.e+1>r&&(r=e.e+1)):r=NaN,r};H.round=function(){var t=this,r=t.constructor;return st(new r(t),t.e+1,r.rounding)};H.sine=H.sin=function(){var t,r,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(t=n.precision,r=n.rounding,n.precision=t+Math.max(e.e,e.sd())+lt,n.rounding=1,e=Co(n,tu(n,e)),n.precision=t,n.rounding=r,st(ye>2?e.neg():e,t,r,!0)):new n(NaN)};H.squareRoot=H.sqrt=function(){var t,r,e,n,i,a,c=this,v=c.d,d=c.e,h=c.s,o=c.constructor;if(h!==1||!v||!v[0])return new o(!h||h<0&&(!v||v[0])?NaN:v?c:1/0);for(pt=!1,h=Math.sqrt(+c),h==0||h==1/0?(r=$t(v),(r.length+d)%2==0&&(r+="0"),h=Math.sqrt(r),d=Gt((d+1)/2)-(d<0||d%2),h==1/0?r="5e"+d:(r=h.toExponential(),r=r.slice(0,r.indexOf("e")+1)+d),n=new o(r)):n=new o(h.toString()),e=(d=o.precision)+3;;)if(a=n,n=a.plus(Mt(c,a,e+2,1)).times(.5),$t(a.d).slice(0,e)===(r=$t(n.d)).slice(0,e))if(r=r.slice(e-3,e+1),r=="9999"||!i&&r=="4999"){if(!i&&(st(a,d+1,0),a.times(a).eq(c))){n=a;break}e+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(st(n,d+1,1),t=!n.times(n).eq(c));break}return pt=!0,st(n,d,o.rounding,t)};H.tangent=H.tan=function(){var t,r,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(t=n.precision,r=n.rounding,n.precision=t+10,n.rounding=1,e=e.sin(),e.s=1,e=Mt(e,new n(1).minus(e.times(e)).sqrt(),t+10,0),n.precision=t,n.rounding=r,st(ye==2||ye==4?e.neg():e,t,r,!0)):new n(NaN)};H.times=H.mul=function(t){var r,e,n,i,a,c,v,d,h,o=this,u=o.constructor,s=o.d,l=(t=new u(t)).d;if(t.s*=o.s,!s||!s[0]||!l||!l[0])return new u(!t.s||s&&!s[0]&&!l||l&&!l[0]&&!s?NaN:!s||!l?t.s/0:t.s*0);for(e=Gt(o.e/lt)+Gt(t.e/lt),d=s.length,h=l.length,d<h&&(a=s,s=l,l=a,c=d,d=h,h=c),a=[],c=d+h,n=c;n--;)a.push(0);for(n=h;--n>=0;){for(r=0,i=d+n;i>n;)v=a[i]+l[n]*s[i-n-1]+r,a[i--]=v%le|0,r=v/le|0;a[i]=(a[i]+r)%le|0}for(;!a[--c];)a.pop();return r?++e:a.shift(),t.d=a,t.e=Ur(a,e),pt?st(t,u.precision,u.rounding):t};H.toBinary=function(t,r){return pn(this,2,t,r)};H.toDecimalPlaces=H.toDP=function(t,r){var e=this,n=e.constructor;return e=new n(e),t===void 0?e:(te(t,0,_e),r===void 0?r=n.rounding:te(r,0,8),st(e,t+e.e+1,r))};H.toExponential=function(t,r){var e,n=this,i=n.constructor;return t===void 0?e=de(n,!0):(te(t,0,_e),r===void 0?r=i.rounding:te(r,0,8),n=st(new i(n),t+1,r),e=de(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+e:e};H.toFixed=function(t,r){var e,n,i=this,a=i.constructor;return t===void 0?e=de(i):(te(t,0,_e),r===void 0?r=a.rounding:te(r,0,8),n=st(new a(i),t+i.e+1,r),e=de(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e};H.toFraction=function(t){var r,e,n,i,a,c,v,d,h,o,u,s,l=this,p=l.d,f=l.constructor;if(!p)return new f(l);if(h=e=new f(1),n=d=new f(0),r=new f(n),a=r.e=Wi(p)-l.e-1,c=a%lt,r.d[0]=Pt(10,c<0?lt+c:c),t==null)t=a>0?r:h;else{if(v=new f(t),!v.isInt()||v.lt(h))throw Error(Me+v);t=v.gt(r)?a>0?r:h:v}for(pt=!1,v=new f($t(p)),o=f.precision,f.precision=a=p.length*lt*2;u=Mt(v,r,0,1,1),i=e.plus(u.times(n)),i.cmp(t)!=1;)e=n,n=i,i=h,h=d.plus(u.times(i)),d=i,i=r,r=v.minus(u.times(i)),v=i;return i=Mt(t.minus(e),n,0,1,1),d=d.plus(i.times(h)),e=e.plus(i.times(n)),d.s=h.s=l.s,s=Mt(h,n,a,1).minus(l).abs().cmp(Mt(d,e,a,1).minus(l).abs())<1?[h,n]:[d,e],f.precision=o,pt=!0,s};H.toHexadecimal=H.toHex=function(t,r){return pn(this,16,t,r)};H.toNearest=function(t,r){var e=this,n=e.constructor;if(e=new n(e),t==null){if(!e.d)return e;t=new n(1),r=n.rounding}else{if(t=new n(t),r===void 0?r=n.rounding:te(r,0,8),!e.d)return t.s?e:t;if(!t.d)return t.s&&(t.s=e.s),t}return t.d[0]?(pt=!1,e=Mt(e,t,0,r,1).times(t),pt=!0,st(e)):(t.s=e.s,e=t),e};H.toNumber=function(){return+this};H.toOctal=function(t,r){return pn(this,8,t,r)};H.toPower=H.pow=function(t){var r,e,n,i,a,c,v=this,d=v.constructor,h=+(t=new d(t));if(!v.d||!t.d||!v.d[0]||!t.d[0])return new d(Pt(+v,h));if(v=new d(v),v.eq(1))return v;if(n=d.precision,a=d.rounding,t.eq(1))return st(v,n,a);if(r=Gt(t.e/lt),r>=t.d.length-1&&(e=h<0?-h:h)<=Eo)return i=Qi(d,v,e,n),t.s<0?new d(1).div(i):st(i,n,a);if(c=v.s,c<0){if(r<t.d.length-1)return new d(NaN);if(t.d[r]&1||(c=1),v.e==0&&v.d[0]==1&&v.d.length==1)return v.s=c,v}return e=Pt(+v,h),r=e==0||!isFinite(e)?Gt(h*(Math.log("0."+$t(v.d))/Math.LN10+v.e+1)):new d(e+"").e,r>d.maxE+1||r<d.minE-1?new d(r>0?c/0:0):(pt=!1,d.rounding=v.s=1,e=Math.min(12,(r+"").length),i=nn(t.times(be(v,n+e)),n),i.d&&(i=st(i,n+5,1),nr(i.d,n,a)&&(r=n+10,i=st(nn(t.times(be(v,r+e)),r),r+5,1),+$t(i.d).slice(n+1,n+15)+1==1e14&&(i=st(i,n+1,0)))),i.s=c,pt=!0,d.rounding=a,st(i,n,a))};H.toPrecision=function(t,r){var e,n=this,i=n.constructor;return t===void 0?e=de(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(te(t,1,_e),r===void 0?r=i.rounding:te(r,0,8),n=st(new i(n),t,r),e=de(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+e:e};H.toSignificantDigits=H.toSD=function(t,r){var e=this,n=e.constructor;return t===void 0?(t=n.precision,r=n.rounding):(te(t,1,_e),r===void 0?r=n.rounding:te(r,0,8)),st(new n(e),t,r)};H.toString=function(){var t=this,r=t.constructor,e=de(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()&&!t.isZero()?"-"+e:e};H.truncated=H.trunc=function(){return st(new this.constructor(this),this.e+1,1)};H.valueOf=H.toJSON=function(){var t=this,r=t.constructor,e=de(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()?"-"+e:e};function $t(t){var r,e,n,i=t.length-1,a="",c=t[0];if(i>0){for(a+=c,r=1;r<i;r++)n=t[r]+"",e=lt-n.length,e&&(a+=Ae(e)),a+=n;c=t[r],n=c+"",e=lt-n.length,e&&(a+=Ae(e))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}function te(t,r,e){if(t!==~~t||t<r||t>e)throw Error(Me+t)}function nr(t,r,e,n){var i,a,c,v;for(a=t[0];a>=10;a/=10)--r;return--r<0?(r+=lt,i=0):(i=Math.ceil((r+1)/lt),r%=lt),a=Pt(10,lt-r),v=t[i]%a|0,n==null?r<3?(r==0?v=v/100|0:r==1&&(v=v/10|0),c=e<4&&v==99999||e>3&&v==49999||v==5e4||v==0):c=(e<4&&v+1==a||e>3&&v+1==a/2)&&(t[i+1]/a/100|0)==Pt(10,r-2)-1||(v==a/2||v==0)&&(t[i+1]/a/100|0)==0:r<4?(r==0?v=v/1e3|0:r==1?v=v/100|0:r==2&&(v=v/10|0),c=(n||e<4)&&v==9999||!n&&e>3&&v==4999):c=((n||e<4)&&v+1==a||!n&&e>3&&v+1==a/2)&&(t[i+1]/a/1e3|0)==Pt(10,r-3)-1,c}function mr(t,r,e){for(var n,i=[0],a,c=0,v=t.length;c<v;){for(a=i.length;a--;)i[a]*=r;for(i[0]+=tn.indexOf(t.charAt(c++)),n=0;n<i.length;n++)i[n]>e-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/e|0,i[n]%=e)}return i.reverse()}function Fo(t,r){var e,n,i;if(r.isZero())return r;n=r.d.length,n<32?(e=Math.ceil(n/3),i=(1/Zr(4,e)).toString()):(e=16,i="2.3283064365386962890625e-10"),t.precision+=e,r=Xe(t,1,r.times(i),new t(1));for(var a=e;a--;){var c=r.times(r);r=c.times(c).minus(c).times(8).plus(1)}return t.precision-=e,r}var Mt=function(){function t(n,i,a){var c,v=0,d=n.length;for(n=n.slice();d--;)c=n[d]*i+v,n[d]=c%a|0,v=c/a|0;return v&&n.unshift(v),n}function r(n,i,a,c){var v,d;if(a!=c)d=a>c?1:-1;else for(v=d=0;v<a;v++)if(n[v]!=i[v]){d=n[v]>i[v]?1:-1;break}return d}function e(n,i,a,c){for(var v=0;a--;)n[a]-=v,v=n[a]<i[a]?1:0,n[a]=v*c+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,c,v,d){var h,o,u,s,l,p,f,m,D,y,w,x,g,E,b,C,F,A,B,M,S=n.constructor,j=n.s==i.s?1:-1,z=n.d,I=i.d;if(!z||!z[0]||!I||!I[0])return new S(!n.s||!i.s||(z?I&&z[0]==I[0]:!I)?NaN:z&&z[0]==0||!I?j*0:j/0);for(d?(l=1,o=n.e-i.e):(d=le,l=lt,o=Gt(n.e/l)-Gt(i.e/l)),B=I.length,F=z.length,D=new S(j),y=D.d=[],u=0;I[u]==(z[u]||0);u++);if(I[u]>(z[u]||0)&&o--,a==null?(E=a=S.precision,c=S.rounding):v?E=a+(n.e-i.e)+1:E=a,E<0)y.push(1),p=!0;else{if(E=E/l+2|0,u=0,B==1){for(s=0,I=I[0],E++;(u<F||s)&&E--;u++)b=s*d+(z[u]||0),y[u]=b/I|0,s=b%I|0;p=s||u<F}else{for(s=d/(I[0]+1)|0,s>1&&(I=t(I,s,d),z=t(z,s,d),B=I.length,F=z.length),C=B,w=z.slice(0,B),x=w.length;x<B;)w[x++]=0;M=I.slice(),M.unshift(0),A=I[0],I[1]>=d/2&&++A;do s=0,h=r(I,w,B,x),h<0?(g=w[0],B!=x&&(g=g*d+(w[1]||0)),s=g/A|0,s>1?(s>=d&&(s=d-1),f=t(I,s,d),m=f.length,x=w.length,h=r(f,w,m,x),h==1&&(s--,e(f,B<m?M:I,m,d))):(s==0&&(h=s=1),f=I.slice()),m=f.length,m<x&&f.unshift(0),e(w,f,x,d),h==-1&&(x=w.length,h=r(I,w,B,x),h<1&&(s++,e(w,B<x?M:I,x,d))),x=w.length):h===0&&(s++,w=[0]),y[u++]=s,h&&w[0]?w[x++]=z[C]||0:(w=[z[C]],x=1);while((C++<F||w[0]!==void 0)&&E--);p=w[0]!==void 0}y[0]||y.shift()}if(l==1)D.e=o,Xi=p;else{for(u=1,s=y[0];s>=10;s/=10)u++;D.e=u+o*l-1,st(D,v?a+D.e+1:a,c,p)}return D}}();function st(t,r,e,n){var i,a,c,v,d,h,o,u,s,l=t.constructor;t:if(r!=null){if(u=t.d,!u)return t;for(i=1,v=u[0];v>=10;v/=10)i++;if(a=r-i,a<0)a+=lt,c=r,o=u[s=0],d=o/Pt(10,i-c-1)%10|0;else if(s=Math.ceil((a+1)/lt),v=u.length,s>=v)if(n){for(;v++<=s;)u.push(0);o=d=0,i=1,a%=lt,c=a-lt+1}else break t;else{for(o=v=u[s],i=1;v>=10;v/=10)i++;a%=lt,c=a-lt+i,d=c<0?0:o/Pt(10,i-c-1)%10|0}if(n=n||r<0||u[s+1]!==void 0||(c<0?o:o%Pt(10,i-c-1)),h=e<4?(d||n)&&(e==0||e==(t.s<0?3:2)):d>5||d==5&&(e==4||n||e==6&&(a>0?c>0?o/Pt(10,i-c):0:u[s-1])%10&1||e==(t.s<0?8:7)),r<1||!u[0])return u.length=0,h?(r-=t.e+1,u[0]=Pt(10,(lt-r%lt)%lt),t.e=-r||0):u[0]=t.e=0,t;if(a==0?(u.length=s,v=1,s--):(u.length=s+1,v=Pt(10,lt-a),u[s]=c>0?(o/Pt(10,i-c)%Pt(10,c)|0)*v:0),h)for(;;)if(s==0){for(a=1,c=u[0];c>=10;c/=10)a++;for(c=u[0]+=v,v=1;c>=10;c/=10)v++;a!=v&&(t.e++,u[0]==le&&(u[0]=1));break}else{if(u[s]+=v,u[s]!=le)break;u[s--]=0,v=1}for(a=u.length;u[--a]===0;)u.pop()}return pt&&(t.e>l.maxE?(t.d=null,t.e=NaN):t.e<l.minE&&(t.e=0,t.d=[0])),t}function de(t,r,e){if(!t.isFinite())return Yi(t);var n,i=t.e,a=$t(t.d),c=a.length;return r?(e&&(n=e-c)>0?a=a.charAt(0)+"."+a.slice(1)+Ae(n):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+Ae(-i-1)+a,e&&(n=e-c)>0&&(a+=Ae(n))):i>=c?(a+=Ae(i+1-c),e&&(n=e-i-1)>0&&(a=a+"."+Ae(n))):((n=i+1)<c&&(a=a.slice(0,n)+"."+a.slice(n)),e&&(n=e-c)>0&&(i+1===c&&(a+="."),a+=Ae(n))),a}function Ur(t,r){var e=t[0];for(r*=lt;e>=10;e/=10)r++;return r}function Mr(t,r,e){if(r>Ao)throw pt=!0,e&&(t.precision=e),Error(Ji);return st(new t(br),r,1,!0)}function ce(t,r,e){if(r>rn)throw Error(Ji);return st(new t(Cr),r,e,!0)}function Wi(t){var r=t.length-1,e=r*lt+1;if(r=t[r],r){for(;r%10==0;r/=10)e--;for(r=t[0];r>=10;r/=10)e++}return e}function Ae(t){for(var r="";t--;)r+="0";return r}function Qi(t,r,e,n){var i,a=new t(1),c=Math.ceil(n/lt+4);for(pt=!1;;){if(e%2&&(a=a.times(r),In(a.d,c)&&(i=!0)),e=Gt(e/2),e===0){e=a.d.length-1,i&&a.d[e]===0&&++a.d[e];break}r=r.times(r),In(r.d,c)}return pt=!0,a}function On(t){return t.d[t.d.length-1]&1}function Ki(t,r,e){for(var n,i=new t(r[0]),a=0;++a<r.length;)if(n=new t(r[a]),n.s)i[e](n)&&(i=n);else{i=n;break}return i}function nn(t,r){var e,n,i,a,c,v,d,h=0,o=0,u=0,s=t.constructor,l=s.rounding,p=s.precision;if(!t.d||!t.d[0]||t.e>17)return new s(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(r==null?(pt=!1,d=p):d=r,v=new s(.03125);t.e>-2;)t=t.times(v),u+=5;for(n=Math.log(Pt(2,u))/Math.LN10*2+5|0,d+=n,e=a=c=new s(1),s.precision=d;;){if(a=st(a.times(t),d,1),e=e.times(++o),v=c.plus(Mt(a,e,d,1)),$t(v.d).slice(0,d)===$t(c.d).slice(0,d)){for(i=u;i--;)c=st(c.times(c),d,1);if(r==null)if(h<3&&nr(c.d,d-n,l,h))s.precision=d+=10,e=a=v=new s(1),o=0,h++;else return st(c,s.precision=p,l,pt=!0);else return s.precision=p,c}c=v}}function be(t,r){var e,n,i,a,c,v,d,h,o,u,s,l=1,p=10,f=t,m=f.d,D=f.constructor,y=D.rounding,w=D.precision;if(f.s<0||!m||!m[0]||!f.e&&m[0]==1&&m.length==1)return new D(m&&!m[0]?-1/0:f.s!=1?NaN:m?0:f);if(r==null?(pt=!1,o=w):o=r,D.precision=o+=p,e=$t(m),n=e.charAt(0),Math.abs(a=f.e)<15e14){for(;n<7&&n!=1||n==1&&e.charAt(1)>3;)f=f.times(t),e=$t(f.d),n=e.charAt(0),l++;a=f.e,n>1?(f=new D("0."+e),a++):f=new D(n+"."+e.slice(1))}else return h=Mr(D,o+2,w).times(a+""),f=be(new D(n+"."+e.slice(1)),o-p).plus(h),D.precision=w,r==null?st(f,w,y,pt=!0):f;for(u=f,d=c=f=Mt(f.minus(1),f.plus(1),o,1),s=st(f.times(f),o,1),i=3;;){if(c=st(c.times(s),o,1),h=d.plus(Mt(c,new D(i),o,1)),$t(h.d).slice(0,o)===$t(d.d).slice(0,o))if(d=d.times(2),a!==0&&(d=d.plus(Mr(D,o+2,w).times(a+""))),d=Mt(d,new D(l),o,1),r==null)if(nr(d.d,o-p,y,v))D.precision=o+=p,h=c=f=Mt(u.minus(1),u.plus(1),o,1),s=st(f.times(f),o,1),i=v=1;else return st(d,D.precision=w,y,pt=!0);else return D.precision=w,d;d=h,i+=2}}function Yi(t){return String(t.s*t.s/0)}function un(t,r){var e,n,i;for((e=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(e<0&&(e=n),e+=+r.slice(n+1),r=r.substring(0,n)):e<0&&(e=r.length),n=0;r.charCodeAt(n)===48;n++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(n,i),r){if(i-=n,t.e=e=e-n-1,t.d=[],n=(e+1)%lt,e<0&&(n+=lt),n<i){for(n&&t.d.push(+r.slice(0,n)),i-=lt;n<i;)t.d.push(+r.slice(n,n+=lt));r=r.slice(n),n=lt-r.length}else n-=i;for(;n--;)r+="0";t.d.push(+r),pt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function bo(t,r){var e,n,i,a,c,v,d,h,o;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Vi.test(r))return un(t,r)}else if(r==="Infinity"||r==="NaN")return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(wo.test(r))e=16,r=r.toLowerCase();else if(go.test(r))e=2;else if(xo.test(r))e=8;else throw Error(Me+r);for(a=r.search(/p/i),a>0?(d=+r.slice(a+1),r=r.substring(2,a)):r=r.slice(2),a=r.indexOf("."),c=a>=0,n=t.constructor,c&&(r=r.replace(".",""),v=r.length,a=v-a,i=Qi(n,new n(e),a,a*2)),h=mr(r,e,le),o=h.length-1,a=o;h[a]===0;--a)h.pop();return a<0?new n(t.s*0):(t.e=Ur(h,o),t.d=h,pt=!1,c&&(t=Mt(t,i,v*4)),d&&(t=t.times(Math.abs(d)<54?Pt(2,d):ur.pow(2,d))),pt=!0,t)}function Co(t,r){var e,n=r.d.length;if(n<3)return r.isZero()?r:Xe(t,2,r,r);e=1.4*Math.sqrt(n),e=e>16?16:e|0,r=r.times(1/Zr(5,e)),r=Xe(t,2,r,r);for(var i,a=new t(5),c=new t(16),v=new t(20);e--;)i=r.times(r),r=r.times(a.plus(i.times(c.times(i).minus(v))));return r}function Xe(t,r,e,n,i){var a,c,v,d,h=t.precision,o=Math.ceil(h/lt);for(pt=!1,d=e.times(e),v=new t(n);;){if(c=Mt(v.times(d),new t(r++*r++),h,1),v=i?n.plus(c):n.minus(c),n=Mt(c.times(d),new t(r++*r++),h,1),c=v.plus(n),c.d[o]!==void 0){for(a=o;c.d[a]===v.d[a]&&a--;);if(a==-1)break}a=v,v=n,n=c,c=a}return pt=!0,c.d.length=o+1,c}function Zr(t,r){for(var e=t;--r;)e*=t;return e}function tu(t,r){var e,n=r.s<0,i=ce(t,t.precision,1),a=i.times(.5);if(r=r.abs(),r.lte(a))return ye=n?4:1,r;if(e=r.divToInt(i),e.isZero())ye=n?3:2;else{if(r=r.minus(e.times(i)),r.lte(a))return ye=On(e)?n?2:3:n?4:1,r;ye=On(e)?n?1:4:n?3:2}return r.minus(i).abs()}function pn(t,r,e,n){var i,a,c,v,d,h,o,u,s,l=t.constructor,p=e!==void 0;if(p?(te(e,1,_e),n===void 0?n=l.rounding:te(n,0,8)):(e=l.precision,n=l.rounding),!t.isFinite())o=Yi(t);else{for(o=de(t),c=o.indexOf("."),p?(i=2,r==16?e=e*4-3:r==8&&(e=e*3-2)):i=r,c>=0&&(o=o.replace(".",""),s=new l(1),s.e=o.length-c,s.d=mr(de(s),10,i),s.e=s.d.length),u=mr(o,10,i),a=d=u.length;u[--d]==0;)u.pop();if(!u[0])o=p?"0p+0":"0";else{if(c<0?a--:(t=new l(t),t.d=u,t.e=a,t=Mt(t,s,e,n,0,i),u=t.d,a=t.e,h=Xi),c=u[e],v=i/2,h=h||u[e+1]!==void 0,h=n<4?(c!==void 0||h)&&(n===0||n===(t.s<0?3:2)):c>v||c===v&&(n===4||h||n===6&&u[e-1]&1||n===(t.s<0?8:7)),u.length=e,h)for(;++u[--e]>i-1;)u[e]=0,e||(++a,u.unshift(1));for(d=u.length;!u[d-1];--d);for(c=0,o="";c<d;c++)o+=tn.charAt(u[c]);if(p){if(d>1)if(r==16||r==8){for(c=r==16?4:3,--d;d%c;d++)o+="0";for(u=mr(o,i,r),d=u.length;!u[d-1];--d);for(c=1,o="1.";c<d;c++)o+=tn.charAt(u[c])}else o=o.charAt(0)+"."+o.slice(1);o=o+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(++a>d)for(a-=d;a--;)o+="0";else a<d&&(o=o.slice(0,a)+"."+o.slice(a))}o=(r==16?"0x":r==2?"0b":r==8?"0o":"")+o}return t.s<0?"-"+o:o}function In(t,r){if(t.length>r)return t.length=r,!0}function Mo(t){return new this(t).abs()}function _o(t){return new this(t).acos()}function Bo(t){return new this(t).acosh()}function So(t,r){return new this(t).plus(r)}function No(t){return new this(t).asin()}function zo(t){return new this(t).asinh()}function Oo(t){return new this(t).atan()}function Io(t){return new this(t).atanh()}function To(t,r){t=new this(t),r=new this(r);var e,n=this.precision,i=this.rounding,a=n+4;return!t.s||!r.s?e=new this(NaN):!t.d&&!r.d?(e=ce(this,a,1).times(r.s>0?.25:.75),e.s=t.s):!r.d||t.isZero()?(e=r.s<0?ce(this,n,i):new this(0),e.s=t.s):!t.d||r.isZero()?(e=ce(this,a,1).times(.5),e.s=t.s):r.s<0?(this.precision=a,this.rounding=1,e=this.atan(Mt(t,r,a,1)),r=ce(this,a,1),this.precision=n,this.rounding=i,e=t.s<0?e.minus(r):e.plus(r)):e=this.atan(Mt(t,r,a,1)),e}function jo(t){return new this(t).cbrt()}function ko(t){return st(t=new this(t),t.e+1,2)}function Po(t,r,e){return new this(t).clamp(r,e)}function qo(t){if(!t||typeof t!="object")throw Error(Lr+"Object expected");var r,e,n,i=t.defaults===!0,a=["precision",1,_e,"rounding",0,8,"toExpNeg",-Re,0,"toExpPos",0,Re,"maxE",0,Re,"minE",-Re,0,"modulo",0,9];for(r=0;r<a.length;r+=3)if(e=a[r],i&&(this[e]=en[e]),(n=t[e])!==void 0)if(Gt(n)===n&&n>=a[r+1]&&n<=a[r+2])this[e]=n;else throw Error(Me+e+": "+n);if(e="crypto",i&&(this[e]=en[e]),(n=t[e])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(Gi);else this[e]=!1;else throw Error(Me+e+": "+n);return this}function Ro(t){return new this(t).cos()}function Lo(t){return new this(t).cosh()}function eu(t){var r,e,n;function i(a){var c,v,d,h=this;if(!(h instanceof i))return new i(a);if(h.constructor=i,Tn(a)){h.s=a.s,pt?!a.d||a.e>i.maxE?(h.e=NaN,h.d=null):a.e<i.minE?(h.e=0,h.d=[0]):(h.e=a.e,h.d=a.d.slice()):(h.e=a.e,h.d=a.d?a.d.slice():a.d);return}if(d=typeof a,d==="number"){if(a===0){h.s=1/a<0?-1:1,h.e=0,h.d=[0];return}if(a<0?(a=-a,h.s=-1):h.s=1,a===~~a&&a<1e7){for(c=0,v=a;v>=10;v/=10)c++;pt?c>i.maxE?(h.e=NaN,h.d=null):c<i.minE?(h.e=0,h.d=[0]):(h.e=c,h.d=[a]):(h.e=c,h.d=[a]);return}else if(a*0!==0){a||(h.s=NaN),h.e=NaN,h.d=null;return}return un(h,a.toString())}else if(d!=="string")throw Error(Me+a);return(v=a.charCodeAt(0))===45?(a=a.slice(1),h.s=-1):(v===43&&(a=a.slice(1)),h.s=1),Vi.test(a)?un(h,a):bo(h,a)}if(i.prototype=H,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=qo,i.clone=eu,i.isDecimal=Tn,i.abs=Mo,i.acos=_o,i.acosh=Bo,i.add=So,i.asin=No,i.asinh=zo,i.atan=Oo,i.atanh=Io,i.atan2=To,i.cbrt=jo,i.ceil=ko,i.clamp=Po,i.cos=Ro,i.cosh=Lo,i.div=Uo,i.exp=Zo,i.floor=$o,i.hypot=Xo,i.ln=Jo,i.log=Go,i.log10=Vo,i.log2=Ho,i.max=Wo,i.min=Qo,i.mod=Ko,i.mul=Yo,i.pow=ts,i.random=es,i.round=rs,i.sign=ns,i.sin=is,i.sinh=us,i.sqrt=as,i.sub=os,i.sum=ss,i.tan=fs,i.tanh=cs,i.trunc=ls,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)t.hasOwnProperty(e=n[r++])||(t[e]=this[e]);return i.config(t),i}function Uo(t,r){return new this(t).div(r)}function Zo(t){return new this(t).exp()}function $o(t){return st(t=new this(t),t.e+1,3)}function Xo(){var t,r,e=new this(0);for(pt=!1,t=0;t<arguments.length;)if(r=new this(arguments[t++]),r.d)e.d&&(e=e.plus(r.times(r)));else{if(r.s)return pt=!0,new this(1/0);e=r}return pt=!0,e.sqrt()}function Tn(t){return t instanceof ur||t&&t.toStringTag===Hi||!1}function Jo(t){return new this(t).ln()}function Go(t,r){return new this(t).log(r)}function Ho(t){return new this(t).log(2)}function Vo(t){return new this(t).log(10)}function Wo(){return Ki(this,arguments,"lt")}function Qo(){return Ki(this,arguments,"gt")}function Ko(t,r){return new this(t).mod(r)}function Yo(t,r){return new this(t).mul(r)}function ts(t,r){return new this(t).pow(r)}function es(t){var r,e,n,i,a=0,c=new this(1),v=[];if(t===void 0?t=this.precision:te(t,1,_e),n=Math.ceil(t/lt),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));a<n;)i=r[a],i>=429e7?r[a]=crypto.getRandomValues(new Uint32Array(1))[0]:v[a++]=i%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(n*=4);a<n;)i=r[a]+(r[a+1]<<8)+(r[a+2]<<16)+((r[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(r,a):(v.push(i%1e7),a+=4);a=n/4}else throw Error(Gi);else for(;a<n;)v[a++]=Math.random()*1e7|0;for(n=v[--a],t%=lt,n&&t&&(i=Pt(10,lt-t),v[a]=(n/i|0)*i);v[a]===0;a--)v.pop();if(a<0)e=0,v=[0];else{for(e=-1;v[0]===0;e-=lt)v.shift();for(n=1,i=v[0];i>=10;i/=10)n++;n<lt&&(e-=lt-n)}return c.e=e,c.d=v,c}function rs(t){return st(t=new this(t),t.e+1,this.rounding)}function ns(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function is(t){return new this(t).sin()}function us(t){return new this(t).sinh()}function as(t){return new this(t).sqrt()}function os(t,r){return new this(t).sub(r)}function ss(){var t=0,r=arguments,e=new this(r[t]);for(pt=!1;e.s&&++t<r.length;)e=e.plus(r[t]);return pt=!0,st(e,this.precision,this.rounding)}function fs(t){return new this(t).tan()}function cs(t){return new this(t).tanh()}function ls(t){return st(t=new this(t),t.e+1,1)}H[Symbol.for("nodejs.util.inspect.custom")]=H.toString;H[Symbol.toStringTag]="Decimal";var ur=H.constructor=eu(en);br=new ur(br);Cr=new ur(Cr);var jn=ur,ps="BigNumber",hs=["?on","config"],vs=W(ps,hs,t=>{var{on:r,config:e}=t,n=jn.clone({precision:e.precision,modulo:jn.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},r&&r("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0}),Zt=kr(ha(),1),ds="Complex",ms=[],Ds=W(ds,ms,()=>(Object.defineProperty(Zt.default,"name",{value:"Complex"}),Zt.default.prototype.constructor=Zt.default,Zt.default.prototype.type="Complex",Zt.default.prototype.isComplex=!0,Zt.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Zt.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Zt.default.prototype.format=function(t){var r="",e=this.im,n=this.re,i=Kr(this.re,t),a=Kr(this.im,t),c=Nt(t)?t:t?t.precision:null;if(c!==null){var v=Math.pow(10,-c);Math.abs(n/e)<v&&(n=0),Math.abs(e/n)<v&&(e=0)}return e===0?r=i:n===0?e===1?r="i":e===-1?r="-i":r=a+"i":e<0?e===-1?r=i+" - i":r=i+" - "+a.substring(1)+"i":e===1?r=i+" + i":r=i+" + "+a+"i",r},Zt.default.fromPolar=function(t){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return(0,Zt.default)(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var e=arguments[0],n=arguments[1];if(Nt(e)){if(zi(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Nt(n))return new Zt.default({r:e,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Zt.default.prototype.valueOf=Zt.default.prototype.toString,Zt.default.fromJSON=function(t){return new Zt.default(t)},Zt.default.compare=function(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0},Zt.default),{isClass:!0}),De=kr(va(),1),ys="Fraction",gs=[],ws=W(ys,gs,()=>(Object.defineProperty(De.default,"name",{value:"Fraction"}),De.default.prototype.constructor=De.default,De.default.prototype.type="Fraction",De.default.prototype.isFraction=!0,De.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},De.default.fromJSON=function(t){return new De.default(t)},De.default),{isClass:!0}),xs="Matrix",Es=[],As=W(xs,Es,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(r,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(r,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(r,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(r,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(r,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(r,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function ru(t){return Object.keys(t.signatures||{}).reduce(function(r,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(r,n)},-1)}var Fs="DenseMatrix",bs=["Matrix"],Cs=W(Fs,bs,t=>{var{Matrix:r}=t;function e(o,u){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!fe(u))throw new Error("Invalid datatype: "+u);if(Ct(o))o.type==="DenseMatrix"?(this._data=yt(o._data),this._size=yt(o._size),this._datatype=u||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=u||o._datatype);else if(o&&At(o.data)&&At(o.size))this._data=o.data,this._size=o.size,Sn(this._data,this._size),this._datatype=u||o.datatype;else if(At(o))this._data=h(o),this._size=Tt(this._data),Sn(this._data,this._size),this._datatype=u;else{if(o)throw new TypeError("Unsupported type of data ("+ve(o)+")");this._data=[],this._size=[0],this._datatype=u}}e.prototype=new r,e.prototype.createDenseMatrix=function(o,u){return new e(o,u)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return Fr(this._data,ve)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(o,u){return new e(o,u)},e.prototype.subset=function(o,u,s){switch(arguments.length){case 1:return n(this,o);case 2:case 3:return a(this,o,u,s);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(o){if(!At(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new wt(o.length,this._size.length);for(var u=0;u<o.length;u++)Ft(o[u],this._size[u]);for(var s=this._data,l=0,p=o.length;l<p;l++){var f=o[l];Ft(f,s.length),s=s[f]}return s},e.prototype.set=function(o,u,s){if(!At(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new wt(o.length,this._size.length,"<");var l,p,f,m=o.map(function(y){return y+1});d(this,m,s);var D=this._data;for(l=0,p=o.length-1;l<p;l++)f=o[l],Ft(f,D.length),D=D[f];return f=o[o.length-1],Ft(f,D.length),D[f]=u,this};function n(o,u){if(!Pr(u))throw new TypeError("Invalid index");var s=u.isScalar();if(s)return o.get(u.min());var l=u.size();if(l.length!==o._size.length)throw new wt(l.length,o._size.length);for(var p=u.min(),f=u.max(),m=0,D=o._size.length;m<D;m++)Ft(p[m],o._size[m]),Ft(f[m],o._size[m]);return new e(i(o._data,u,l.length,0),o._datatype)}function i(o,u,s,l){var p=l===s-1,f=u.dimension(l);return p?f.map(function(m){return Ft(m,o.length),o[m]}).valueOf():f.map(function(m){Ft(m,o.length);var D=o[m];return i(D,u,s,l+1)}).valueOf()}function a(o,u,s,l){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var p=u.size(),f=u.isScalar(),m;if(Ct(s)?(m=s.size(),s=s.valueOf()):m=Tt(s),f){if(m.length!==0)throw new TypeError("Scalar expected");o.set(u.min(),s,l)}else{if(p.length<o._size.length)throw new wt(p.length,o._size.length,"<");if(m.length<p.length){for(var D=0,y=0;p[D]===1&&m[D]===1;)D++;for(;p[D]===1;)y++,D++;s=Pi(s,p.length,y,m)}if(!Er(p,m))throw new wt(p,m,">");var w=u.max().map(function(E){return E+1});d(o,w,l);var x=p.length,g=0;c(o._data,u,s,x,g)}return o}function c(o,u,s,l,p){var f=p===l-1,m=u.dimension(p);f?m.forEach(function(D,y){Ft(D),o[D]=s[y[0]]}):m.forEach(function(D,y){Ft(D),c(o[D],u,s[y[0]],l,p+1)})}e.prototype.resize=function(o,u,s){if(!wr(o))throw new TypeError("Array or Matrix expected");var l=o.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),p=s?this.clone():this;return v(p,l,u)};function v(o,u,s){if(u.length===0){for(var l=o._data;At(l);)l=l[0];return l}return o._size=u.slice(0),o._data=Ar(o._data,o._size,s),o}e.prototype.reshape=function(o,u){var s=u?this.clone():this;s._data=io(s._data,o);var l=s._size.reduce((p,f)=>p*f);return s._size=ln(o,l),s};function d(o,u,s){for(var l=o._size.slice(0),p=!1;l.length<u.length;)l.push(0),p=!0;for(var f=0,m=u.length;f<m;f++)u[f]>l[f]&&(l[f]=u[f],p=!0);p&&v(o,l,s)}e.prototype.clone=function(){var o=new e({data:yt(this._data),size:yt(this._size),datatype:this._datatype});return o},e.prototype.size=function(){return this._size.slice(0)},e.prototype.map=function(o){var u=this,s=ru(o),l=function m(D,y){return At(D)?D.map(function(w,x){return m(w,y.concat(x))}):s===1?o(D):s===2?o(D,y):o(D,y,u)},p=l(this._data,[]),f=this._datatype!==void 0?Fr(p,ve):void 0;return new e(p,f)},e.prototype.forEach=function(o){var u=this,s=function l(p,f){At(p)?p.forEach(function(m,D){l(m,f.concat(D))}):o(p,f,u)};s(this._data,[])},e.prototype[Symbol.iterator]=function*(){var o=function*u(s,l){if(At(s))for(var p=0;p<s.length;p++)yield*u(s[p],l.concat(p));else yield{value:s,index:l}};yield*o(this._data,[])},e.prototype.rows=function(){var o=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var s=this._data;for(var l of s)o.push(new e([l],this._datatype));return o},e.prototype.columns=function(){var o=this,u=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var l=this._data,p=function(m){var D=l.map(y=>[y[m]]);u.push(new e(D,o._datatype))},f=0;f<s[1];f++)p(f);return u},e.prototype.toArray=function(){return yt(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(o){return St(this._data,o)},e.prototype.toString=function(){return St(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(o){if(o){if(jt(o)&&(o=o.toNumber()),!Nt(o)||!bt(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var u=o>0?o:0,s=o<0?-o:0,l=this._size[0],p=this._size[1],f=Math.min(l-s,p-u),m=[],D=0;D<f;D++)m[D]=this._data[D+s][D+u];return new e({data:m,size:[f],datatype:this._datatype})},e.diagonal=function(o,u,s,l){if(!At(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(b){if(jt(b)&&(b=b.toNumber()),!Nt(b)||!bt(b)||b<1)throw new Error("Size values must be positive integers");return b}),s){if(jt(s)&&(s=s.toNumber()),!Nt(s)||!bt(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var p=s>0?s:0,f=s<0?-s:0,m=o[0],D=o[1],y=Math.min(m-f,D-p),w;if(At(u)){if(u.length!==y)throw new Error("Invalid value array length");w=function(b){return u[b]}}else if(Ct(u)){var x=u.size();if(x.length!==1||x[0]!==y)throw new Error("Invalid matrix length");w=function(b){return u.get([b])}}else w=function(){return u};l||(l=jt(w(0))?w(0).mul(0):0);var g=[];if(o.length>0){g=Ar(g,o,l);for(var E=0;E<y;E++)g[E+f][E+p]=w(E)}return new e({data:g,size:[m,D]})},e.fromJSON=function(o){return new e(o)},e.prototype.swapRows=function(o,u){if(!Nt(o)||!bt(o)||!Nt(u)||!bt(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ft(o,this._size[0]),Ft(u,this._size[0]),e._swapRows(o,u,this._data),this},e._swapRows=function(o,u,s){var l=s[o];s[o]=s[u],s[u]=l};function h(o){for(var u=0,s=o.length;u<s;u++){var l=o[u];At(l)?o[u]=h(l):l&&l.isMatrix===!0&&(o[u]=h(l.valueOf()))}return o}return e},{isClass:!0});function ne(t,r,e){return t&&typeof t.map=="function"?t.map(function(n){return ne(n,r)}):r(t)}var kn="isInteger",Ms=["typed"],_s=W(kn,Ms,t=>{var{typed:r}=t;return r(kn,{number:bt,BigNumber:function(e){return e.isInt()},Fraction:function(e){return e.d===1&&isFinite(e.n)},"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})}),hn="number",vn="number, number";function nu(t){return Math.abs(t)}nu.signature=hn;function iu(t,r){return t+r}iu.signature=vn;function uu(t,r){return t*r}uu.signature=vn;function au(t){return-t}au.signature=hn;function an(t){return Ga(t)}an.signature=hn;function ou(t,r){return t*t<1&&r===1/0||t*t>1&&r===-1/0?0:Math.pow(t,r)}ou.signature=vn;var Bs="number";function su(t){return t===0}su.signature=Bs;var Pn="isZero",Ss=["typed"],Ns=W(Pn,Ss,t=>{var{typed:r}=t;return r(Pn,{number:su,BigNumber:function(e){return e.isZero()},Complex:function(e){return e.re===0&&e.im===0},Fraction:function(e){return e.d===1&&e.n===0},Unit:r.referToSelf(e=>n=>r.find(e,n.valueType())(n.value)),"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})});function Je(t,r,e){if(e==null)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var n=t.minus(r).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),r.abs());return n.lte(i.times(e))}return!1}function zs(t,r,e){return ge(t.re,r.re,e)&&ge(t.im,r.im,e)}var Ge=W("compareUnits",["typed"],t=>{var{typed:r}=t;return{"Unit, Unit":r.referToSelf(e=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return r.find(e,[n.valueType(),i.valueType()])(n.value,i.value)})}}),_r="equalScalar",Os=["typed","config"],Is=W(_r,Os,t=>{var{typed:r,config:e}=t,n=Ge({typed:r});return r(_r,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return ge(i,a,e.epsilon)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||Je(i,a,e.epsilon)},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return zs(i,a,e.epsilon)}},n)});W(_r,["typed","config"],t=>{var{typed:r,config:e}=t;return r(_r,{"number, number":function(n,i){return ge(n,i,e.epsilon)}})});var Ts="SparseMatrix",js=["typed","equalScalar","Matrix"],ks=W(Ts,js,t=>{var{typed:r,equalScalar:e,Matrix:n}=t;function i(f,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!fe(m))throw new Error("Invalid datatype: "+m);if(Ct(f))a(this,f,m);else if(f&&At(f.index)&&At(f.ptr)&&At(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=m||f.datatype;else if(At(f))c(this,f,m);else{if(f)throw new TypeError("Unsupported type of data ("+ve(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(f,m,D){m.type==="SparseMatrix"?(f._values=m._values?yt(m._values):void 0,f._index=yt(m._index),f._ptr=yt(m._ptr),f._size=yt(m._size),f._datatype=D||m._datatype):c(f,m.valueOf(),D||m._datatype)}function c(f,m,D){f._values=[],f._index=[],f._ptr=[],f._datatype=D;var y=m.length,w=0,x=e,g=0;if(fe(D)&&(x=r.find(e,[D,D])||e,g=r.convert(0,D)),y>0){var E=0;do{f._ptr.push(f._index.length);for(var b=0;b<y;b++){var C=m[b];if(At(C)){if(E===0&&w<C.length&&(w=C.length),E<C.length){var F=C[E];x(F,g)||(f._values.push(F),f._index.push(b))}}else E===0&&w<1&&(w=1),x(C,g)||(f._values.push(C),f._index.push(b))}E++}while(E<w)}f._ptr.push(f._index.length),f._size=[y,w]}i.prototype=new n,i.prototype.createSparseMatrix=function(f,m){return new i(f,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Fr(this._values,ve)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,m){return new i(f,m)},i.prototype.density=function(){var f=this._size[0],m=this._size[1];return f!==0&&m!==0?this._index.length/(f*m):0},i.prototype.subset=function(f,m,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return v(this,f);case 2:case 3:return d(this,f,m,D);default:throw new SyntaxError("Wrong number of arguments")}};function v(f,m){if(!Pr(m))throw new TypeError("Invalid index");var D=m.isScalar();if(D)return f.get(m.min());var y=m.size();if(y.length!==f._size.length)throw new wt(y.length,f._size.length);var w,x,g,E,b=m.min(),C=m.max();for(w=0,x=f._size.length;w<x;w++)Ft(b[w],f._size[w]),Ft(C[w],f._size[w]);var F=f._values,A=f._index,B=f._ptr,M=m.dimension(0),S=m.dimension(1),j=[],z=[];M.forEach(function(k,O){z[k]=O[0],j[k]=!0});var I=F?[]:void 0,q=[],N=[];return S.forEach(function(k){for(N.push(q.length),g=B[k],E=B[k+1];g<E;g++)w=A[g],j[w]===!0&&(q.push(z[w]),I&&I.push(F[g]))}),N.push(q.length),new i({values:I,index:q,ptr:N,size:y,datatype:f._datatype})}function d(f,m,D,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),x=m.isScalar(),g;if(Ct(D)?(g=D.size(),D=D.toArray()):g=Tt(D),x){if(g.length!==0)throw new TypeError("Scalar expected");f.set(m.min(),D,y)}else{if(w.length!==1&&w.length!==2)throw new wt(w.length,f._size.length,"<");if(g.length<w.length){for(var E=0,b=0;w[E]===1&&g[E]===1;)E++;for(;w[E]===1;)b++,E++;D=Pi(D,w.length,b,g)}if(!Er(w,g))throw new wt(w,g,">");if(w.length===1){var C=m.dimension(0);C.forEach(function(B,M){Ft(B),f.set([B,0],D[M[0]],y)})}else{var F=m.dimension(0),A=m.dimension(1);F.forEach(function(B,M){Ft(B),A.forEach(function(S,j){Ft(S),f.set([B,S],D[M[0]][j[0]],y)})})}}return f}i.prototype.get=function(f){if(!At(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new wt(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=f[0],D=f[1];Ft(m,this._size[0]),Ft(D,this._size[1]);var y=h(m,this._ptr[D],this._ptr[D+1],this._index);return y<this._ptr[D+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(f,m,D){if(!At(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new wt(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=f[0],w=f[1],x=this._size[0],g=this._size[1],E=e,b=0;fe(this._datatype)&&(E=r.find(e,[this._datatype,this._datatype])||e,b=r.convert(0,this._datatype)),(y>x-1||w>g-1)&&(s(this,Math.max(y+1,x),Math.max(w+1,g),D),x=this._size[0],g=this._size[1]),Ft(y,x),Ft(w,g);var C=h(y,this._ptr[w],this._ptr[w+1],this._index);return C<this._ptr[w+1]&&this._index[C]===y?E(m,b)?o(C,w,this._values,this._index,this._ptr):this._values[C]=m:E(m,b)||u(C,y,w,m,this._values,this._index,this._ptr),this};function h(f,m,D,y){if(D-m===0)return D;for(var w=m;w<D;w++)if(y[w]===f)return w;return m}function o(f,m,D,y,w){D.splice(f,1),y.splice(f,1);for(var x=m+1;x<w.length;x++)w[x]--}function u(f,m,D,y,w,x,g){w.splice(f,0,y),x.splice(f,0,m);for(var E=D+1;E<g.length;E++)g[E]++}i.prototype.resize=function(f,m,D){if(!wr(f))throw new TypeError("Array or Matrix expected");var y=f.valueOf().map(x=>Array.isArray(x)&&x.length===1?x[0]:x);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(x){if(!Nt(x)||!bt(x)||x<0)throw new TypeError("Invalid size, must contain positive integers (size: "+St(y)+")")});var w=D?this.clone():this;return s(w,y[0],y[1],m)};function s(f,m,D,y){var w=y||0,x=e,g=0;fe(f._datatype)&&(x=r.find(e,[f._datatype,f._datatype])||e,g=r.convert(0,f._datatype),w=r.convert(w,f._datatype));var E=!x(w,g),b=f._size[0],C=f._size[1],F,A,B;if(D>C){for(A=C;A<D;A++)if(f._ptr[A]=f._values.length,E)for(F=0;F<b;F++)f._values.push(w),f._index.push(F);f._ptr[D]=f._values.length}else D<C&&(f._ptr.splice(D+1,C-D),f._values.splice(f._ptr[D],f._values.length),f._index.splice(f._ptr[D],f._index.length));if(C=D,m>b){if(E){var M=0;for(A=0;A<C;A++){f._ptr[A]=f._ptr[A]+M,B=f._ptr[A+1]+M;var S=0;for(F=b;F<m;F++,S++)f._values.splice(B+S,0,w),f._index.splice(B+S,0,F),M++}f._ptr[C]=f._values.length}}else if(m<b){var j=0;for(A=0;A<C;A++){f._ptr[A]=f._ptr[A]-j;var z=f._ptr[A],I=f._ptr[A+1]-j;for(B=z;B<I;B++)F=f._index[B],F>m-1&&(f._values.splice(B,1),f._index.splice(B,1),j++)}f._ptr[A]=f._values.length}return f._size[0]=m,f._size[1]=D,f}i.prototype.reshape=function(f,m){if(!At(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(k){if(!Nt(k)||!bt(k)||k<=-2||k===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+St(f)+")")});var D=this._size[0]*this._size[1];f=ln(f,D);var y=f[0]*f[1];if(D!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return w;for(var x=[],g=0;g<w._ptr.length;g++)for(var E=0;E<w._ptr[g+1]-w._ptr[g];E++)x.push(g);for(var b=w._values.slice(),C=w._index.slice(),F=0;F<w._index.length;F++){var A=C[F],B=x[F],M=A*w._size[1]+B;x[F]=M%f[1],C[F]=Math.floor(M/f[1])}w._values.length=0,w._index.length=0,w._ptr.length=f[1]+1,w._size=f.slice();for(var S=0;S<w._ptr.length;S++)w._ptr[S]=0;for(var j=0;j<b.length;j++){var z=C[j],I=x[j],q=b[j],N=h(z,w._ptr[I],w._ptr[I+1],w._index);u(N,z,I,q,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var f=new i({values:this._values?yt(this._values):void 0,index:yt(this._index),ptr:yt(this._ptr),size:yt(this._size),datatype:this._datatype});return f},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,y=this._size[0],w=this._size[1],x=ru(f),g=function(E,b,C){return x===1?f(E):x===2?f(E,[b,C]):f(E,[b,C],D)};return l(this,0,y-1,0,w-1,g,m)};function l(f,m,D,y,w,x,g){var E=[],b=[],C=[],F=e,A=0;fe(f._datatype)&&(F=r.find(e,[f._datatype,f._datatype])||e,A=r.convert(0,f._datatype));for(var B=function(X,P,L){X=x(X,P,L),F(X,A)||(E.push(X),b.push(P))},M=y;M<=w;M++){C.push(E.length);var S=f._ptr[M],j=f._ptr[M+1];if(g)for(var z=S;z<j;z++){var I=f._index[z];I>=m&&I<=D&&B(f._values[z],I-m,M-y)}else{for(var q={},N=S;N<j;N++){var k=f._index[N];q[k]=f._values[N]}for(var O=m;O<=D;O++){var U=O in q?q[O]:0;B(U,O-m,M-y)}}}return C.push(E.length),new i({values:E,index:b,ptr:C,size:[D-m+1,w-y+1]})}i.prototype.forEach=function(f,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,y=this._size[0],w=this._size[1],x=0;x<w;x++){var g=this._ptr[x],E=this._ptr[x+1];if(m)for(var b=g;b<E;b++){var C=this._index[b];f(this._values[b],[C,x],D)}else{for(var F={},A=g;A<E;A++){var B=this._index[A];F[B]=this._values[A]}for(var M=0;M<y;M++){var S=M in F?F[M]:0;f(S,[M,x],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],m=0;m<f;m++)for(var D=this._ptr[m],y=this._ptr[m+1],w=D;w<y;w++){var x=this._index[w];yield{value:this._values[w],index:[x,m]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(f,m,D,y,w){var x=y[0],g=y[1],E=[],b,C;for(b=0;b<x;b++)for(E[b]=[],C=0;C<g;C++)E[b][C]=0;for(C=0;C<g;C++)for(var F=D[C],A=D[C+1],B=F;B<A;B++)b=m[B],E[b][C]=f?w?yt(f[B]):f[B]:1;return E}return i.prototype.format=function(f){for(var m=this._size[0],D=this._size[1],y=this.density(),w="Sparse Matrix ["+St(m,f)+" x "+St(D,f)+"] density: "+St(y,f)+`
`,x=0;x<D;x++)for(var g=this._ptr[x],E=this._ptr[x+1],b=g;b<E;b++){var C=this._index[b];w+=`
    (`+St(C,f)+", "+St(x,f)+") ==> "+(this._values?St(this._values[b],f):"X")}return w},i.prototype.toString=function(){return St(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(jt(f)&&(f=f.toNumber()),!Nt(f)||!bt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,D=f<0?-f:0,y=this._size[0],w=this._size[1],x=Math.min(y-D,w-m),g=[],E=[],b=[];b[0]=0;for(var C=m;C<w&&g.length<x;C++)for(var F=this._ptr[C],A=this._ptr[C+1],B=F;B<A;B++){var M=this._index[B];if(M===C-m+D){g.push(this._values[B]),E[g.length-1]=M-D;break}}return b.push(g.length),new i({values:g,index:E,ptr:b,size:[x,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,m,D,y,w){if(!At(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(k){if(jt(k)&&(k=k.toNumber()),!Nt(k)||!bt(k)||k<1)throw new Error("Size values must be positive integers");return k}),D){if(jt(D)&&(D=D.toNumber()),!Nt(D)||!bt(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var x=e,g=0;fe(w)&&(x=r.find(e,[w,w])||e,g=r.convert(0,w));var E=D>0?D:0,b=D<0?-D:0,C=f[0],F=f[1],A=Math.min(C-b,F-E),B;if(At(m)){if(m.length!==A)throw new Error("Invalid value array length");B=function(k){return m[k]}}else if(Ct(m)){var M=m.size();if(M.length!==1||M[0]!==A)throw new Error("Invalid matrix length");B=function(k){return m.get([k])}}else B=function(){return m};for(var S=[],j=[],z=[],I=0;I<F;I++){z.push(S.length);var q=I-E;if(q>=0&&q<A){var N=B(q);x(N,g)||(j.push(q+b),S.push(N))}}return z.push(S.length),new i({values:S,index:j,ptr:z,size:[C,F]})},i.prototype.swapRows=function(f,m){if(!Nt(f)||!bt(f)||!Nt(m)||!bt(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ft(f,this._size[0]),Ft(m,this._size[0]),i._swapRows(f,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,m,D,y,w){for(var x=y[f],g=y[f+1],E=x;E<g;E++)w(D[E],m[E])},i._swapRows=function(f,m,D,y,w,x){for(var g=0;g<D;g++){var E=x[g],b=x[g+1],C=h(f,E,b,w),F=h(m,E,b,w);if(C<b&&F<b&&w[C]===f&&w[F]===m){if(y){var A=y[C];y[C]=y[F],y[F]=A}continue}if(C<b&&w[C]===f&&(F>=b||w[F]!==m)){var B=y?y[C]:void 0;w.splice(F,0,m),y&&y.splice(F,0,B),w.splice(F<=C?C+1:C,1),y&&y.splice(F<=C?C+1:C,1);continue}if(F<b&&w[F]===m&&(C>=b||w[C]!==f)){var M=y?y[F]:void 0;w.splice(C,0,f),y&&y.splice(C,0,M),w.splice(C<=F?F+1:F,1),y&&y.splice(C<=F?F+1:F,1)}}},i},{isClass:!0}),Ps="number",qs=["typed"];function Rs(t){var r=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var e={"0b":2,"0o":8,"0x":16}[r[1]],n=r[2],i=r[3];return{input:t,radix:e,integerPart:n,fractionalPart:i}}else return null}function Ls(t){for(var r=parseInt(t.integerPart,t.radix),e=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);e+=i/Math.pow(t.radix,n+1)}var a=r+e;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is no valid number');return a}var Us=W(Ps,qs,t=>{var{typed:r}=t,e=r("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var i=Rs(n);if(i)return Ls(i);var a=0,c=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(a=Number(c[2]),n=c[1]);var v=Number(n);if(isNaN(v))throw new SyntaxError('String "'+n+'" is no valid number');if(c){if(v>Ot(2,a)-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));v>=Ot(2,a-1)&&(v=v-Ot(2,a))}return v},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:r.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(n){return 0},"Unit, string | Unit":function(n,i){return n.toNumber(i)},"Array | Matrix":r.referToSelf(n=>i=>ne(i,n))});return e.fromJSON=function(n){return parseFloat(n.value)},e}),Zs="bignumber",$s=["typed","BigNumber"],Xs=W(Zs,$s,t=>{var{typed:r,BigNumber:e}=t;return r("bignumber",{"":function(){return new e(0)},number:function(n){return new e(n+"")},string:function(n){var i=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var a=i[2],c=e(i[1]),v=new e(2).pow(Number(a));if(c.gt(v.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var d=new e(2).pow(Number(a)-1);return c.gte(d)?c.sub(v):c}return new e(n)},BigNumber:function(n){return n},Unit:r.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(n){return new e(n.n).div(n.d).times(n.s)},null:function(n){return new e(0)},"Array | Matrix":r.referToSelf(n=>i=>ne(i,n))})}),Js="complex",Gs=["typed","Complex"],Hs=W(Js,Gs,t=>{var{typed:r,Complex:e}=t;return r("complex",{"":function(){return e.ZERO},number:function(n){return new e(n,0)},"number, number":function(n,i){return new e(n,i)},"BigNumber, BigNumber":function(n,i){return new e(n.toNumber(),i.toNumber())},Fraction:function(n){return new e(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return e(n)},null:function(n){return e(0)},Object:function(n){if("re"in n&&"im"in n)return new e(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new e(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(n=>i=>ne(i,n))})}),Vs="fraction",Ws=["typed","Fraction"],Qs=W(Vs,Ws,t=>{var{typed:r,Fraction:e}=t;return r("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new e(n)},string:function(n){return new e(n)},"number, number":function(n,i){return new e(n,i)},null:function(n){return new e(0)},BigNumber:function(n){return new e(n.toString())},Fraction:function(n){return n},Unit:r.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(n){return new e(n)},"Array | Matrix":r.referToSelf(n=>i=>ne(i,n))})}),qn="matrix",Ks=["typed","Matrix","DenseMatrix","SparseMatrix"],Ys=W(qn,Ks,t=>{var{typed:r,Matrix:e,DenseMatrix:n,SparseMatrix:i}=t;return r(qn,{"":function(){return a([])},string:function(c){return a([],c)},"string, string":function(c,v){return a([],c,v)},Array:function(c){return a(c)},Matrix:function(c){return a(c,c.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(c,v,d){if(v==="dense"||v==="default"||v===void 0)return new n(c,d);if(v==="sparse")return new i(c,d);throw new TypeError("Unknown matrix type "+JSON.stringify(v)+".")}}),Rn="matrixFromColumns",t0=["typed","matrix","flatten","size"],e0=W(Rn,t0,t=>{var{typed:r,matrix:e,flatten:n,size:i}=t;return r(Rn,{"...Array":function(v){return a(v)},"...Matrix":function(v){return e(a(v.map(d=>d.toArray())))}});function a(v){if(v.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var d=c(v[0]),h=[],o=0;o<d;o++)h[o]=[];for(var u of v){var s=c(u);if(s!==d)throw new TypeError("The vectors had different length: "+(d|0)+" ≠ "+(s|0));for(var l=n(u),p=0;p<d;p++)h[p].push(l[p])}return h}function c(v){var d=i(v);if(d.length===1)return d[0];if(d.length===2){if(d[0]===1)return d[1];if(d[1]===1)return d[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Ln="unaryMinus",r0=["typed"],n0=W(Ln,r0,t=>{var{typed:r}=t;return r(Ln,{number:au,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:r.referToSelf(e=>n=>{var i=n.clone();return i.value=r.find(e,i.valueType())(n.value),i}),"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})}),Un="abs",i0=["typed"],u0=W(Un,i0,t=>{var{typed:r}=t;return r(Un,{number:nu,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})}),Zn="addScalar",a0=["typed"],o0=W(Zn,a0,t=>{var{typed:r}=t;return r(Zn,{"number, number":iu,"Complex, Complex":function(e,n){return e.add(n)},"BigNumber, BigNumber":function(e,n){return e.plus(n)},"Fraction, Fraction":function(e,n){return e.add(n)},"Unit, Unit":r.referToSelf(e=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=r.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),s0="matAlgo11xS0s",f0=["typed","equalScalar"],c0=W(s0,f0,t=>{var{typed:r,equalScalar:e}=t;return function(n,i,a,c){var v=n._values,d=n._index,h=n._ptr,o=n._size,u=n._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var s=o[0],l=o[1],p,f=e,m=0,D=a;typeof u=="string"&&(p=u,f=r.find(e,[p,p]),m=r.convert(0,p),i=r.convert(i,p),D=r.find(a,[p,p]));for(var y=[],w=[],x=[],g=0;g<l;g++){x[g]=w.length;for(var E=h[g],b=h[g+1],C=E;C<b;C++){var F=d[C],A=c?D(i,v[C]):D(v[C],i);f(A,m)||(w.push(F),y.push(A))}}return x[l]=w.length,n.createSparseMatrix({values:y,index:w,ptr:x,size:[s,l],datatype:p})}}),l0="matAlgo12xSfs",p0=["typed","DenseMatrix"],Ie=W(l0,p0,t=>{var{typed:r,DenseMatrix:e}=t;return function(n,i,a,c){var v=n._values,d=n._index,h=n._ptr,o=n._size,u=n._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var s=o[0],l=o[1],p,f=a;typeof u=="string"&&(p=u,i=r.convert(i,p),f=r.find(a,[p,p]));for(var m=[],D=[],y=[],w=0;w<l;w++){for(var x=w+1,g=h[w],E=h[w+1],b=g;b<E;b++){var C=d[b];D[C]=v[b],y[C]=x}for(var F=0;F<s;F++)w===0&&(m[F]=[]),y[F]===x?m[F][w]=c?f(i,D[F]):f(D[F],i):m[F][w]=c?f(i,0):f(0,i)}return new e({data:m,size:[s,l],datatype:p})}}),h0="matAlgo14xDs",v0=["typed"],fu=W(h0,v0,t=>{var{typed:r}=t;return function(n,i,a,c){var v=n._data,d=n._size,h=n._datatype,o,u=a;typeof h=="string"&&(o=h,i=r.convert(i,o),u=r.find(a,[o,o]));var s=d.length>0?e(u,0,d,d[0],v,i,c):[];return n.createDenseMatrix({data:s,size:yt(d),datatype:o})};function e(n,i,a,c,v,d,h){var o=[];if(i===a.length-1)for(var u=0;u<c;u++)o[u]=h?n(d,v[u]):n(v[u],d);else for(var s=0;s<c;s++)o[s]=e(n,i+1,a,a[i+1],v[s],d,h);return o}}),d0="matAlgo01xDSid",m0=["typed"],cu=W(d0,m0,t=>{var{typed:r}=t;return function(e,n,i,a){var c=e._data,v=e._size,d=e._datatype,h=n._values,o=n._index,u=n._ptr,s=n._size,l=n._datatype;if(v.length!==s.length)throw new wt(v.length,s.length);if(v[0]!==s[0]||v[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+s+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=v[0],f=v[1],m=typeof d=="string"&&d===l?d:void 0,D=m?r.find(i,[m,m]):i,y,w,x=[];for(y=0;y<p;y++)x[y]=[];var g=[],E=[];for(w=0;w<f;w++){for(var b=w+1,C=u[w],F=u[w+1],A=C;A<F;A++)y=o[A],g[y]=a?D(h[A],c[y][w]):D(c[y][w],h[A]),E[y]=b;for(y=0;y<p;y++)E[y]===b?x[y][w]=g[y]:x[y][w]=c[y][w]}return e.createDenseMatrix({data:x,size:[p,f],datatype:m})}}),D0="matAlgo04xSidSid",y0=["typed","equalScalar"],g0=W(D0,y0,t=>{var{typed:r,equalScalar:e}=t;return function(n,i,a){var c=n._values,v=n._index,d=n._ptr,h=n._size,o=n._datatype,u=i._values,s=i._index,l=i._ptr,p=i._size,f=i._datatype;if(h.length!==p.length)throw new wt(h.length,p.length);if(h[0]!==p[0]||h[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+p+")");var m=h[0],D=h[1],y,w=e,x=0,g=a;typeof o=="string"&&o===f&&(y=o,w=r.find(e,[y,y]),x=r.convert(0,y),g=r.find(a,[y,y]));var E=c&&u?[]:void 0,b=[],C=[],F=c&&u?[]:void 0,A=c&&u?[]:void 0,B=[],M=[],S,j,z,I,q;for(j=0;j<D;j++){C[j]=b.length;var N=j+1;for(I=d[j],q=d[j+1],z=I;z<q;z++)S=v[z],b.push(S),B[S]=N,F&&(F[S]=c[z]);for(I=l[j],q=l[j+1],z=I;z<q;z++)if(S=s[z],B[S]===N){if(F){var k=g(F[S],u[z]);w(k,x)?B[S]=null:F[S]=k}}else b.push(S),M[S]=N,A&&(A[S]=u[z]);if(F&&A)for(z=C[j];z<b.length;)S=b[z],B[S]===N?(E[z]=F[S],z++):M[S]===N?(E[z]=A[S],z++):b.splice(z,1)}return C[D]=b.length,n.createSparseMatrix({values:E,index:b,ptr:C,size:[m,D],datatype:y})}}),w0="matAlgo10xSids",x0=["typed","DenseMatrix"],lu=W(w0,x0,t=>{var{typed:r,DenseMatrix:e}=t;return function(n,i,a,c){var v=n._values,d=n._index,h=n._ptr,o=n._size,u=n._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var s=o[0],l=o[1],p,f=a;typeof u=="string"&&(p=u,i=r.convert(i,p),f=r.find(a,[p,p]));for(var m=[],D=[],y=[],w=0;w<l;w++){for(var x=w+1,g=h[w],E=h[w+1],b=g;b<E;b++){var C=d[b];D[C]=v[b],y[C]=x}for(var F=0;F<s;F++)w===0&&(m[F]=[]),y[F]===x?m[F][w]=c?f(i,D[F]):f(D[F],i):m[F][w]=i}return new e({data:m,size:[s,l],datatype:p})}}),E0="matAlgo13xDD",A0=["typed"],F0=W(E0,A0,t=>{var{typed:r}=t;return function(n,i,a){var c=n._data,v=n._size,d=n._datatype,h=i._data,o=i._size,u=i._datatype,s=[];if(v.length!==o.length)throw new wt(v.length,o.length);for(var l=0;l<v.length;l++){if(v[l]!==o[l])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+o+")");s[l]=v[l]}var p,f=a;typeof d=="string"&&d===u&&(p=d,f=r.find(a,[p,p]));var m=s.length>0?e(f,0,s,s[0],c,h):[];return n.createDenseMatrix({data:m,size:s,datatype:p})};function e(n,i,a,c,v,d){var h=[];if(i===a.length-1)for(var o=0;o<c;o++)h[o]=n(v[o],d[o]);else for(var u=0;u<c;u++)h[u]=e(n,i+1,a,a[i+1],v[u],d[u]);return h}}),b0="broadcast",C0=["concat"],M0=W(b0,C0,t=>{var{concat:r}=t;return function(a,c){var v=Math.max(a._size.length,c._size.length);if(a._size.length===c._size.length&&a._size.every((m,D)=>m===c._size[D]))return[a,c];for(var d=e(a._size,v,0),h=e(c._size,v,0),o=[],u=0;u<v;u++)o[u]=Math.max(d[u],h[u]);for(var s=0;s<v;s++)i(d,o,s),i(h,o,s);var l=a.clone(),p=c.clone();l._size.length<v?l.reshape(e(l._size,v,1)):p._size.length<v&&p.reshape(e(p._size,v,1));for(var f=0;f<v;f++)l._size[f]<o[f]&&(l=n(l,o[f],f)),p._size[f]<o[f]&&(p=n(p,o[f],f));return[l,p]};function e(a,c,v){return[...Array(c-a.length).fill(v),...a]}function n(a,c,v){return r(...Array(c).fill(a),v)}function i(a,c,v){if(a[v]<c[v]&a[v]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(v," with size ").concat(a[v]," to size ").concat(c[v]))}}),_0="matrixAlgorithmSuite",B0=["typed","matrix","concat"],Be=W(_0,B0,t=>{var{typed:r,matrix:e,concat:n}=t,i=F0({typed:r}),a=fu({typed:r}),c=M0({concat:n});return function(v){var d=v.elop,h=v.SD||v.DS,o;d?(o={"DenseMatrix, DenseMatrix":(p,f)=>i(...c(p,f),d),"Array, Array":(p,f)=>i(...c(e(p),e(f)),d).valueOf(),"Array, DenseMatrix":(p,f)=>i(...c(e(p),f),d),"DenseMatrix, Array":(p,f)=>i(...c(p,e(f)),d)},v.SS&&(o["SparseMatrix, SparseMatrix"]=(p,f)=>v.SS(...c(p,f),d,!1)),v.DS&&(o["DenseMatrix, SparseMatrix"]=(p,f)=>v.DS(...c(p,f),d,!1),o["Array, SparseMatrix"]=(p,f)=>v.DS(...c(e(p),f),d,!1)),h&&(o["SparseMatrix, DenseMatrix"]=(p,f)=>h(...c(f,p),d,!0),o["SparseMatrix, Array"]=(p,f)=>h(...c(e(f),p),d,!0))):(o={"DenseMatrix, DenseMatrix":r.referToSelf(p=>(f,m)=>i(...c(f,m),p)),"Array, Array":r.referToSelf(p=>(f,m)=>i(...c(e(f),e(m)),p).valueOf()),"Array, DenseMatrix":r.referToSelf(p=>(f,m)=>i(...c(e(f),m),p)),"DenseMatrix, Array":r.referToSelf(p=>(f,m)=>i(...c(f,e(m)),p))},v.SS&&(o["SparseMatrix, SparseMatrix"]=r.referToSelf(p=>(f,m)=>v.SS(...c(f,m),p,!1))),v.DS&&(o["DenseMatrix, SparseMatrix"]=r.referToSelf(p=>(f,m)=>v.DS(...c(f,m),p,!1)),o["Array, SparseMatrix"]=r.referToSelf(p=>(f,m)=>v.DS(...c(e(f),m),p,!1))),h&&(o["SparseMatrix, DenseMatrix"]=r.referToSelf(p=>(f,m)=>h(...c(m,f),p,!0)),o["SparseMatrix, Array"]=r.referToSelf(p=>(f,m)=>h(...c(e(m),f),p,!0))));var u=v.scalar||"any",s=v.Ds||v.Ss;s&&(d?(o["DenseMatrix,"+u]=(p,f)=>a(p,f,d,!1),o[u+", DenseMatrix"]=(p,f)=>a(f,p,d,!0),o["Array,"+u]=(p,f)=>a(e(p),f,d,!1).valueOf(),o[u+", Array"]=(p,f)=>a(e(f),p,d,!0).valueOf()):(o["DenseMatrix,"+u]=r.referToSelf(p=>(f,m)=>a(f,m,p,!1)),o[u+", DenseMatrix"]=r.referToSelf(p=>(f,m)=>a(m,f,p,!0)),o["Array,"+u]=r.referToSelf(p=>(f,m)=>a(e(f),m,p,!1).valueOf()),o[u+", Array"]=r.referToSelf(p=>(f,m)=>a(e(m),f,p,!0).valueOf())));var l=v.sS!==void 0?v.sS:v.Ss;return d?(v.Ss&&(o["SparseMatrix,"+u]=(p,f)=>v.Ss(p,f,d,!1)),l&&(o[u+", SparseMatrix"]=(p,f)=>l(f,p,d,!0))):(v.Ss&&(o["SparseMatrix,"+u]=r.referToSelf(p=>(f,m)=>v.Ss(f,m,p,!1))),l&&(o[u+", SparseMatrix"]=r.referToSelf(p=>(f,m)=>l(m,f,p,!0)))),d&&d.signatures&&Za(o,d.signatures),o}}),S0="matAlgo03xDSf",N0=["typed"],Te=W(S0,N0,t=>{var{typed:r}=t;return function(e,n,i,a){var c=e._data,v=e._size,d=e._datatype,h=n._values,o=n._index,u=n._ptr,s=n._size,l=n._datatype;if(v.length!==s.length)throw new wt(v.length,s.length);if(v[0]!==s[0]||v[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+s+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=v[0],f=v[1],m,D=0,y=i;typeof d=="string"&&d===l&&(m=d,D=r.convert(0,m),y=r.find(i,[m,m]));for(var w=[],x=0;x<p;x++)w[x]=[];for(var g=[],E=[],b=0;b<f;b++){for(var C=b+1,F=u[b],A=u[b+1],B=F;B<A;B++){var M=o[B];g[M]=a?y(h[B],c[M][b]):y(c[M][b],h[B]),E[M]=C}for(var S=0;S<p;S++)E[S]===C?w[S][b]=g[S]:w[S][b]=a?y(D,c[S][b]):y(c[S][b],D)}return e.createDenseMatrix({data:w,size:[p,f],datatype:m})}}),z0="matAlgo05xSfSf",O0=["typed","equalScalar"],pu=W(z0,O0,t=>{var{typed:r,equalScalar:e}=t;return function(n,i,a){var c=n._values,v=n._index,d=n._ptr,h=n._size,o=n._datatype,u=i._values,s=i._index,l=i._ptr,p=i._size,f=i._datatype;if(h.length!==p.length)throw new wt(h.length,p.length);if(h[0]!==p[0]||h[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+p+")");var m=h[0],D=h[1],y,w=e,x=0,g=a;typeof o=="string"&&o===f&&(y=o,w=r.find(e,[y,y]),x=r.convert(0,y),g=r.find(a,[y,y]));var E=c&&u?[]:void 0,b=[],C=[],F=E?[]:void 0,A=E?[]:void 0,B=[],M=[],S,j,z,I;for(j=0;j<D;j++){C[j]=b.length;var q=j+1;for(z=d[j],I=d[j+1];z<I;z++)S=v[z],b.push(S),B[S]=q,F&&(F[S]=c[z]);for(z=l[j],I=l[j+1];z<I;z++)S=s[z],B[S]!==q&&b.push(S),M[S]=q,A&&(A[S]=u[z]);if(E)for(z=C[j];z<b.length;){S=b[z];var N=B[S],k=M[S];if(N===q||k===q){var O=N===q?F[S]:x,U=k===q?A[S]:x,X=g(O,U);w(X,x)?b.splice(z,1):(E.push(X),z++)}}}return C[D]=b.length,n.createSparseMatrix({values:E,index:b,ptr:C,size:[m,D],datatype:y})}}),I0="multiplyScalar",T0=["typed"],j0=W(I0,T0,t=>{var{typed:r}=t;return r("multiplyScalar",{"number, number":uu,"Complex, Complex":function(e,n){return e.mul(n)},"BigNumber, BigNumber":function(e,n){return e.times(n)},"Fraction, Fraction":function(e,n){return e.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(e,n)=>n.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,n)=>e.multiply(n)})}),$n="multiply",k0=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],P0=W($n,k0,t=>{var{typed:r,matrix:e,addScalar:n,multiplyScalar:i,equalScalar:a,dot:c}=t,v=c0({typed:r,equalScalar:a}),d=fu({typed:r});function h(g,E){switch(g.length){case 1:switch(E.length){case 1:if(g[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(g[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+g[0]+") must match Matrix rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;case 2:switch(E.length){case 1:if(g[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+g[1]+") must match Vector length ("+E[0]+")");break;case 2:if(g[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+g[1]+") must match Matrix B rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+g.length+" dimensions)")}}function o(g,E,b){if(b===0)throw new Error("Cannot multiply two empty vectors");return c(g,E)}function u(g,E){if(E.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return s(g,E)}function s(g,E){var b=g._data,C=g._size,F=g._datatype,A=E._data,B=E._size,M=E._datatype,S=C[0],j=B[1],z,I=n,q=i;F&&M&&F===M&&typeof F=="string"&&(z=F,I=r.find(n,[z,z]),q=r.find(i,[z,z]));for(var N=[],k=0;k<j;k++){for(var O=q(b[0],A[0][k]),U=1;U<S;U++)O=I(O,q(b[U],A[U][k]));N[k]=O}return g.createDenseMatrix({data:N,size:[j],datatype:z})}var l=r("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":y}),p=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":x});function f(g,E){var b=g._data,C=g._size,F=g._datatype,A=E._data,B=E._datatype,M=C[0],S=C[1],j,z=n,I=i;F&&B&&F===B&&typeof F=="string"&&(j=F,z=r.find(n,[j,j]),I=r.find(i,[j,j]));for(var q=[],N=0;N<M;N++){for(var k=b[N],O=I(k[0],A[0]),U=1;U<S;U++)O=z(O,I(k[U],A[U]));q[N]=O}return g.createDenseMatrix({data:q,size:[M],datatype:j})}function m(g,E){var b=g._data,C=g._size,F=g._datatype,A=E._data,B=E._size,M=E._datatype,S=C[0],j=C[1],z=B[1],I,q=n,N=i;F&&M&&F===M&&typeof F=="string"&&(I=F,q=r.find(n,[I,I]),N=r.find(i,[I,I]));for(var k=[],O=0;O<S;O++){var U=b[O];k[O]=[];for(var X=0;X<z;X++){for(var P=N(U[0],A[0][X]),L=1;L<j;L++)P=q(P,N(U[L],A[L][X]));k[O][X]=P}}return g.createDenseMatrix({data:k,size:[S,z],datatype:I})}function D(g,E){var b=g._data,C=g._size,F=g._datatype,A=E._values,B=E._index,M=E._ptr,S=E._size,j=E._datatype;if(!A)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var z=C[0],I=S[1],q,N=n,k=i,O=a,U=0;F&&j&&F===j&&typeof F=="string"&&(q=F,N=r.find(n,[q,q]),k=r.find(i,[q,q]),O=r.find(a,[q,q]),U=r.convert(0,q));for(var X=[],P=[],L=[],$=E.createSparseMatrix({values:X,index:P,ptr:L,size:[z,I],datatype:q}),G=0;G<I;G++){L[G]=P.length;var Q=M[G],rt=M[G+1];if(rt>Q)for(var tt=0,V=0;V<z;V++){for(var ht=V+1,ot=void 0,it=Q;it<rt;it++){var ft=B[it];tt!==ht?(ot=k(b[V][ft],A[it]),tt=ht):ot=N(ot,k(b[V][ft],A[it]))}tt===ht&&!O(ot,U)&&(P.push(V),X.push(ot))}}return L[I]=P.length,$}function y(g,E){var b=g._values,C=g._index,F=g._ptr,A=g._datatype;if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=E._data,M=E._datatype,S=g._size[0],j=E._size[0],z=[],I=[],q=[],N,k=n,O=i,U=a,X=0;A&&M&&A===M&&typeof A=="string"&&(N=A,k=r.find(n,[N,N]),O=r.find(i,[N,N]),U=r.find(a,[N,N]),X=r.convert(0,N));var P=[],L=[];q[0]=0;for(var $=0;$<j;$++){var G=B[$];if(!U(G,X))for(var Q=F[$],rt=F[$+1],tt=Q;tt<rt;tt++){var V=C[tt];L[V]?P[V]=k(P[V],O(G,b[tt])):(L[V]=!0,I.push(V),P[V]=O(G,b[tt]))}}for(var ht=I.length,ot=0;ot<ht;ot++){var it=I[ot];z[ot]=P[it]}return q[1]=I.length,g.createSparseMatrix({values:z,index:I,ptr:q,size:[S,1],datatype:N})}function w(g,E){var b=g._values,C=g._index,F=g._ptr,A=g._datatype;if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=E._data,M=E._datatype,S=g._size[0],j=E._size[0],z=E._size[1],I,q=n,N=i,k=a,O=0;A&&M&&A===M&&typeof A=="string"&&(I=A,q=r.find(n,[I,I]),N=r.find(i,[I,I]),k=r.find(a,[I,I]),O=r.convert(0,I));for(var U=[],X=[],P=[],L=g.createSparseMatrix({values:U,index:X,ptr:P,size:[S,z],datatype:I}),$=[],G=[],Q=0;Q<z;Q++){P[Q]=X.length;for(var rt=Q+1,tt=0;tt<j;tt++){var V=B[tt][Q];if(!k(V,O))for(var ht=F[tt],ot=F[tt+1],it=ht;it<ot;it++){var ft=C[it];G[ft]!==rt?(G[ft]=rt,X.push(ft),$[ft]=N(V,b[it])):$[ft]=q($[ft],N(V,b[it]))}}for(var dt=P[Q],mt=X.length,ct=dt;ct<mt;ct++){var gt=X[ct];U[ct]=$[gt]}}return P[z]=X.length,L}function x(g,E){var b=g._values,C=g._index,F=g._ptr,A=g._datatype,B=E._values,M=E._index,S=E._ptr,j=E._datatype,z=g._size[0],I=E._size[1],q=b&&B,N,k=n,O=i;A&&j&&A===j&&typeof A=="string"&&(N=A,k=r.find(n,[N,N]),O=r.find(i,[N,N]));for(var U=q?[]:void 0,X=[],P=[],L=g.createSparseMatrix({values:U,index:X,ptr:P,size:[z,I],datatype:N}),$=q?[]:void 0,G=[],Q,rt,tt,V,ht,ot,it,ft,dt=0;dt<I;dt++){P[dt]=X.length;var mt=dt+1;for(ht=S[dt],ot=S[dt+1],V=ht;V<ot;V++)if(ft=M[V],q)for(rt=F[ft],tt=F[ft+1],Q=rt;Q<tt;Q++)it=C[Q],G[it]!==mt?(G[it]=mt,X.push(it),$[it]=O(B[V],b[Q])):$[it]=k($[it],O(B[V],b[Q]));else for(rt=F[ft],tt=F[ft+1],Q=rt;Q<tt;Q++)it=C[Q],G[it]!==mt&&(G[it]=mt,X.push(it));if(q)for(var ct=P[dt],gt=X.length,Dt=ct;Dt<gt;Dt++){var _t=X[Dt];U[Dt]=$[_t]}}return P[I]=X.length,L}return r($n,i,{"Array, Array":r.referTo("Matrix, Matrix",g=>(E,b)=>{h(Tt(E),Tt(b));var C=g(e(E),e(b));return Ct(C)?C.valueOf():C}),"Matrix, Matrix":function(g,E){var b=g.size(),C=E.size();return h(b,C),b.length===1?C.length===1?o(g,E,b[0]):u(g,E):C.length===1?l(g,E):p(g,E)},"Matrix, Array":r.referTo("Matrix,Matrix",g=>(E,b)=>g(E,e(b))),"Array, Matrix":r.referToSelf(g=>(E,b)=>g(e(E,b.storage()),b)),"SparseMatrix, any":function(g,E){return v(g,E,i,!1)},"DenseMatrix, any":function(g,E){return d(g,E,i,!1)},"any, SparseMatrix":function(g,E){return v(E,g,i,!0)},"any, DenseMatrix":function(g,E){return d(E,g,i,!0)},"Array, any":function(g,E){return d(e(g),E,i,!1).valueOf()},"any, Array":function(g,E){return d(e(E),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":r.referToSelf(g=>(E,b,C)=>{for(var F=g(E,b),A=0;A<C.length;A++)F=g(F,C[A]);return F})})}),Xn="sign",q0=["typed","BigNumber","Fraction","complex"],R0=W(Xn,q0,t=>{var{typed:r,BigNumber:e,complex:n,Fraction:i}=t;return r(Xn,{number:an,Complex:function(a){return a.im===0?n(an(a.re)):a.sign()},BigNumber:function(a){return new e(a.cmp(0))},Fraction:function(a){return new i(a.s,1)},"Array | Matrix":r.referToSelf(a=>c=>ne(c,a)),Unit:r.referToSelf(a=>c=>{if(!c._isDerived()&&c.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return r.find(a,c.valueType())(c.value)})})}),L0="sqrt",U0=["config","typed","Complex"],Z0=W(L0,U0,t=>{var{config:r,typed:e,Complex:n}=t;return e("sqrt",{number:i,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.sqrt():i(a.toNumber())},Unit:function(a){return a.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||r.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),Jn="subtract",$0=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],X0=W(Jn,$0,t=>{var{typed:r,matrix:e,equalScalar:n,addScalar:i,unaryMinus:a,DenseMatrix:c,concat:v}=t,d=cu({typed:r}),h=Te({typed:r}),o=pu({typed:r,equalScalar:n}),u=lu({typed:r,DenseMatrix:c}),s=Ie({typed:r,DenseMatrix:c}),l=Be({typed:r,matrix:e,concat:v});return r(Jn,{"number, number":(p,f)=>p-f,"Complex, Complex":(p,f)=>p.sub(f),"BigNumber, BigNumber":(p,f)=>p.minus(f),"Fraction, Fraction":(p,f)=>p.sub(f),"Unit, Unit":r.referToSelf(p=>(f,m)=>{if(f.value===null)throw new Error("Parameter x contains a unit with undefined value");if(m.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!f.equalBase(m))throw new Error("Units do not match");var D=f.clone();return D.value=r.find(p,[D.valueType(),m.valueType()])(D.value,m.value),D.fixPrefix=!1,D})},l({SS:o,DS:d,SD:h,Ss:s,sS:u}))}),J0="matAlgo07xSSf",G0=["typed","DenseMatrix"],ar=W(J0,G0,t=>{var{typed:r,DenseMatrix:e}=t;return function(i,a,c){var v=i._size,d=i._datatype,h=a._size,o=a._datatype;if(v.length!==h.length)throw new wt(v.length,h.length);if(v[0]!==h[0]||v[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+h+")");var u=v[0],s=v[1],l,p=0,f=c;typeof d=="string"&&d===o&&(l=d,p=r.convert(0,l),f=r.find(c,[l,l]));var m,D,y=[];for(m=0;m<u;m++)y[m]=[];var w=[],x=[],g=[],E=[];for(D=0;D<s;D++){var b=D+1;for(n(i,D,g,w,b),n(a,D,E,x,b),m=0;m<u;m++){var C=g[m]===b?w[m]:p,F=E[m]===b?x[m]:p;y[m][D]=f(C,F)}}return new e({data:y,size:[u,s],datatype:l})};function n(i,a,c,v,d){for(var h=i._values,o=i._index,u=i._ptr,s=u[a],l=u[a+1];s<l;s++){var p=o[s];c[p]=d,v[p]=h[s]}}}),Gn="conj",H0=["typed"],V0=W(Gn,H0,t=>{var{typed:r}=t;return r(Gn,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})}),Hn="im",W0=["typed"],Q0=W(Hn,W0,t=>{var{typed:r}=t;return r(Hn,{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})}),Vn="re",K0=["typed"],Y0=W(Vn,K0,t=>{var{typed:r}=t;return r(Vn,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":r.referToSelf(e=>n=>ne(n,e))})}),Wn="concat",tf=["typed","matrix","isInteger"],ef=W(Wn,tf,t=>{var{typed:r,matrix:e,isInteger:n}=t;return r(Wn,{"...Array | Matrix | number | BigNumber":function(i){var a,c=i.length,v=-1,d,h=!1,o=[];for(a=0;a<c;a++){var u=i[a];if(Ct(u)&&(h=!0),Nt(u)||jt(u)){if(a!==c-1)throw new Error("Dimension must be specified as last argument");if(d=v,v=u.valueOf(),!n(v))throw new TypeError("Integer number expected for dimension");if(v<0||a>0&&v>d)throw new Oe(v,d+1)}else{var s=yt(u).valueOf(),l=Tt(s);if(o[a]=s,d=v,v=l.length-1,a>0&&v!==d)throw new wt(d+1,v+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var p=o.shift();o.length;)p=hu(p,o.shift(),v,0);return h?e(p):p},"...string":function(i){return i.join("")}})});function hu(t,r,e,n){if(n<e){if(t.length!==r.length)throw new wt(t.length,r.length);for(var i=[],a=0;a<t.length;a++)i[a]=hu(t[a],r[a],e,n+1);return i}else return t.concat(r)}var Qn="column",rf=["typed","Index","matrix","range"],nf=W(Qn,rf,t=>{var{typed:r,Index:e,matrix:n,range:i}=t;return r(Qn,{"Matrix, number":a,"Array, number":function(c,v){return a(n(yt(c)),v).valueOf()}});function a(c,v){if(c.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ft(v,c.size()[1]);var d=i(0,c.size()[0]),h=new e(d,v),o=c.subset(h);return Ct(o)?o:n([[o]])}}),Kn="diag",uf=["typed","matrix","DenseMatrix","SparseMatrix"],af=W(Kn,uf,t=>{var{typed:r,matrix:e,DenseMatrix:n,SparseMatrix:i}=t;return r(Kn,{Array:function(d){return a(d,0,Tt(d),null)},"Array, number":function(d,h){return a(d,h,Tt(d),null)},"Array, BigNumber":function(d,h){return a(d,h.toNumber(),Tt(d),null)},"Array, string":function(d,h){return a(d,0,Tt(d),h)},"Array, number, string":function(d,h,o){return a(d,h,Tt(d),o)},"Array, BigNumber, string":function(d,h,o){return a(d,h.toNumber(),Tt(d),o)},Matrix:function(d){return a(d,0,d.size(),d.storage())},"Matrix, number":function(d,h){return a(d,h,d.size(),d.storage())},"Matrix, BigNumber":function(d,h){return a(d,h.toNumber(),d.size(),d.storage())},"Matrix, string":function(d,h){return a(d,0,d.size(),h)},"Matrix, number, string":function(d,h,o){return a(d,h,d.size(),o)},"Matrix, BigNumber, string":function(d,h,o){return a(d,h.toNumber(),d.size(),o)}});function a(d,h,o,u){if(!bt(h))throw new TypeError("Second parameter in function diag must be an integer");var s=h>0?h:0,l=h<0?-h:0;switch(o.length){case 1:return c(d,h,u,o[0],l,s);case 2:return v(d,h,u,o,l,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function c(d,h,o,u,s,l){var p=[u+s,u+l];if(o&&o!=="sparse"&&o!=="dense")throw new TypeError("Unknown matrix type ".concat(o,'"'));var f=o==="sparse"?i.diagonal(p,d,h):n.diagonal(p,d,h);return o!==null?f:f.valueOf()}function v(d,h,o,u,s,l){if(Ct(d)){var p=d.diagonal(h);return o!==null?o!==p.storage()?e(p,o):p:p.valueOf()}for(var f=Math.min(u[0]-s,u[1]-l),m=[],D=0;D<f;D++)m[D]=d[D+s][D+l];return o!==null?e(m):m}}),Yn="flatten",of=["typed","matrix"],sf=W(Yn,of,t=>{var{typed:r,matrix:e}=t;return r(Yn,{Array:function(n){return Ue(n)},Matrix:function(n){var i=Ue(n.toArray());return e(i)}})}),ti="identity",ff=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],cf=W(ti,ff,t=>{var{typed:r,config:e,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:c}=t;return r(ti,{"":function(){return e.matrix==="Matrix"?n([]):[]},string:function(h){return n(h)},"number | BigNumber":function(h){return d(h,h,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(h,o){return d(h,h,o)},"number | BigNumber, number | BigNumber":function(h,o){return d(h,o,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(h,o,u){return d(h,o,u)},Array:function(h){return v(h)},"Array, string":function(h,o){return v(h,o)},Matrix:function(h){return v(h.valueOf(),h.storage())},"Matrix, string":function(h,o){return v(h.valueOf(),o)}});function v(h,o){switch(h.length){case 0:return o?n(o):[];case 1:return d(h[0],h[0],o);case 2:return d(h[0],h[1],o);default:throw new Error("Vector containing two values expected")}}function d(h,o,u){var s=jt(h)||jt(o)?i:null;if(jt(h)&&(h=h.toNumber()),jt(o)&&(o=o.toNumber()),!bt(h)||h<1)throw new Error("Parameters in function identity must be positive integers");if(!bt(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var l=s?new i(1):1,p=s?new s(0):0,f=[h,o];if(u){if(u==="sparse")return c.diagonal(f,l,0,p);if(u==="dense")return a.diagonal(f,l,0,p);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var m=Ar([],f,p),D=h<o?h:o,y=0;y<D;y++)m[y][y]=l;return m}}),ei="kron",lf=["typed","matrix","multiplyScalar"],pf=W(ei,lf,t=>{var{typed:r,matrix:e,multiplyScalar:n}=t;return r(ei,{"Matrix, Matrix":function(a,c){return e(i(a.toArray(),c.toArray()))},"Matrix, Array":function(a,c){return e(i(a.toArray(),c))},"Array, Matrix":function(a,c){return e(i(a,c.toArray()))},"Array, Array":i});function i(a,c){if(Tt(a).length===1&&(a=[a]),Tt(c).length===1&&(c=[c]),Tt(a).length>2||Tt(c).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(c.length)+")");var v=[],d=[];return a.map(function(h){return c.map(function(o){return d=[],v.push(d),h.map(function(u){return o.map(function(s){return d.push(n(u,s))})})})})&&v}});function vu(){throw new Error('No "bignumber" implementation available')}function hf(){throw new Error('No "fraction" implementation available')}function du(){throw new Error('No "matrix" implementation available')}var ri="range",vf=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],df=W(ri,vf,t=>{var{typed:r,config:e,matrix:n,bignumber:i,smaller:a,smallerEq:c,larger:v,largerEq:d}=t;return r(ri,{string:o,"string, boolean":o,"number, number":function(m,D){return h(u(m,D,1))},"number, number, number":function(m,D,y){return h(u(m,D,y))},"number, number, boolean":function(m,D,y){return h(y?s(m,D,1):u(m,D,1))},"number, number, number, boolean":function(m,D,y,w){return h(w?s(m,D,y):u(m,D,y))},"BigNumber, BigNumber":function(m,D){var y=m.constructor;return h(l(m,D,new y(1)))},"BigNumber, BigNumber, BigNumber":function(m,D,y){return h(l(m,D,y))},"BigNumber, BigNumber, boolean":function(m,D,y){var w=m.constructor;return h(y?p(m,D,new w(1)):l(m,D,new w(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(m,D,y,w){return h(w?p(m,D,y):l(m,D,y))}});function h(m){return e.matrix==="Matrix"?n?n(m):du():m}function o(m,D){var y=f(m);if(!y)throw new SyntaxError('String "'+m+'" is no valid range');var w;return e.number==="BigNumber"?(i===void 0&&vu(),w=D?p:l,h(w(i(y.start),i(y.end),i(y.step)))):(w=D?s:u,h(w(y.start,y.end,y.step)))}function u(m,D,y){var w=[],x=m;if(y>0)for(;a(x,D);)w.push(x),x+=y;else if(y<0)for(;v(x,D);)w.push(x),x+=y;return w}function s(m,D,y){var w=[],x=m;if(y>0)for(;c(x,D);)w.push(x),x+=y;else if(y<0)for(;d(x,D);)w.push(x),x+=y;return w}function l(m,D,y){var w=i(0),x=[],g=m;if(y.gt(w))for(;a(g,D);)x.push(g),g=g.plus(y);else if(y.lt(w))for(;v(g,D);)x.push(g),g=g.plus(y);return x}function p(m,D,y){var w=i(0),x=[],g=m;if(y.gt(w))for(;c(g,D);)x.push(g),g=g.plus(y);else if(y.lt(w))for(;d(g,D);)x.push(g),g=g.plus(y);return x}function f(m){var D=m.split(":"),y=D.map(function(x){return Number(x)}),w=y.some(function(x){return isNaN(x)});if(w)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}}),ni="size",mf=["typed","config","?matrix"],Df=W(ni,mf,t=>{var{typed:r,config:e,matrix:n}=t;return r(ni,{Matrix:function(i){return i.create(i.size())},Array:Tt,string:function(i){return e.matrix==="Array"?[i.length]:n([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return e.matrix==="Array"?[]:n?n([]):du()}})}),ii="subset",yf=["typed","matrix"],gf=W(ii,yf,t=>{var{typed:r,matrix:e}=t;return r(ii,{"Array, Index":function(n,i){var a=e(n),c=a.subset(i);return i.isScalar()?c:c.valueOf()},"Matrix, Index":function(n,i){return n.subset(i)},"Object, Index":xf,"string, Index":wf,"Array, Index, any":function(n,i,a){return e(yt(n)).subset(i,a,void 0).valueOf()},"Array, Index, any, any":function(n,i,a,c){return e(yt(n)).subset(i,a,c).valueOf()},"Matrix, Index, any":function(n,i,a){return n.clone().subset(i,a)},"Matrix, Index, any, any":function(n,i,a,c){return n.clone().subset(i,a,c)},"string, Index, string":ui,"string, Index, string, string":ui,"Object, Index, any":Ef})});function wf(t,r){if(!Pr(r))throw new TypeError("Index expected");if(r.size().length!==1)throw new wt(r.size().length,1);var e=t.length;Ft(r.min()[0],e),Ft(r.max()[0],e);var n=r.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function ui(t,r,e,n){if(!r||r.isIndex!==!0)throw new TypeError("Index expected");if(r.size().length!==1)throw new wt(r.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=r.dimension(0),a=i.size()[0];if(a!==e.length)throw new wt(i.size()[0],e.length);var c=t.length;Ft(r.min()[0]),Ft(r.max()[0]);for(var v=[],d=0;d<c;d++)v[d]=t.charAt(d);if(i.forEach(function(u,s){v[u]=e.charAt(s[0])}),v.length>c)for(var h=c-1,o=v.length;h<o;h++)v[h]||(v[h]=n);return v.join("")}function xf(t,r){if(r.size().length!==1)throw new wt(r.size(),1);var e=r.dimension(0);if(typeof e!="string")throw new TypeError("String expected as index to retrieve an object property");return Ri(t,e)}function Ef(t,r,e){if(r.size().length!==1)throw new wt(r.size(),1);var n=r.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=yt(t);return Li(i,n,e),i}var ai="transpose",Af=["typed","matrix"],Ff=W(ai,Af,t=>{var{typed:r,matrix:e}=t;return r(ai,{Array:c=>n(e(c)).valueOf(),Matrix:n,any:yt});function n(c){var v=c.size(),d;switch(v.length){case 1:d=c.clone();break;case 2:{var h=v[0],o=v[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+St(v)+")");switch(c.storage()){case"dense":d=i(c,h,o);break;case"sparse":d=a(c,h,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+St(v)+")")}return d}function i(c,v,d){for(var h=c._data,o=[],u,s=0;s<d;s++){u=o[s]=[];for(var l=0;l<v;l++)u[l]=yt(h[l][s])}return c.createDenseMatrix({data:o,size:[d,v],datatype:c._datatype})}function a(c,v,d){for(var h=c._values,o=c._index,u=c._ptr,s=h?[]:void 0,l=[],p=[],f=[],m=0;m<v;m++)f[m]=0;var D,y,w;for(D=0,y=o.length;D<y;D++)f[o[D]]++;for(var x=0,g=0;g<v;g++)p.push(x),x+=f[g],f[g]=p[g];for(p.push(x),w=0;w<d;w++)for(var E=u[w],b=u[w+1],C=E;C<b;C++){var F=f[o[C]]++;l[F]=w,h&&(s[F]=yt(h[C]))}return c.createSparseMatrix({values:s,index:l,ptr:p,size:[d,v],datatype:c._datatype})}}),oi="ctranspose",bf=["typed","transpose","conj"],Cf=W(oi,bf,t=>{var{typed:r,transpose:e,conj:n}=t;return r(oi,{any:function(i){return n(e(i))}})}),si="zeros",Mf=["typed","config","matrix","BigNumber"],_f=W(si,Mf,t=>{var{typed:r,config:e,matrix:n,BigNumber:i}=t;return r(si,{"":function(){return e.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(d){var h=d[d.length-1];if(typeof h=="string"){var o=d.pop();return a(d,o)}else return e.matrix==="Array"?a(d):a(d,"default")},Array:a,Matrix:function(d){var h=d.storage();return a(d.valueOf(),h)},"Array | Matrix, string":function(d,h){return a(d.valueOf(),h)}});function a(d,h){var o=c(d),u=o?new i(0):0;if(v(d),h){var s=n(h);return d.length>0?s.resize(d,u):s}else{var l=[];return d.length>0?Ar(l,d,u):l}}function c(d){var h=!1;return d.forEach(function(o,u,s){jt(o)&&(h=!0,s[u]=o.toNumber())}),h}function v(d){d.forEach(function(h){if(typeof h!="number"||!bt(h)||h<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Bf="numeric",Sf=["number","?bignumber","?fraction"],Nf=W(Bf,Sf,t=>{var{number:r,bignumber:e,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:c=>r(c),BigNumber:e?c=>e(c):vu,Fraction:n?c=>n(c):hf};return function(c){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",d=arguments.length>2?arguments[2]:void 0;if(d!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var h=ve(c);if(!(h in i))throw new TypeError("Cannot convert "+c+' of type "'+h+'"; valid input types are '+Object.keys(i).join(", "));if(!(v in a))throw new TypeError("Cannot convert "+c+' to type "'+v+'"; valid output types are '+Object.keys(a).join(", "));return v===h?c:a[v](c)}}),fi="divideScalar",zf=["typed","numeric"],Of=W(fi,zf,t=>{var{typed:r,numeric:e}=t;return r(fi,{"number, number":function(n,i){return n/i},"Complex, Complex":function(n,i){return n.div(i)},"BigNumber, BigNumber":function(n,i){return n.div(i)},"Fraction, Fraction":function(n,i){return n.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),ci="pow",If=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Tf=W(ci,If,t=>{var{typed:r,config:e,identity:n,multiply:i,matrix:a,inv:c,number:v,fraction:d,Complex:h}=t;return r(ci,{"number, number":o,"Complex, Complex":function(l,p){return l.pow(p)},"BigNumber, BigNumber":function(l,p){return p.isInteger()||l>=0||e.predictable?l.pow(p):new h(l.toNumber(),0).pow(p.toNumber(),0)},"Fraction, Fraction":function(l,p){var f=l.pow(p);if(f!=null)return f;if(e.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(l.valueOf(),p.valueOf())},"Array, number":u,"Array, BigNumber":function(l,p){return u(l,p.toNumber())},"Matrix, number":s,"Matrix, BigNumber":function(l,p){return s(l,p.toNumber())},"Unit, number | BigNumber":function(l,p){return l.pow(p)}});function o(l,p){if(e.predictable&&!bt(p)&&l<0)try{var f=d(p),m=v(f);if((p===m||Math.abs((p-m)/p)<1e-14)&&f.d%2===1)return(f.n%2===0?1:-1)*Math.pow(-l,p)}catch{}return e.predictable&&(l<-1&&p===1/0||l>-1&&l<0&&p===-1/0)?NaN:bt(p)||l>=0||e.predictable?ou(l,p):l*l<1&&p===1/0||l*l>1&&p===-1/0?0:new h(l,0).pow(p,0)}function u(l,p){if(!bt(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var f=Tt(l);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(p<0)try{return u(c(l),-p)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):y}for(var m=n(f[0]).valueOf(),D=l;p>=1;)(p&1)===1&&(m=i(D,m)),p>>=1,D=i(D,D);return m}function s(l,p){return a(u(l.valueOf(),p))}});function $r(t){var{DenseMatrix:r}=t;return function(e,n,i){var a=e.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+St(a)+")");var c=a[0],v=a[1];if(c!==v)throw new RangeError("Matrix must be square (size: "+St(a)+")");var d=[];if(Ct(n)){var h=n.size(),o=n._data;if(h.length===1){if(h[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var u=0;u<c;u++)d[u]=[o[u]];return new r({data:d,size:[c,1],datatype:n._datatype})}if(h.length===2){if(h[0]!==c||h[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(xr(n)){if(i){d=[];for(var s=0;s<c;s++)d[s]=[o[s][0]];return new r({data:d,size:[c,1],datatype:n._datatype})}return n}if(qe(n)){for(var l=0;l<c;l++)d[l]=[0];for(var p=n._values,f=n._index,m=n._ptr,D=m[1],y=m[0];y<D;y++){var w=f[y];d[w][0]=p[y]}return new r({data:d,size:[c,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(At(n)){var x=Tt(n);if(x.length===1){if(x[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var g=0;g<c;g++)d[g]=[n[g]];return new r({data:d,size:[c,1]})}if(x.length===2){if(x[0]!==c||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var E=0;E<c;E++)d[E]=[n[E][0]];return new r({data:d,size:[c,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var li="lsolve",jf=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],kf=W(li,jf,t=>{var{typed:r,matrix:e,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:c,DenseMatrix:v}=t,d=$r({DenseMatrix:v});return r(li,{"SparseMatrix, Array | Matrix":function(u,s){return o(u,s)},"DenseMatrix, Array | Matrix":function(u,s){return h(u,s)},"Array, Array | Matrix":function(u,s){var l=e(u),p=h(l,s);return p.valueOf()}});function h(u,s){s=d(u,s,!0);for(var l=s._data,p=u._size[0],f=u._size[1],m=[],D=u._data,y=0;y<f;y++){var w=l[y][0]||0,x=void 0;if(c(w,0))x=0;else{var g=D[y][y];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(w,g);for(var E=y+1;E<p;E++)l[E]=[a(l[E][0]||0,i(x,D[E][y]))]}m[y]=[x]}return new v({data:m,size:[p,1]})}function o(u,s){s=d(u,s,!0);for(var l=s._data,p=u._size[0],f=u._size[1],m=u._values,D=u._index,y=u._ptr,w=[],x=0;x<f;x++){var g=l[x][0]||0;if(c(g,0))w[x]=[0];else{for(var E=0,b=[],C=[],F=y[x],A=y[x+1],B=F;B<A;B++){var M=D[B];M===x?E=m[B]:M>x&&(b.push(m[B]),C.push(M))}if(c(E,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(g,E),j=0,z=C.length;j<z;j++){var I=C[j];l[I]=[a(l[I][0]||0,i(S,b[j]))]}w[x]=[S]}}return new v({data:w,size:[p,1]})}}),pi="usolve",Pf=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],qf=W(pi,Pf,t=>{var{typed:r,matrix:e,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:c,DenseMatrix:v}=t,d=$r({DenseMatrix:v});return r(pi,{"SparseMatrix, Array | Matrix":function(u,s){return o(u,s)},"DenseMatrix, Array | Matrix":function(u,s){return h(u,s)},"Array, Array | Matrix":function(u,s){var l=e(u),p=h(l,s);return p.valueOf()}});function h(u,s){s=d(u,s,!0);for(var l=s._data,p=u._size[0],f=u._size[1],m=[],D=u._data,y=f-1;y>=0;y--){var w=l[y][0]||0,x=void 0;if(c(w,0))x=0;else{var g=D[y][y];if(c(g,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(w,g);for(var E=y-1;E>=0;E--)l[E]=[a(l[E][0]||0,i(x,D[E][y]))]}m[y]=[x]}return new v({data:m,size:[p,1]})}function o(u,s){s=d(u,s,!0);for(var l=s._data,p=u._size[0],f=u._size[1],m=u._values,D=u._index,y=u._ptr,w=[],x=f-1;x>=0;x--){var g=l[x][0]||0;if(c(g,0))w[x]=[0];else{for(var E=0,b=[],C=[],F=y[x],A=y[x+1],B=A-1;B>=F;B--){var M=D[B];M===x?E=m[B]:M<x&&(b.push(m[B]),C.push(M))}if(c(E,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(g,E),j=0,z=C.length;j<z;j++){var I=C[j];l[I]=[a(l[I][0],i(S,b[j]))]}w[x]=[S]}}return new v({data:w,size:[p,1]})}}),hi="usolveAll",Rf=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Lf=W(hi,Rf,t=>{var{typed:r,matrix:e,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:c,DenseMatrix:v}=t,d=$r({DenseMatrix:v});return r(hi,{"SparseMatrix, Array | Matrix":function(u,s){return o(u,s)},"DenseMatrix, Array | Matrix":function(u,s){return h(u,s)},"Array, Array | Matrix":function(u,s){var l=e(u),p=h(l,s);return p.map(f=>f.valueOf())}});function h(u,s){for(var l=[d(u,s,!0)._data.map(C=>C[0])],p=u._data,f=u._size[0],m=u._size[1],D=m-1;D>=0;D--)for(var y=l.length,w=0;w<y;w++){var x=l[w];if(c(p[D][D],0))if(c(x[D],0)){if(w===0){var g=[...x];g[D]=1;for(var E=D-1;E>=0;E--)g[E]=a(g[E],p[E][D]);l.push(g)}}else{if(w===0)return[];l.splice(w,1),w-=1,y-=1}else{x[D]=n(x[D],p[D][D]);for(var b=D-1;b>=0;b--)x[b]=a(x[b],i(x[D],p[b][D]))}}return l.map(C=>new v({data:C.map(F=>[F]),size:[f,1]}))}function o(u,s){for(var l=[d(u,s,!0)._data.map(U=>U[0])],p=u._size[0],f=u._size[1],m=u._values,D=u._index,y=u._ptr,w=f-1;w>=0;w--)for(var x=l.length,g=0;g<x;g++){for(var E=l[g],b=[],C=[],F=y[w],A=y[w+1],B=0,M=A-1;M>=F;M--){var S=D[M];S===w?B=m[M]:S<w&&(b.push(m[M]),C.push(S))}if(c(B,0))if(c(E[w],0)){if(g===0){var j=[...E];j[w]=1;for(var z=0,I=C.length;z<I;z++){var q=C[z];j[q]=a(j[q],b[z])}l.push(j)}}else{if(g===0)return[];l.splice(g,1),g-=1,x-=1}else{E[w]=n(E[w],B);for(var N=0,k=C.length;N<k;N++){var O=C[N];E[O]=a(E[O],i(E[w],b[N]))}}}return l.map(U=>new v({data:U.map(X=>[X]),size:[p,1]}))}}),Br="compare",Uf=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],Zf=W(Br,Uf,t=>{var{typed:r,config:e,equalScalar:n,matrix:i,BigNumber:a,Fraction:c,DenseMatrix:v,concat:d}=t,h=Te({typed:r}),o=pu({typed:r,equalScalar:n}),u=Ie({typed:r,DenseMatrix:v}),s=Be({typed:r,matrix:i,concat:d}),l=Ge({typed:r});return r(Br,$f({typed:r,config:e}),{"boolean, boolean":function(p,f){return p===f?0:p>f?1:-1},"BigNumber, BigNumber":function(p,f){return Je(p,f,e.epsilon)?new a(0):new a(p.cmp(f))},"Fraction, Fraction":function(p,f){return new c(p.compare(f))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:o,DS:h,Ss:u}))}),$f=W(Br,["typed","config"],t=>{var{typed:r,config:e}=t;return r(Br,{"number, number":function(n,i){return ge(n,i,e.epsilon)?0:n>i?1:-1}})}),Pe=kr(da(),1),vi="compareNatural",Xf=["typed","compare"],Jf=W(vi,Xf,t=>{var{typed:r,compare:e}=t,n=e.signatures["boolean,boolean"];return r(vi,{"any, any":i});function i(d,h){var o=ve(d),u=ve(h),s;if((o==="number"||o==="BigNumber"||o==="Fraction")&&(u==="number"||u==="BigNumber"||u==="Fraction"))return s=e(d,h),s.toString()!=="0"?s>0?1:-1:(0,Pe.default)(o,u);var l=["Array","DenseMatrix","SparseMatrix"];if(l.includes(o)||l.includes(u))return s=a(i,d,h),s!==0?s:(0,Pe.default)(o,u);if(o!==u)return(0,Pe.default)(o,u);if(o==="Complex")return Gf(d,h);if(o==="Unit")return d.equalBase(h)?i(d.value,h.value):c(i,d.formatUnits(),h.formatUnits());if(o==="boolean")return n(d,h);if(o==="string")return(0,Pe.default)(d,h);if(o==="Object")return v(i,d,h);if(o==="null"||o==="undefined")return 0;throw new TypeError('Unsupported type of value "'+o+'"')}function a(d,h,o){return qe(h)&&qe(o)?c(d,h.toJSON().values,o.toJSON().values):qe(h)?a(d,h.toArray(),o):qe(o)?a(d,h,o.toArray()):xr(h)?a(d,h.toJSON().data,o):xr(o)?a(d,h,o.toJSON().data):Array.isArray(h)?Array.isArray(o)?c(d,h,o):a(d,h,[o]):a(d,[h],o)}function c(d,h,o){for(var u=0,s=Math.min(h.length,o.length);u<s;u++){var l=d(h[u],o[u]);if(l!==0)return l}return h.length>o.length?1:h.length<o.length?-1:0}function v(d,h,o){var u=Object.keys(h),s=Object.keys(o);u.sort(Pe.default),s.sort(Pe.default);var l=c(d,u,s);if(l!==0)return l;for(var p=0;p<u.length;p++){var f=d(h[u[p]],o[s[p]]);if(f!==0)return f}return 0}});function Gf(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0}var Sr="equal",Hf=["typed","matrix","equalScalar","DenseMatrix","concat"],Vf=W(Sr,Hf,t=>{var{typed:r,matrix:e,equalScalar:n,DenseMatrix:i,concat:a}=t,c=Te({typed:r}),v=ar({typed:r,DenseMatrix:i}),d=Ie({typed:r,DenseMatrix:i}),h=Be({typed:r,matrix:e,concat:a});return r(Sr,Wf({typed:r,equalScalar:n}),h({elop:n,SS:v,DS:c,Ss:d}))}),Wf=W(Sr,["typed","equalScalar"],t=>{var{typed:r,equalScalar:e}=t;return r(Sr,{"any, any":function(n,i){return n===null?i===null:i===null?n===null:n===void 0?i===void 0:i===void 0?n===void 0:e(n,i)}})}),Nr="smaller",Qf=["typed","config","matrix","DenseMatrix","concat"],Kf=W(Nr,Qf,t=>{var{typed:r,config:e,matrix:n,DenseMatrix:i,concat:a}=t,c=Te({typed:r}),v=ar({typed:r,DenseMatrix:i}),d=Ie({typed:r,DenseMatrix:i}),h=Be({typed:r,matrix:n,concat:a}),o=Ge({typed:r});return r(Nr,Yf({typed:r,config:e}),{"boolean, boolean":(u,s)=>u<s,"BigNumber, BigNumber":function(u,s){return u.lt(s)&&!Je(u,s,e.epsilon)},"Fraction, Fraction":(u,s)=>u.compare(s)===-1,"Complex, Complex":function(u,s){throw new TypeError("No ordering relation is defined for complex numbers")}},o,h({SS:v,DS:c,Ss:d}))}),Yf=W(Nr,["typed","config"],t=>{var{typed:r,config:e}=t;return r(Nr,{"number, number":function(n,i){return n<i&&!ge(n,i,e.epsilon)}})}),zr="smallerEq",tc=["typed","config","matrix","DenseMatrix","concat"],ec=W(zr,tc,t=>{var{typed:r,config:e,matrix:n,DenseMatrix:i,concat:a}=t,c=Te({typed:r}),v=ar({typed:r,DenseMatrix:i}),d=Ie({typed:r,DenseMatrix:i}),h=Be({typed:r,matrix:n,concat:a}),o=Ge({typed:r});return r(zr,rc({typed:r,config:e}),{"boolean, boolean":(u,s)=>u<=s,"BigNumber, BigNumber":function(u,s){return u.lte(s)||Je(u,s,e.epsilon)},"Fraction, Fraction":(u,s)=>u.compare(s)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,h({SS:v,DS:c,Ss:d}))}),rc=W(zr,["typed","config"],t=>{var{typed:r,config:e}=t;return r(zr,{"number, number":function(n,i){return n<=i||ge(n,i,e.epsilon)}})}),Or="larger",nc=["typed","config","matrix","DenseMatrix","concat"],ic=W(Or,nc,t=>{var{typed:r,config:e,matrix:n,DenseMatrix:i,concat:a}=t,c=Te({typed:r}),v=ar({typed:r,DenseMatrix:i}),d=Ie({typed:r,DenseMatrix:i}),h=Be({typed:r,matrix:n,concat:a}),o=Ge({typed:r});return r(Or,uc({typed:r,config:e}),{"boolean, boolean":(u,s)=>u>s,"BigNumber, BigNumber":function(u,s){return u.gt(s)&&!Je(u,s,e.epsilon)},"Fraction, Fraction":(u,s)=>u.compare(s)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,h({SS:v,DS:c,Ss:d}))}),uc=W(Or,["typed","config"],t=>{var{typed:r,config:e}=t;return r(Or,{"number, number":function(n,i){return n>i&&!ge(n,i,e.epsilon)}})}),Ir="largerEq",ac=["typed","config","matrix","DenseMatrix","concat"],oc=W(Ir,ac,t=>{var{typed:r,config:e,matrix:n,DenseMatrix:i,concat:a}=t,c=Te({typed:r}),v=ar({typed:r,DenseMatrix:i}),d=Ie({typed:r,DenseMatrix:i}),h=Be({typed:r,matrix:n,concat:a}),o=Ge({typed:r});return r(Ir,sc({typed:r,config:e}),{"boolean, boolean":(u,s)=>u>=s,"BigNumber, BigNumber":function(u,s){return u.gte(s)||Je(u,s,e.epsilon)},"Fraction, Fraction":(u,s)=>u.compare(s)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,h({SS:v,DS:c,Ss:d}))}),sc=W(Ir,["typed","config"],t=>{var{typed:r,config:e}=t;return r(Ir,{"number, number":function(n,i){return n>=i||ge(n,i,e.epsilon)}})}),fc="ImmutableDenseMatrix",cc=["smaller","DenseMatrix"],lc=W(fc,cc,t=>{var{smaller:r,DenseMatrix:e}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!fe(a))throw new Error("Invalid datatype: "+a);if(Ct(i)||At(i)){var c=new e(i,a);this._data=c._data,this._size=c._size,this._datatype=c._datatype,this._min=null,this._max=null}else if(i&&At(i.data)&&At(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+ve(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new e,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=e.prototype.subset.call(this,i);return Ct(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:yt(this._data),size:yt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||r(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||r(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),pc="Index",hc=["ImmutableDenseMatrix"],vc=W(pc,hc,t=>{var{ImmutableDenseMatrix:r}=t;function e(i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var a=0,c=arguments.length;a<c;a++){var v=arguments[a];if(Oi(v))this._dimensions.push(v),this._isScalar=!1;else if(Array.isArray(v)||Ct(v)){var d=n(v.valueOf());this._dimensions.push(d);var h=d.size();(h.length!==1||h[0]!==1)&&(this._isScalar=!1)}else if(typeof v=="number")this._dimensions.push(n([v]));else if(typeof v=="string")this._dimensions.push(v);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}e.prototype.type="Index",e.prototype.isIndex=!0;function n(i){for(var a=0,c=i.length;a<c;a++)if(typeof i[a]!="number"||!bt(i[a]))throw new TypeError("Index parameters must be positive integer numbers");return new r(i)}return e.prototype.clone=function(){var i=new e;return i._dimensions=yt(this._dimensions),i._isScalar=this._isScalar,i},e.create=function(i){var a=new e;return e.apply(a,i),a},e.prototype.size=function(){for(var i=[],a=0,c=this._dimensions.length;a<c;a++){var v=this._dimensions[a];i[a]=typeof v=="string"?1:v.size()[0]}return i},e.prototype.max=function(){for(var i=[],a=0,c=this._dimensions.length;a<c;a++){var v=this._dimensions[a];i[a]=typeof v=="string"?v:v.max()}return i},e.prototype.min=function(){for(var i=[],a=0,c=this._dimensions.length;a<c;a++){var v=this._dimensions[a];i[a]=typeof v=="string"?v:v.min()}return i},e.prototype.forEach=function(i){for(var a=0,c=this._dimensions.length;a<c;a++)i(this._dimensions[a],a,this)},e.prototype.dimension=function(i){return this._dimensions[i]||null},e.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var i=[],a=0,c=this._dimensions.length;a<c;a++){var v=this._dimensions[a];i.push(typeof v=="string"?v:v.toArray())}return i},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var i=[],a=0,c=this._dimensions.length;a<c;a++){var v=this._dimensions[a];typeof v=="string"?i.push(JSON.stringify(v)):i.push(v.toString())}return"["+i.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(i){return e.create(i.dimensions)},e},{isClass:!0}),dc="FibonacciHeap",mc=["smaller","larger"],Dc=W(dc,mc,t=>{var{smaller:r,larger:e}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(o,u){var s={key:o,value:u,degree:0};if(this._minimum){var l=this._minimum;s.left=l,s.right=l.right,l.right=s,s.right.left=s,r(o,l.key)&&(this._minimum=s)}else s.left=s,s.right=s,this._minimum=s;return this._size++,s},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var u=this._minimum,s=o.degree,l=o.child;s>0;){var p=l.right;l.left.right=l.right,l.right.left=l.left,l.left=u,l.right=u.right,u.right=l,l.right.left=l,l.parent=null,l=p,s--}return o.left.right=o.right,o.right.left=o.left,o===o.right?u=null:(u=o.right,u=h(u,this._size)),this._size--,this._minimum=u,o},i.prototype.remove=function(o){this._minimum=a(this._minimum,o,-1),this.extractMinimum()};function a(o,u,s){u.key=s;var l=u.parent;return l&&r(u.key,l.key)&&(c(o,u,l),v(o,l)),r(u.key,o.key)&&(o=u),o}function c(o,u,s){u.left.right=u.right,u.right.left=u.left,s.degree--,s.child===u&&(s.child=u.right),s.degree===0&&(s.child=null),u.left=o,u.right=o.right,o.right=u,u.right.left=u,u.parent=null,u.mark=!1}function v(o,u){var s=u.parent;s&&(u.mark?(c(o,u,s),v(s)):u.mark=!0)}var d=function(o,u){o.left.right=o.right,o.right.left=o.left,o.parent=u,u.child?(o.left=u.child,o.right=u.child.right,u.child.right=o,o.right.left=o):(u.child=o,o.right=o,o.left=o),u.degree++,o.mark=!1};function h(o,u){var s=Math.floor(Math.log(u)*n)+1,l=new Array(s),p=0,f=o;if(f)for(p++,f=f.right;f!==o;)p++,f=f.right;for(var m;p>0;){for(var D=f.degree,y=f.right;m=l[D],!!m;){if(e(f.key,m.key)){var w=m;m=f,f=w}d(m,f),l[D]=null,D++}l[D]=f,f=y,p--}o=null;for(var x=0;x<s;x++)m=l[x],m&&(o?(m.left.right=m.right,m.right.left=m.left,m.left=o,m.right=o.right,o.right=m,m.right.left=m,r(m.key,o.key)&&(o=m)):o=m);return o}return i},{isClass:!0}),yc="Spa",gc=["addScalar","equalScalar","FibonacciHeap"],wc=W(yc,gc,t=>{var{addScalar:r,equalScalar:e,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,c){if(this._values[a])this._values[a].value=c;else{var v=this._heap.insert(a,c);this._values[a]=v}},i.prototype.get=function(a){var c=this._values[a];return c?c.value:0},i.prototype.accumulate=function(a,c){var v=this._values[a];v?v.value=r(v.value,c):(v=this._heap.insert(a,c),this._values[a]=v)},i.prototype.forEach=function(a,c,v){var d=this._heap,h=this._values,o=[],u=d.extractMinimum();for(u&&o.push(u);u&&u.key<=c;)u.key>=a&&(e(u.value,0)||v(u.key,u.value,this)),u=d.extractMinimum(),u&&o.push(u);for(var s=0;s<o.length;s++){var l=o[s];u=d.insert(l.key,l.value),h[u.key]=u}},i.prototype.swap=function(a,c){var v=this._values[a],d=this._values[c];if(!v&&d)v=this._heap.insert(a,d.value),this._heap.remove(d),this._values[a]=v,this._values[c]=void 0;else if(v&&!d)d=this._heap.insert(c,v.value),this._heap.remove(v),this._values[c]=d,this._values[a]=void 0;else if(v&&d){var h=v.value;v.value=d.value,d.value=h}},i},{isClass:!0}),xc="atan",Ec=["typed"],Ac=W(xc,Ec,t=>{var{typed:r}=t;return r("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()}})}),mu=W("trigUnit",["typed"],t=>{var{typed:r}=t;return{Unit:r.referToSelf(e=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r.find(e,n.valueType())(n.value)})}}),di="cos",Fc=["typed"],bc=W(di,Fc,t=>{var{typed:r}=t,e=mu({typed:r});return r(di,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},e)}),mi="sin",Cc=["typed"],Mc=W(mi,Cc,t=>{var{typed:r}=t,e=mu({typed:r});return r(mi,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},e)}),Di="setDifference",_c=["typed","size","subset","compareNatural","Index","DenseMatrix"],Bc=W(Di,_c,t=>{var{typed:r,size:e,subset:n,compareNatural:i,Index:a,DenseMatrix:c}=t;return r(Di,{"Array | Matrix, Array | Matrix":function(v,d){var h;if(n(e(v),new a(0))===0)h=[];else{if(n(e(d),new a(0))===0)return Ue(v.toArray());var o=Nn(Ue(Array.isArray(v)?v:v.toArray()).sort(i)),u=Nn(Ue(Array.isArray(d)?d:d.toArray()).sort(i));h=[];for(var s,l=0;l<o.length;l++){s=!1;for(var p=0;p<u.length;p++)if(i(o[l].value,u[p].value)===0&&o[l].identifier===u[p].identifier){s=!0;break}s||h.push(o[l])}}return Array.isArray(v)&&Array.isArray(d)?zn(h):new c(zn(h))}})}),yi="add",Sc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Nc=W(yi,Sc,t=>{var{typed:r,matrix:e,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:c,concat:v}=t,d=cu({typed:r}),h=g0({typed:r,equalScalar:i}),o=lu({typed:r,DenseMatrix:a}),u=Be({typed:r,matrix:e,concat:v});return r(yi,{"any, any":n,"any, any, ...any":r.referToSelf(s=>(l,p,f)=>{for(var m=s(l,p),D=0;D<f.length;D++)m=s(m,f[D]);return m})},u({elop:n,DS:d,SS:h,Ss:o}))}),gi="norm",zc=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Oc=W(gi,zc,t=>{var{typed:r,abs:e,add:n,pow:i,conj:a,sqrt:c,multiply:v,equalScalar:d,larger:h,smaller:o,matrix:u,ctranspose:s,eigs:l}=t;return r(gi,{number:Math.abs,Complex:function(b){return b.abs()},BigNumber:function(b){return b.abs()},boolean:function(b){return Math.abs(b)},Array:function(b){return E(u(b),2)},Matrix:function(b){return E(b,2)},"Array, number | BigNumber | string":function(b,C){return E(u(b),C)},"Matrix, number | BigNumber | string":function(b,C){return E(b,C)}});function p(b){var C=0;return b.forEach(function(F){var A=e(F);h(A,C)&&(C=A)},!0),C}function f(b){var C;return b.forEach(function(F){var A=e(F);(!C||o(A,C))&&(C=A)},!0),C||0}function m(b,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return p(b);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return f(b);if(C==="fro")return E(b,2);if(typeof C=="number"&&!isNaN(C)){if(!d(C,0)){var F=0;return b.forEach(function(A){F=n(i(e(A),C),F)},!0),i(F,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function D(b){var C=0;return b.forEach(function(F,A){C=n(C,v(F,a(F)))}),e(c(C))}function y(b){var C=[],F=0;return b.forEach(function(A,B){var M=B[1],S=n(C[M]||0,e(A));h(S,F)&&(F=S),C[M]=S},!0),F}function w(b){var C=b.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var F=s(b),A=v(F,b),B=l(A).values.toArray(),M=B[B.length-1];return e(c(M))}function x(b){var C=[],F=0;return b.forEach(function(A,B){var M=B[0],S=n(C[M]||0,e(A));h(S,F)&&(F=S),C[M]=S},!0),F}function g(b,C){if(C===1)return y(b);if(C===Number.POSITIVE_INFINITY||C==="inf")return x(b);if(C==="fro")return D(b);if(C===2)return w(b);throw new Error("Unsupported parameter value "+C)}function E(b,C){var F=b.size();if(F.length===1)return m(b,C);if(F.length===2){if(F[0]&&F[1])return g(b,C);throw new RangeError("Invalid matrix dimensions")}}}),wi="dot",Ic=["typed","addScalar","multiplyScalar","conj","size"],Tc=W(wi,Ic,t=>{var{typed:r,addScalar:e,multiplyScalar:n,conj:i,size:a}=t;return r(wi,{"Array | DenseMatrix, Array | DenseMatrix":v,"SparseMatrix, SparseMatrix":d});function c(o,u){var s=h(o),l=h(u),p,f;if(s.length===1)p=s[0];else if(s.length===2&&s[1]===1)p=s[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");if(l.length===1)f=l[0];else if(l.length===2&&l[1]===1)f=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(p!==f)throw new RangeError("Vectors must have equal length ("+p+" != "+f+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function v(o,u){var s=c(o,u),l=Ct(o)?o._data:o,p=Ct(o)?o._datatype:void 0,f=Ct(u)?u._data:u,m=Ct(u)?u._datatype:void 0,D=h(o).length===2,y=h(u).length===2,w=e,x=n;if(p&&m&&p===m&&typeof p=="string"){var g=p;w=r.find(e,[g,g]),x=r.find(n,[g,g])}if(!D&&!y){for(var E=x(i(l[0]),f[0]),b=1;b<s;b++)E=w(E,x(i(l[b]),f[b]));return E}if(!D&&y){for(var C=x(i(l[0]),f[0][0]),F=1;F<s;F++)C=w(C,x(i(l[F]),f[F][0]));return C}if(D&&!y){for(var A=x(i(l[0][0]),f[0]),B=1;B<s;B++)A=w(A,x(i(l[B][0]),f[B]));return A}if(D&&y){for(var M=x(i(l[0][0]),f[0][0]),S=1;S<s;S++)M=w(M,x(i(l[S][0]),f[S][0]));return M}}function d(o,u){c(o,u);for(var s=o._index,l=o._values,p=u._index,f=u._values,m=0,D=e,y=n,w=0,x=0;w<s.length&&x<p.length;){var g=s[w],E=p[x];if(g<E){w++;continue}if(g>E){x++;continue}g===E&&(m=D(m,y(l[w],f[x])),w++,x++)}return m}function h(o){return Ct(o)?o.size():a(o)}}),xi="index",jc=["typed","Index"],kc=W(xi,jc,t=>{var{typed:r,Index:e}=t;return r(xi,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var i=n.map(function(c){return jt(c)?c.toNumber():Array.isArray(c)||Ct(c)?c.map(function(v){return jt(v)?v.toNumber():v}):c}),a=new e;return e.apply(a,i),a}})}),Ei="lup",Pc=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],qc=W(Ei,Pc,t=>{var{typed:r,matrix:e,abs:n,addScalar:i,divideScalar:a,multiplyScalar:c,subtract:v,larger:d,equalScalar:h,unaryMinus:o,DenseMatrix:u,SparseMatrix:s,Spa:l}=t;return r(Ei,{DenseMatrix:function(m){return p(m)},SparseMatrix:function(m){return f(m)},Array:function(m){var D=e(m),y=p(D);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function p(m){var D=m._size[0],y=m._size[1],w=Math.min(D,y),x=yt(m._data),g=[],E=[D,w],b=[],C=[w,y],F,A,B,M=[];for(F=0;F<D;F++)M[F]=F;for(A=0;A<y;A++){if(A>0)for(F=0;F<D;F++){var S=Math.min(F,A),j=0;for(B=0;B<S;B++)j=i(j,c(x[F][B],x[B][A]));x[F][A]=v(x[F][A],j)}var z=A,I=0,q=0;for(F=A;F<D;F++){var N=x[F][A],k=n(N);d(k,I)&&(z=F,I=k,q=N)}if(A!==z&&(M[A]=[M[z],M[z]=M[A]][0],u._swapRows(A,z,x)),A<D)for(F=A+1;F<D;F++){var O=x[F][A];h(O,0)||(x[F][A]=a(x[F][A],q))}}for(A=0;A<y;A++)for(F=0;F<D;F++){if(A===0&&(F<y&&(b[F]=[]),g[F]=[]),F<A){F<y&&(b[F][A]=x[F][A]),A<D&&(g[F][A]=0);continue}if(F===A){F<y&&(b[F][A]=x[F][A]),A<D&&(g[F][A]=1);continue}F<y&&(b[F][A]=0),A<D&&(g[F][A]=x[F][A])}var U=new u({data:g,size:E}),X=new u({data:b,size:C}),P=[];for(F=0,w=M.length;F<w;F++)P[M[F]]=F;return{L:U,U:X,p:P,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function f(m){var D=m._size[0],y=m._size[1],w=Math.min(D,y),x=m._values,g=m._index,E=m._ptr,b=[],C=[],F=[],A=[D,w],B=[],M=[],S=[],j=[w,y],z,I,q,N=[],k=[];for(z=0;z<D;z++)N[z]=z,k[z]=z;var O=function(X,P){var L=k[X],$=k[P];N[L]=P,N[$]=X,k[X]=$,k[P]=L},U=function(){var X=new l;I<D&&(F.push(b.length),b.push(1),C.push(I)),S.push(B.length);var P=E[I],L=E[I+1];for(q=P;q<L;q++)z=g[q],X.set(N[z],x[q]);I>0&&X.forEach(0,I-1,function(rt,tt){s._forEachRow(rt,b,C,F,function(V,ht){V>rt&&X.accumulate(V,o(c(ht,tt)))})});var $=I,G=X.get(I),Q=n(G);X.forEach(I+1,D-1,function(rt,tt){var V=n(tt);d(V,Q)&&($=rt,Q=V,G=tt)}),I!==$&&(s._swapRows(I,$,A[1],b,C,F),s._swapRows(I,$,j[1],B,M,S),X.swap(I,$),O(I,$)),X.forEach(0,D-1,function(rt,tt){rt<=I?(B.push(tt),M.push(rt)):(tt=a(tt,G),h(tt,0)||(b.push(tt),C.push(rt)))})};for(I=0;I<y;I++)U();return S.push(B.length),F.push(b.length),{L:new s({values:b,index:C,ptr:F,size:A}),U:new s({values:B,index:M,ptr:S,size:j}),p:N,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),Ai="qr",Rc=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],Lc=W(Ai,Rc,t=>{var{typed:r,matrix:e,zeros:n,identity:i,isZero:a,equal:c,sign:v,sqrt:d,conj:h,unaryMinus:o,addScalar:u,divideScalar:s,multiplyScalar:l,subtract:p,complex:f}=t;return gr(r(Ai,{DenseMatrix:function(w){return D(w)},SparseMatrix:function(w){return y()},Array:function(w){var x=e(w),g=D(x);return{Q:g.Q.valueOf(),R:g.R.valueOf()}}}),{_denseQRimpl:m});function m(w){var x=w._size[0],g=w._size[1],E=i([x],"dense"),b=E._data,C=w.clone(),F=C._data,A,B,M,S=n([x],"");for(M=0;M<Math.min(g,x);++M){var j=F[M][M],z=o(c(j,0)?1:v(j)),I=h(z),q=0;for(A=M;A<x;A++)q=u(q,l(F[A][M],h(F[A][M])));var N=l(z,d(q));if(!a(N)){var k=p(j,N);for(S[M]=1,A=M+1;A<x;A++)S[A]=s(F[A][M],k);var O=o(h(s(k,N))),U=void 0;for(B=M;B<g;B++){for(U=0,A=M;A<x;A++)U=u(U,l(h(S[A]),F[A][B]));for(U=l(U,O),A=M;A<x;A++)F[A][B]=l(p(F[A][B],l(S[A],U)),I)}for(A=0;A<x;A++){for(U=0,B=M;B<x;B++)U=u(U,l(b[A][B],S[B]));for(U=l(U,O),B=M;B<x;++B)b[A][B]=s(p(b[A][B],l(U,h(S[B]))),I)}}}return{Q:E,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function D(w){var x=m(w),g=x.R._data;if(w._data.length>0)for(var E=g[0][0].type==="Complex"?f(0):0,b=0;b<g.length;++b)for(var C=0;C<b&&C<(g[0]||[]).length;++C)g[b][C]=E;return x}function y(w){throw new Error("qr not implemented for sparse matrices yet")}});function Uc(t,r,e,n){for(var i=t._values,a=t._index,c=t._ptr,v=t._size,d=t._datatype,h=v[0],o=v[1],u=n&&t._values?[]:null,s=[],l=[],p=0,f=0;f<o;f++){l[f]=p;for(var m=e?e[f]:f,D=c[m],y=c[m+1],w=D;w<y;w++){var x=r?r[a[w]]:a[w];s[p]=x,u&&(u[p]=i[w]),p++}}return l[o]=p,t.createSparseMatrix({values:u,index:s,ptr:l,size:[h,o],datatype:d})}function Du(t,r,e,n,i,a,c){var v=0;for(e[c]=t;v>=0;){var d=e[c+v],h=e[n+d];h===-1?(v--,a[r++]=d):(e[n+d]=e[i+h],++v,e[c+v]=h)}return r}function Zc(t,r){if(!t)return null;var e=0,n,i=[],a=[],c=0,v=r,d=2*r;for(n=0;n<r;n++)a[c+n]=-1;for(n=r-1;n>=0;n--)t[n]!==-1&&(a[v+n]=a[c+t[n]],a[c+t[n]]=n);for(n=0;n<r;n++)t[n]===-1&&(e=Du(n,e,a,c,v,i,d));return i}function $c(t,r){if(!t)return null;var e=t._index,n=t._ptr,i=t._size,a=i[0],c=i[1],v=[],d=[],h=0,o=c,u,s;if(r)for(u=0;u<a;u++)d[o+u]=-1;for(var l=0;l<c;l++){v[l]=-1,d[h+l]=-1;for(var p=n[l],f=n[l+1],m=p;m<f;m++){var D=e[m];for(u=r?d[o+D]:D;u!==-1&&u<l;u=s)s=d[h+u],d[h+u]=l,s===-1&&(v[u]=l);r&&(d[o+D]=l)}}return v}function Xc(t,r,e){for(var n=t._values,i=t._index,a=t._ptr,c=t._size,v=c[1],d=0,h=0;h<v;h++){var o=a[h];for(a[h]=d;o<a[h+1];o++)r(i[o],h,n?n[o]:1,e)&&(i[d]=i[o],n&&(n[d]=n[o]),d++)}return a[v]=d,i.splice(d,i.length-d),n&&n.splice(d,n.length-d),d}function Fe(t){return-t-2}var Jc="csAmd",Gc=["add","multiply","transpose"],Hc=W(Jc,Gc,t=>{var{add:r,multiply:e,transpose:n}=t;return function(h,o){if(!o||h<=0||h>3)return null;var u=o._size,s=u[0],l=u[1],p=0,f=Math.max(16,10*Math.sqrt(l));f=Math.min(l-2,f);var m=i(h,o,s,l,f);Xc(m,d,null);for(var D=m._index,y=m._ptr,w=y[l],x=[],g=[],E=0,b=l+1,C=2*(l+1),F=3*(l+1),A=4*(l+1),B=5*(l+1),M=6*(l+1),S=7*(l+1),j=x,z=a(l,y,g,E,F,j,C,S,b,M,A,B),I=c(l,y,g,B,A,M,f,b,F,j,C),q=0,N,k,O,U,X,P,L,$,G,Q,rt,tt,V,ht,ot,it;I<l;){for(O=-1;q<l&&(O=g[F+q])===-1;q++);g[C+O]!==-1&&(j[g[C+O]]=-1),g[F+q]=g[C+O];var ft=g[A+O],dt=g[b+O];I+=dt;var mt=0;g[b+O]=-dt;var ct=y[O],gt=ft===0?ct:w,Dt=gt;for(U=1;U<=ft+1;U++){for(U>ft?(P=O,L=ct,$=g[E+O]-ft):(P=D[ct++],L=y[P],$=g[E+P]),X=1;X<=$;X++)N=D[L++],!((G=g[b+N])<=0)&&(mt+=G,g[b+N]=-G,D[Dt++]=N,g[C+N]!==-1&&(j[g[C+N]]=j[N]),j[N]!==-1?g[C+j[N]]=g[C+N]:g[F+g[B+N]]=g[C+N]);P!==O&&(y[P]=Fe(O),g[M+P]=0)}for(ft!==0&&(w=Dt),g[B+O]=mt,y[O]=gt,g[E+O]=Dt-gt,g[A+O]=-2,z=v(z,p,g,M,l),Q=gt;Q<Dt;Q++)if(N=D[Q],!((rt=g[A+N])<=0)){G=-g[b+N];var _t=z-G;for(ct=y[N],tt=y[N]+rt-1;ct<=tt;ct++)P=D[ct],g[M+P]>=z?g[M+P]-=G:g[M+P]!==0&&(g[M+P]=g[B+P]+_t)}for(Q=gt;Q<Dt;Q++){for(N=D[Q],tt=y[N],V=tt+g[A+N]-1,ht=tt,ot=0,it=0,ct=tt;ct<=V;ct++)if(P=D[ct],g[M+P]!==0){var Bt=g[M+P]-z;Bt>0?(it+=Bt,D[ht++]=P,ot+=P):(y[P]=Fe(O),g[M+P]=0)}g[A+N]=ht-tt+1;var It=ht,Kt=tt+g[E+N];for(ct=V+1;ct<Kt;ct++){k=D[ct];var ie=g[b+k];ie<=0||(it+=ie,D[ht++]=k,ot+=k)}it===0?(y[N]=Fe(O),G=-g[b+N],mt-=G,dt+=G,I+=G,g[b+N]=0,g[A+N]=-1):(g[B+N]=Math.min(g[B+N],it),D[ht]=D[It],D[It]=D[tt],D[tt]=O,g[E+N]=ht-tt+1,ot=(ot<0?-ot:ot)%l,g[C+N]=g[S+ot],g[S+ot]=N,j[N]=ot)}for(g[B+O]=mt,p=Math.max(p,mt),z=v(z+p,p,g,M,l),Q=gt;Q<Dt;Q++)if(N=D[Q],!(g[b+N]>=0))for(ot=j[N],N=g[S+ot],g[S+ot]=-1;N!==-1&&g[C+N]!==-1;N=g[C+N],z++){for($=g[E+N],rt=g[A+N],ct=y[N]+1;ct<=y[N]+$-1;ct++)g[M+D[ct]]=z;var Lt=N;for(k=g[C+N];k!==-1;){var se=g[E+k]===$&&g[A+k]===rt;for(ct=y[k]+1;se&&ct<=y[k]+$-1;ct++)g[M+D[ct]]!==z&&(se=0);se?(y[k]=Fe(N),g[b+N]+=g[b+k],g[b+k]=0,g[A+k]=-1,k=g[C+k],g[C+Lt]=k):(Lt=k,k=g[C+k])}}for(ct=gt,Q=gt;Q<Dt;Q++)N=D[Q],!((G=-g[b+N])<=0)&&(g[b+N]=G,it=g[B+N]+mt-G,it=Math.min(it,l-I-G),g[F+it]!==-1&&(j[g[F+it]]=N),g[C+N]=g[F+it],j[N]=-1,g[F+it]=N,q=Math.min(q,it),g[B+N]=it,D[ct++]=N);g[b+O]=dt,(g[E+O]=ct-gt)===0&&(y[O]=-1,g[M+O]=0),ft!==0&&(w=ct)}for(N=0;N<l;N++)y[N]=Fe(y[N]);for(k=0;k<=l;k++)g[F+k]=-1;for(k=l;k>=0;k--)g[b+k]>0||(g[C+k]=g[F+y[k]],g[F+y[k]]=k);for(P=l;P>=0;P--)g[b+P]<=0||y[P]!==-1&&(g[C+P]=g[F+y[P]],g[F+y[P]]=P);for(O=0,N=0;N<=l;N++)y[N]===-1&&(O=Du(N,O,g,F,C,x,M));return x.splice(x.length-1,1),x};function i(h,o,u,s,l){var p=n(o);if(h===1&&s===u)return r(o,p);if(h===2){for(var f=p._index,m=p._ptr,D=0,y=0;y<u;y++){var w=m[y];if(m[y]=D,!(m[y+1]-w>l))for(var x=m[y+1];w<x;w++)f[D++]=f[w]}return m[u]=D,o=n(p),e(p,o)}return e(p,o)}function a(h,o,u,s,l,p,f,m,D,y,w,x){for(var g=0;g<h;g++)u[s+g]=o[g+1]-o[g];u[s+h]=0;for(var E=0;E<=h;E++)u[l+E]=-1,p[E]=-1,u[f+E]=-1,u[m+E]=-1,u[D+E]=1,u[y+E]=1,u[w+E]=0,u[x+E]=u[s+E];var b=v(0,0,u,y,h);return u[w+h]=-2,o[h]=-1,u[y+h]=0,b}function c(h,o,u,s,l,p,f,m,D,y,w){for(var x=0,g=0;g<h;g++){var E=u[s+g];if(E===0)u[l+g]=-2,x++,o[g]=-1,u[p+g]=0;else if(E>f)u[m+g]=0,u[l+g]=-1,x++,o[g]=Fe(h),u[m+h]++;else{var b=u[D+E];b!==-1&&(y[b]=g),u[w+g]=u[D+E],u[D+E]=g}}return x}function v(h,o,u,s,l){if(h<2||h+o<0){for(var p=0;p<l;p++)u[s+p]!==0&&(u[s+p]=1);h=2}return h}function d(h,o){return h!==o}});function Vc(t,r,e,n,i,a,c){var v,d,h=0,o;if(t<=r||e[n+r]<=e[i+t])return-1;e[i+t]=e[n+r];var u=e[a+t];if(e[a+t]=r,u===-1)h=1,o=t;else{for(h=2,o=u;o!==e[c+o];o=e[c+o]);for(v=u;v!==o;v=d)d=e[c+v],e[c+v]=o}return{jleaf:h,q:o}}var Wc="csCounts",Qc=["transpose"],Kc=W(Wc,Qc,t=>{var{transpose:r}=t;return function(e,n,i,a){if(!e||!n||!i)return null;var c=e._size,v=c[0],d=c[1],h,o,u,s,l,p,f,m=4*d+(a?d+v+1:0),D=[],y=0,w=d,x=2*d,g=3*d,E=4*d,b=5*d+1;for(u=0;u<m;u++)D[u]=-1;var C=[],F=r(e),A=F._index,B=F._ptr;for(u=0;u<d;u++)for(o=i[u],C[o]=D[g+o]===-1?1:0;o!==-1&&D[g+o]===-1;o=n[o])D[g+o]=u;if(a){for(u=0;u<d;u++)D[i[u]]=u;for(h=0;h<v;h++){for(u=d,p=B[h],f=B[h+1],l=p;l<f;l++)u=Math.min(u,D[A[l]]);D[b+h]=D[E+u],D[E+u]=h}}for(h=0;h<d;h++)D[y+h]=h;for(u=0;u<d;u++){for(o=i[u],n[o]!==-1&&C[n[o]]--,s=a?D[E+u]:o;s!==-1;s=a?D[b+s]:-1)for(l=B[s];l<B[s+1];l++){h=A[l];var M=Vc(h,o,D,g,w,x,y);M.jleaf>=1&&C[o]++,M.jleaf===2&&C[M.q]--}n[o]!==-1&&(D[y+o]=n[o])}for(o=0;o<d;o++)n[o]!==-1&&(C[n[o]]+=C[o]);return C}}),Yc="csSqr",tl=["add","multiply","transpose"],el=W(Yc,tl,t=>{var{add:r,multiply:e,transpose:n}=t,i=Hc({add:r,multiply:e,transpose:n}),a=Kc({transpose:n});return function(v,d,h){var o=d._ptr,u=d._size,s=u[1],l,p={};if(p.q=i(v,d),v&&!p.q)return null;if(h){var f=v?Uc(d,null,p.q,0):d;p.parent=$c(f,1);var m=Zc(p.parent,s);if(p.cp=a(f,p.parent,m,1),f&&p.parent&&p.cp&&c(f,p))for(p.unz=0,l=0;l<s;l++)p.unz+=p.cp[l]}else p.unz=4*o[s]+s,p.lnz=p.unz;return p};function c(v,d){var h=v._ptr,o=v._index,u=v._size,s=u[0],l=u[1];d.pinv=[],d.leftmost=[];var p=d.parent,f=d.pinv,m=d.leftmost,D=[],y=0,w=s,x=s+l,g=s+2*l,E,b,C,F,A;for(b=0;b<l;b++)D[w+b]=-1,D[x+b]=-1,D[g+b]=0;for(E=0;E<s;E++)m[E]=-1;for(b=l-1;b>=0;b--)for(F=h[b],A=h[b+1],C=F;C<A;C++)m[o[C]]=b;for(E=s-1;E>=0;E--)f[E]=-1,b=m[E],b!==-1&&(D[g+b]++===0&&(D[x+b]=E),D[y+E]=D[w+b],D[w+b]=E);for(d.lnz=0,d.m2=s,b=0;b<l;b++)if(E=D[w+b],d.lnz++,E<0&&(E=d.m2++),f[E]=b,!(--g[b]<=0)){d.lnz+=D[g+b];var B=p[b];B!==-1&&(D[g+B]===0&&(D[x+B]=D[x+b]),D[y+D[x+b]]=D[w+B],D[w+B]=D[y+E],D[g+B]+=D[g+b])}for(E=0;E<s;E++)f[E]<0&&(f[E]=b++);return!0}});function on(t,r){return t[r]<0}function yu(t,r){t[r]=Fe(t[r])}function Fi(t){return t<0?Fe(t):t}function rl(t,r,e,n,i){var a=r._index,c=r._ptr,v=r._size,d=v[1],h,o,u,s=0;for(n[0]=t;s>=0;){t=n[s];var l=i?i[t]:t;on(c,t)||(yu(c,t),n[d+s]=l<0?0:Fi(c[l]));var p=1;for(o=n[d+s],u=l<0?0:Fi(c[l+1]);o<u;o++)if(h=a[o],!on(c,h)){n[d+s]=o,n[++s]=h,p=0;break}p&&(s--,n[--e]=t)}return e}function nl(t,r,e,n,i){var a=t._ptr,c=t._size,v=r._index,d=r._ptr,h=c[1],o,u,s,l=h;for(u=d[e],s=d[e+1],o=u;o<s;o++){var p=v[o];on(a,p)||(l=rl(p,t,l,n,i))}for(o=l;o<h;o++)yu(a,n[o]);return l}var il="csSpsolve",ul=["divideScalar","multiply","subtract"],al=W(il,ul,t=>{var{divideScalar:r,multiply:e,subtract:n}=t;return function(i,a,c,v,d,h,o){var u=i._values,s=i._index,l=i._ptr,p=i._size,f=p[1],m=a._values,D=a._index,y=a._ptr,w,x,g,E,b=nl(i,a,c,v,h);for(w=b;w<f;w++)d[v[w]]=0;for(x=y[c],g=y[c+1],w=x;w<g;w++)d[D[w]]=m[w];for(var C=b;C<f;C++){var F=v[C],A=h?h[F]:F;if(!(A<0))for(x=l[A],g=l[A+1],d[F]=r(d[F],u[o?x:g-1]),w=o?x+1:x,E=o?g:g-1;w<E;w++){var B=s[w];d[B]=n(d[B],e(u[w],d[F]))}}return b}}),ol="csLu",sl=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],fl=W(ol,sl,t=>{var{abs:r,divideScalar:e,multiply:n,subtract:i,larger:a,largerEq:c,SparseMatrix:v}=t,d=al({divideScalar:e,multiply:n,subtract:i});return function(h,o,u){if(!h)return null;var s=h._size,l=s[1],p,f=100,m=100;o&&(p=o.q,f=o.lnz||f,m=o.unz||m);var D=[],y=[],w=[],x=new v({values:D,index:y,ptr:w,size:[l,l]}),g=[],E=[],b=[],C=new v({values:g,index:E,ptr:b,size:[l,l]}),F=[],A,B,M=[],S=[];for(A=0;A<l;A++)M[A]=0,F[A]=-1,w[A+1]=0;f=0,m=0;for(var j=0;j<l;j++){w[j]=f,b[j]=m;var z=p?p[j]:j,I=d(x,h,z,S,M,F,1),q=-1,N=-1;for(B=I;B<l;B++)if(A=S[B],F[A]<0){var k=r(M[A]);a(k,N)&&(N=k,q=A)}else E[m]=F[A],g[m++]=M[A];if(q===-1||N<=0)return null;F[z]<0&&c(r(M[z]),n(N,u))&&(q=z);var O=M[q];for(E[m]=j,g[m++]=O,F[q]=j,y[f]=q,D[f++]=1,B=I;B<l;B++)A=S[B],F[A]<0&&(y[f]=A,D[f++]=e(M[A],O)),M[A]=0}for(w[l]=f,b[l]=m,B=0;B<f;B++)y[B]=F[y[B]];return D.splice(f,D.length-f),y.splice(f,y.length-f),g.splice(m,g.length-m),E.splice(m,E.length-m),{L:x,U:C,pinv:F}}}),bi="slu",cl=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],ll=W(bi,cl,t=>{var{typed:r,abs:e,add:n,multiply:i,transpose:a,divideScalar:c,subtract:v,larger:d,largerEq:h,SparseMatrix:o}=t,u=el({add:n,multiply:i,transpose:a}),s=fl({abs:e,divideScalar:c,multiply:i,subtract:v,larger:d,largerEq:h,SparseMatrix:o});return r(bi,{"SparseMatrix, number, number":function(l,p,f){if(!bt(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(f<0||f>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var m=u(p,l,!1),D=s(l,m,f);return{L:D.L,U:D.U,p:D.pinv,q:m.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Ci(t,r){var e,n=r.length,i=[];if(t)for(e=0;e<n;e++)i[t[e]]=r[e];else for(e=0;e<n;e++)i[e]=r[e];return i}var Mi="lusolve",pl=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],hl=W(Mi,pl,t=>{var{typed:r,matrix:e,lup:n,slu:i,usolve:a,lsolve:c,DenseMatrix:v}=t,d=$r({DenseMatrix:v});return r(Mi,{"Array, Array | Matrix":function(u,s){u=e(u);var l=n(u),p=o(l.L,l.U,l.p,null,s);return p.valueOf()},"DenseMatrix, Array | Matrix":function(u,s){var l=n(u);return o(l.L,l.U,l.p,null,s)},"SparseMatrix, Array | Matrix":function(u,s){var l=n(u);return o(l.L,l.U,l.p,null,s)},"SparseMatrix, Array | Matrix, number, number":function(u,s,l,p){var f=i(u,l,p);return o(f.L,f.U,f.p,f.q,s)},"Object, Array | Matrix":function(u,s){return o(u.L,u.U,u.p,u.q,s)}});function h(u){if(Ct(u))return u;if(At(u))return e(u);throw new TypeError("Invalid Matrix LU decomposition")}function o(u,s,l,p,f){u=h(u),s=h(s),l&&(f=d(u,f,!0),f._data=Ci(l,f._data));var m=c(u,f),D=a(s,m);return p&&(D._data=Ci(p,D._data)),D}}),_i="det",vl=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],dl=W(_i,vl,t=>{var{typed:r,matrix:e,subtract:n,multiply:i,divideScalar:a,isZero:c,unaryMinus:v}=t;return r(_i,{any:function(h){return yt(h)},"Array | Matrix":function(h){var o;switch(Ct(h)?o=h.size():Array.isArray(h)?(h=e(h),o=h.size()):o=[],o.length){case 0:return yt(h);case 1:if(o[0]===1)return yt(h.valueOf()[0]);if(o[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+St(o)+")");case 2:{var u=o[0],s=o[1];if(u===s)return d(h.clone().valueOf(),u);if(s===0)return 1;throw new RangeError("Matrix must be square (size: "+St(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+St(o)+")")}}});function d(h,o,u){if(o===1)return yt(h[0][0]);if(o===2)return n(i(h[0][0],h[1][1]),i(h[1][0],h[0][1]));for(var s=!1,l=new Array(o).fill(0).map((b,C)=>C),p=0;p<o;p++){var f=l[p];if(c(h[f][p])){var m=void 0;for(m=p+1;m<o;m++)if(!c(h[l[m]][p])){f=l[m],l[m]=l[p],l[p]=f,s=!s;break}if(m===o)return h[f][p]}for(var D=h[f][p],y=p===0?1:h[l[p-1]][p-1],w=p+1;w<o;w++)for(var x=l[w],g=p+1;g<o;g++)h[x][g]=a(n(i(h[x][g],D),i(h[x][p],h[f][g])),y)}var E=h[l[o-1]][o-1];return s?v(E):E}}),Bi="inv",ml=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Dl=W(Bi,ml,t=>{var{typed:r,matrix:e,divideScalar:n,addScalar:i,multiply:a,unaryMinus:c,det:v,identity:d,abs:h}=t;return r(Bi,{"Array | Matrix":function(u){var s=Ct(u)?u.size():Tt(u);switch(s.length){case 1:if(s[0]===1)return Ct(u)?e([n(1,u.valueOf()[0])]):[n(1,u[0])];throw new RangeError("Matrix must be square (size: "+St(s)+")");case 2:{var l=s[0],p=s[1];if(l===p)return Ct(u)?e(o(u.valueOf(),l,p),u.storage()):o(u,l,p);throw new RangeError("Matrix must be square (size: "+St(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+St(s)+")")}},any:function(u){return n(1,u)}});function o(u,s,l){var p,f,m,D,y;if(s===1){if(D=u[0][0],D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,D)]]}else if(s===2){var w=v(u);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(u[1][1],w),n(c(u[0][1]),w)],[n(c(u[1][0]),w),n(u[0][0],w)]]}else{var x=u.concat();for(p=0;p<s;p++)x[p]=x[p].concat();for(var g=d(s).valueOf(),E=0;E<l;E++){var b=h(x[E][E]),C=E;for(p=E+1;p<s;)h(x[p][E])>b&&(b=h(x[p][E]),C=p),p++;if(b===0)throw Error("Cannot calculate inverse, determinant is zero");p=C,p!==E&&(y=x[E],x[E]=x[p],x[p]=y,y=g[E],g[E]=g[p],g[p]=y);var F=x[E],A=g[E];for(p=0;p<s;p++){var B=x[p],M=g[p];if(p!==E){if(B[E]!==0){for(m=n(c(B[E]),F[E]),f=E;f<l;f++)B[f]=i(B[f],a(m,F[f]));for(f=0;f<l;f++)M[f]=i(M[f],a(m,A[f]))}}else{for(m=F[E],f=E;f<l;f++)B[f]=n(B[f],m);for(f=0;f<l;f++)M[f]=n(M[f],m)}}}return g}}});function yl(t){var{addScalar:r,subtract:e,flatten:n,multiply:i,multiplyScalar:a,divideScalar:c,sqrt:v,abs:d,bignumber:h,diag:o,inv:u,qr:s,usolve:l,usolveAll:p,equal:f,complex:m,larger:D,smaller:y,matrixFromColumns:w,dot:x}=t;function g(O,U,X,P,L){L===void 0&&(L=!0);var $=E(O,U,X,P,L);b(O,U,X,P,L,$);var{values:G,C:Q}=C(O,U,X,P,L),rt;return L&&(rt=F(O,U,Q,$,G,X,P),rt=w(...rt)),{values:G,vectors:rt}}function E(O,U,X,P,L){var $=P==="BigNumber",G=P==="Complex",Q=$?h(0):0,rt=$?h(1):G?m(1):1,tt=$?h(1):1,V=$?h(10):2,ht=a(V,V),ot;L&&(ot=Array(U).fill(rt));for(var it=!1;!it;){it=!0;for(var ft=0;ft<U;ft++){for(var dt=Q,mt=Q,ct=0;ct<U;ct++)if(ft!==ct){var gt=d(O[ft][ct]);dt=r(dt,gt),mt=r(mt,gt)}if(!f(dt,0)&&!f(mt,0)){for(var Dt=tt,_t=dt,Bt=c(mt,V),It=a(mt,V);y(_t,Bt);)_t=a(_t,ht),Dt=a(Dt,V);for(;D(_t,It);)_t=c(_t,ht),Dt=c(Dt,V);var Kt=y(c(r(_t,mt),Dt),a(r(dt,mt),.95));if(Kt){it=!1;for(var ie=c(1,Dt),Lt=0;Lt<U;Lt++)ft!==Lt&&(O[ft][Lt]=a(O[ft][Lt],Dt),O[Lt][ft]=a(O[Lt][ft],ie));L&&(ot[ft]=a(ot[ft],Dt))}}}}return o(ot)}function b(O,U,X,P,L,$){var G=P==="BigNumber",Q=P==="Complex",rt=G?h(0):Q?m(0):0;G&&(X=h(X));for(var tt=0;tt<U-2;tt++){for(var V=0,ht=rt,ot=tt+1;ot<U;ot++){var it=O[ot][tt];y(d(ht),d(it))&&(ht=it,V=ot)}if(!y(d(ht),X)){if(V!==tt+1){var ft=O[V];O[V]=O[tt+1],O[tt+1]=ft;for(var dt=0;dt<U;dt++){var mt=O[dt][V];O[dt][V]=O[dt][tt+1],O[dt][tt+1]=mt}if(L){var ct=$[V];$[V]=$[tt+1],$[tt+1]=ct}}for(var gt=tt+2;gt<U;gt++){var Dt=c(O[gt][tt],ht);if(Dt!==0){for(var _t=0;_t<U;_t++)O[gt][_t]=e(O[gt][_t],a(Dt,O[tt+1][_t]));for(var Bt=0;Bt<U;Bt++)O[Bt][tt+1]=r(O[Bt][tt+1],a(Dt,O[Bt][gt]));if(L)for(var It=0;It<U;It++)$[gt][It]=e($[gt][It],a(Dt,$[tt+1][It]))}}}}return $}function C(O,U,X,P,L){var $=P==="BigNumber",G=P==="Complex",Q=$?h(1):G?m(1):1;$&&(X=h(X));for(var rt=yt(O),tt=[],V=U,ht=[],ot=L?o(Array(U).fill(Q)):void 0,it=L?o(Array(V).fill(Q)):void 0,ft=0;ft<=100;){ft+=1;for(var dt=0,mt=0;mt<V;mt++)rt[mt][mt]=e(rt[mt][mt],dt);var{Q:ct,R:gt}=s(rt);rt=i(gt,ct);for(var Dt=0;Dt<V;Dt++)rt[Dt][Dt]=r(rt[Dt][Dt],dt);if(L&&(it=i(it,ct)),V===1||y(d(rt[V-1][V-2]),X)){ft=0,tt.push(rt[V-1][V-1]),L&&(ht.unshift([[1]]),M(it,U),ot=i(ot,it),V>1&&(it=o(Array(V-1).fill(Q)))),V-=1,rt.pop();for(var _t=0;_t<V;_t++)rt[_t].pop()}else if(V===2||y(d(rt[V-2][V-3]),X)){ft=0;var Bt=A(rt[V-2][V-2],rt[V-2][V-1],rt[V-1][V-2],rt[V-1][V-1]);tt.push(...Bt),L&&(ht.unshift(B(rt[V-2][V-2],rt[V-2][V-1],rt[V-1][V-2],rt[V-1][V-1],Bt[0],Bt[1],X,P)),M(it,U),ot=i(ot,it),V>2&&(it=o(Array(V-2).fill(Q)))),V-=2,rt.pop(),rt.pop();for(var It=0;It<V;It++)rt[It].pop(),rt[It].pop()}if(V===0)break}if(tt.sort((Lt,se)=>+e(d(Lt),d(se))),ft>100){var Kt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+tt.join(", "));throw Kt.values=tt,Kt.vectors=[],Kt}var ie=L?i(ot,S(ht,U)):void 0;return{values:tt,C:ie}}function F(O,U,X,P,L,$,G){var Q=u(X),rt=i(Q,O,X),tt=G==="BigNumber",V=G==="Complex",ht=tt?h(0):V?m(0):0,ot=tt?h(1):V?m(1):1,it=[],ft=[];for(var dt of L){var mt=j(it,dt,f);mt===-1?(it.push(dt),ft.push(1)):ft[mt]+=1}for(var ct=[],gt=it.length,Dt=Array(U).fill(ht),_t=o(Array(U).fill(ot)),Bt=[],It=function(){var Lt=it[Kt],se=e(rt,i(Lt,_t)),pe=p(se,Dt);for(pe.shift();pe.length<ft[Kt];){var Qe=z(se,U,pe,$,G);if(Qe==null){Bt.push(Lt);break}pe.push(Qe)}var lr=i(u(P),X);pe=pe.map(je=>i(lr,je)),ct.push(...pe.map(je=>n(je)))},Kt=0;Kt<gt;Kt++)It();if(Bt.length!==0){var ie=new Error("Failed to find eigenvectors for the following eigenvalues: "+Bt.join(", "));throw ie.values=L,ie.vectors=ct,ie}return ct}function A(O,U,X,P){var L=r(O,P),$=e(a(O,P),a(U,X)),G=a(L,.5),Q=a(v(e(a(L,L),a(4,$))),.5);return[r(G,Q),e(G,Q)]}function B(O,U,X,P,L,$,G,Q){var rt=Q==="BigNumber",tt=Q==="Complex",V=rt?h(0):tt?m(0):0,ht=rt?h(1):tt?m(1):1;if(y(d(X),G))return[[ht,V],[V,ht]];if(D(d(e(L,$)),G))return[[e(L,P),e($,P)],[X,X]];var ot=e(O,L),it=e(U,L),ft=e(X,L),dt=e(P,L);return y(d(it),G)?[[ot,ht],[ft,V]]:[[it,V],[dt,ht]]}function M(O,U){for(var X=0;X<O.length;X++)O[X].push(...Array(U-O[X].length).fill(0));for(var P=O.length;P<U;P++)O.push(Array(U).fill(0)),O[P][P]=1;return O}function S(O,U){for(var X=[],P=0;P<U;P++)X[P]=Array(U).fill(0);var L=0;for(var $ of O){for(var G=$.length,Q=0;Q<G;Q++)for(var rt=0;rt<G;rt++)X[L+Q][L+rt]=$[Q][rt];L+=G}return X}function j(O,U,X){for(var P=0;P<O.length;P++)if(X(O[P],U))return P;return-1}function z(O,U,X,P,L){for(var $=L==="BigNumber"?h(1e3):1e3,G,Q=0;G=I(U,X,L),G=l(O,G),!D(N(G),$);)if(++Q>=5)return null;for(Q=0;;){var rt=l(O,G);if(y(N(q(G,[rt])),P))break;if(++Q>=10)return null;G=k(rt)}return G}function I(O,U,X){var P=X==="BigNumber",L=X==="Complex",$=Array(O).fill(0).map(G=>2*Math.random()-1);return P&&($=$.map(G=>h(G))),L&&($=$.map(G=>m(G))),$=q($,U),k($,X)}function q(O,U){for(var X of U)O=e(O,i(c(x(X,O),x(X,X)),X));return O}function N(O){return d(v(x(O,O)))}function k(O,U){var X=U==="BigNumber",P=U==="Complex",L=X?h(1):P?m(1):1;return i(c(L,N(O)),O)}return g}function gl(t){var{config:r,addScalar:e,subtract:n,abs:i,atan:a,cos:c,sin:v,multiplyScalar:d,inv:h,bignumber:o,multiply:u,add:s}=t;function l(A,B){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.epsilon,S=arguments.length>3?arguments[3]:void 0;if(S==="number")return p(A,M);if(S==="BigNumber")return f(A,M);throw TypeError("Unsupported data type: "+S)}function p(A,B){for(var M=A.length,S=Math.abs(B/M),j,z=new Array(M),I=0;I<M;I++)z[I]=F(M,0),z[I][I]=1;for(var q=E(A);Math.abs(q[1])>=Math.abs(S);){var N=q[0][0],k=q[0][1];j=m(A[N][N],A[k][k],A[N][k]),A=g(A,j,N,k),z=y(z,j,N,k),q=E(A)}for(var O=F(M,0),U=0;U<M;U++)O[U]=A[U][U];return C(yt(O),yt(z))}function f(A,B){for(var M=A.length,S=i(B/M),j,z=new Array(M),I=0;I<M;I++)z[I]=F(M,0),z[I][I]=1;for(var q=b(A);i(q[1])>=i(S);){var N=q[0][0],k=q[0][1];j=D(A[N][N],A[k][k],A[N][k]),A=x(A,j,N,k),z=w(z,j,N,k),q=b(A)}for(var O=F(M,0),U=0;U<M;U++)O[U]=A[U][U];return C(yt(O),yt(z))}function m(A,B,M){var S=B-A;return Math.abs(S)<=r.epsilon?Math.PI/4:.5*Math.atan(2*M/(B-A))}function D(A,B,M){var S=n(B,A);return i(S)<=r.epsilon?o(-1).acos().div(4):d(.5,a(u(2,M,h(S))))}function y(A,B,M,S){for(var j=A.length,z=Math.cos(B),I=Math.sin(B),q=F(j,0),N=F(j,0),k=0;k<j;k++)q[k]=z*A[k][M]-I*A[k][S],N[k]=I*A[k][M]+z*A[k][S];for(var O=0;O<j;O++)A[O][M]=q[O],A[O][S]=N[O];return A}function w(A,B,M,S){for(var j=A.length,z=c(B),I=v(B),q=F(j,o(0)),N=F(j,o(0)),k=0;k<j;k++)q[k]=n(d(z,A[k][M]),d(I,A[k][S])),N[k]=e(d(I,A[k][M]),d(z,A[k][S]));for(var O=0;O<j;O++)A[O][M]=q[O],A[O][S]=N[O];return A}function x(A,B,M,S){for(var j=A.length,z=o(c(B)),I=o(v(B)),q=d(z,z),N=d(I,I),k=F(j,o(0)),O=F(j,o(0)),U=u(o(2),z,I,A[M][S]),X=e(n(d(q,A[M][M]),U),d(N,A[S][S])),P=s(d(N,A[M][M]),U,d(q,A[S][S])),L=0;L<j;L++)k[L]=n(d(z,A[M][L]),d(I,A[S][L])),O[L]=e(d(I,A[M][L]),d(z,A[S][L]));A[M][M]=X,A[S][S]=P,A[M][S]=o(0),A[S][M]=o(0);for(var $=0;$<j;$++)$!==M&&$!==S&&(A[M][$]=k[$],A[$][M]=k[$],A[S][$]=O[$],A[$][S]=O[$]);return A}function g(A,B,M,S){for(var j=A.length,z=Math.cos(B),I=Math.sin(B),q=z*z,N=I*I,k=F(j,0),O=F(j,0),U=q*A[M][M]-2*z*I*A[M][S]+N*A[S][S],X=N*A[M][M]+2*z*I*A[M][S]+q*A[S][S],P=0;P<j;P++)k[P]=z*A[M][P]-I*A[S][P],O[P]=I*A[M][P]+z*A[S][P];A[M][M]=U,A[S][S]=X,A[M][S]=0,A[S][M]=0;for(var L=0;L<j;L++)L!==M&&L!==S&&(A[M][L]=k[L],A[L][M]=k[L],A[S][L]=O[L],A[L][S]=O[L]);return A}function E(A){for(var B=A.length,M=0,S=[0,1],j=0;j<B;j++)for(var z=j+1;z<B;z++)Math.abs(M)<Math.abs(A[j][z])&&(M=Math.abs(A[j][z]),S=[j,z]);return[S,M]}function b(A){for(var B=A.length,M=0,S=[0,1],j=0;j<B;j++)for(var z=j+1;z<B;z++)i(M)<i(A[j][z])&&(M=i(A[j][z]),S=[j,z]);return[S,M]}function C(A,B){for(var M=A.length,S=Array(M),j=Array(M),z=0;z<M;z++)j[z]=Array(M);for(var I=0;I<M;I++){for(var q=0,N=A[0],k=0;k<A.length;k++)i(A[k])<i(N)&&(q=k,N=A[q]);S[I]=A.splice(q,1)[0];for(var O=0;O<M;O++)j[O][I]=B[O][q],B[O].splice(q,1)}return{values:S,vectors:j}}function F(A,B){for(var M=new Array(A),S=0;S<A;S++)M[S]=B;return M}return l}var wl="eigs",xl=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],El=W(wl,xl,t=>{var{config:r,typed:e,matrix:n,addScalar:i,subtract:a,equal:c,abs:v,atan:d,cos:h,sin:o,multiplyScalar:u,divideScalar:s,inv:l,bignumber:p,multiply:f,add:m,larger:D,column:y,flatten:w,number:x,complex:g,sqrt:E,diag:b,qr:C,usolve:F,usolveAll:A,im:B,re:M,smaller:S,matrixFromColumns:j,dot:z}=t,I=gl({config:r,addScalar:i,subtract:a,column:y,flatten:w,equal:c,abs:v,atan:d,cos:h,sin:o,multiplyScalar:u,inv:l,bignumber:p,complex:g,multiply:f,add:m}),q=yl({config:r,addScalar:i,subtract:a,multiply:f,multiplyScalar:u,flatten:w,divideScalar:s,sqrt:E,abs:v,bignumber:p,diag:b,qr:C,inv:l,usolve:F,usolveAll:A,equal:c,complex:g,larger:D,smaller:S,matrixFromColumns:j,dot:z});return e("eigs",{Array:function(P){var L=n(P);return N(L)},"Array, number|BigNumber":function(P,L){var $=n(P);return N($,L)},Matrix:function(P){var{values:L,vectors:$}=N(P);return{values:n(L),vectors:n($)}},"Matrix, number|BigNumber":function(P,L){var{values:$,vectors:G}=N(P,L);return{values:n($),vectors:n(G)}}});function N(P,L){L===void 0&&(L=r.epsilon);var $=P.size();if($.length!==2||$[0]!==$[1])throw new RangeError("Matrix must be square (size: "+St($)+")");var G=P.toArray(),Q=$[0];if(O(G,Q,L)&&(U(G,Q),k(G,Q,L))){var rt=X(P,G,Q);return I(G,Q,L,rt)}var tt=X(P,G,Q);return q(G,Q,L,tt)}function k(P,L,$){for(var G=0;G<L;G++)for(var Q=G;Q<L;Q++)if(D(p(v(a(P[G][Q],P[Q][G]))),$))return!1;return!0}function O(P,L,$){for(var G=0;G<L;G++)for(var Q=0;Q<L;Q++)if(D(p(v(B(P[G][Q]))),$))return!1;return!0}function U(P,L){for(var $=0;$<L;$++)for(var G=0;G<L;G++)P[$][G]=M(P[$][G])}function X(P,L,$){var G=P.datatype();if(G==="number"||G==="BigNumber"||G==="Complex")return G;for(var Q=!1,rt=!1,tt=!1,V=0;V<$;V++)for(var ht=0;ht<$;ht++){var ot=L[V][ht];if(Nt(ot)||cn(ot))Q=!0;else if(jt(ot))rt=!0;else if(fn(ot))tt=!0;else throw TypeError("Unsupported type in Matrix: "+ve(ot))}if(rt&&tt&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),tt){for(var it=0;it<$;it++)for(var ft=0;ft<$;ft++)L[it][ft]=g(L[it][ft]);return"Complex"}if(rt){for(var dt=0;dt<$;dt++)for(var mt=0;mt<$;mt++)L[dt][mt]=p(L[dt][mt]);return"BigNumber"}if(Q){for(var ct=0;ct<$;ct++)for(var gt=0;gt<$;gt++)L[ct][gt]=x(L[ct][gt]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),He=vs({config:Qt}),Xr=Ds({}),Jr=ws({}),dn=As({}),qt=Cs({Matrix:dn}),at=Do({BigNumber:He,Complex:Xr,DenseMatrix:qt,Fraction:Jr}),or=u0({typed:at}),we=o0({typed:at}),Al=Ac({typed:at}),mn=Xs({BigNumber:He,typed:at}),Dn=Hs({Complex:Xr,typed:at}),Gr=V0({typed:at}),oe=Is({config:Qt,typed:at}),Fl=Q0({typed:at}),bl=_s({typed:at}),gu=Ns({typed:at}),xe=j0({typed:at}),yn=Us({typed:at}),Cl=Y0({typed:at}),Ml=R0({BigNumber:He,Fraction:Jr,complex:Dn,typed:at}),_l=Mc({typed:at}),Ve=ks({Matrix:dn,equalScalar:oe,typed:at}),Bl=bc({typed:at}),gn=Z0({Complex:Xr,config:Qt,typed:at}),sr=n0({typed:at}),wu=Qs({Fraction:Jr,typed:at}),vt=Ys({DenseMatrix:qt,Matrix:dn,SparseMatrix:Ve,typed:at}),Sl=Nf({bignumber:mn,fraction:wu,number:yn}),wn=Df({matrix:vt,config:Qt,typed:at}),re=gf({matrix:vt,typed:at}),xn=Ff({matrix:vt,typed:at}),Dr=_f({BigNumber:He,config:Qt,matrix:vt,typed:at}),Se=ef({isInteger:bl,matrix:vt,typed:at}),Nl=Cf({conj:Gr,transpose:xn,typed:at}),xu=af({DenseMatrix:qt,SparseMatrix:Ve,matrix:vt,typed:at}),Ee=Of({numeric:Sl,typed:at}),Eu=Vf({DenseMatrix:qt,concat:Se,equalScalar:oe,matrix:vt,typed:at}),En=sf({matrix:vt,typed:at}),fr=cf({BigNumber:He,DenseMatrix:qt,SparseMatrix:Ve,config:Qt,matrix:vt,typed:at}),Au=pf({matrix:vt,multiplyScalar:xe,typed:at}),Fu=oc({DenseMatrix:qt,concat:Se,config:Qt,matrix:vt,typed:at}),zl=e0({flatten:En,matrix:vt,size:wn,typed:at}),cr=Kf({DenseMatrix:qt,concat:Se,config:Qt,matrix:vt,typed:at}),Ze=Nc({DenseMatrix:qt,SparseMatrix:Ve,addScalar:we,concat:Se,equalScalar:oe,matrix:vt,typed:at}),Ol=Zf({BigNumber:He,DenseMatrix:qt,Fraction:Jr,concat:Se,config:Qt,equalScalar:oe,matrix:vt,typed:at}),Ce=Tc({addScalar:we,conj:Gr,multiplyScalar:xe,size:wn,typed:at}),Il=lc({DenseMatrix:qt,smaller:cr}),An=vc({ImmutableDenseMatrix:Il}),We=ic({DenseMatrix:qt,concat:Se,config:Qt,matrix:vt,typed:at}),ae=P0({addScalar:we,dot:Ce,equalScalar:oe,matrix:vt,multiplyScalar:xe,typed:at}),Tl=ec({DenseMatrix:qt,concat:Se,config:Qt,matrix:vt,typed:at}),Jt=X0({DenseMatrix:qt,addScalar:we,concat:Se,equalScalar:oe,matrix:vt,typed:at,unaryMinus:sr}),bu=qf({DenseMatrix:qt,divideScalar:Ee,equalScalar:oe,matrix:vt,multiplyScalar:xe,subtract:Jt,typed:at}),jl=Jf({compare:Ol,typed:at}),kl=dl({divideScalar:Ee,isZero:gu,matrix:vt,multiply:ae,subtract:Jt,typed:at,unaryMinus:sr}),Pl=Dc({larger:We,smaller:cr}),he=kc({Index:An,typed:at}),ql=kf({DenseMatrix:qt,divideScalar:Ee,equalScalar:oe,matrix:vt,multiplyScalar:xe,subtract:Jt,typed:at}),Rl=Lc({addScalar:we,complex:Dn,conj:Gr,divideScalar:Ee,equal:Eu,identity:fr,isZero:gu,matrix:vt,multiplyScalar:xe,sign:Ml,sqrt:gn,subtract:Jt,typed:at,unaryMinus:sr,zeros:Dr}),Fn=df({bignumber:mn,matrix:vt,config:Qt,larger:We,largerEq:Fu,smaller:cr,smallerEq:Tl,typed:at}),Ll=ll({SparseMatrix:Ve,abs:or,add:Ze,divideScalar:Ee,larger:We,largerEq:Fu,multiply:ae,subtract:Jt,transpose:xn,typed:at}),Ul=wc({FibonacciHeap:Pl,addScalar:we,equalScalar:oe}),Zl=Lf({DenseMatrix:qt,divideScalar:Ee,equalScalar:oe,matrix:vt,multiplyScalar:xe,subtract:Jt,typed:at}),$l=nf({Index:An,matrix:vt,range:Fn,typed:at}),Cu=Bc({DenseMatrix:qt,Index:An,compareNatural:jl,size:wn,subset:re,typed:at}),Mu=Dl({abs:or,addScalar:we,det:kl,divideScalar:Ee,identity:fr,matrix:vt,multiply:ae,typed:at,unaryMinus:sr}),Xl=qc({DenseMatrix:qt,Spa:Ul,SparseMatrix:Ve,abs:or,addScalar:we,divideScalar:Ee,equalScalar:oe,larger:We,matrix:vt,multiplyScalar:xe,subtract:Jt,typed:at,unaryMinus:sr}),Jl=Tf({Complex:Xr,config:Qt,fraction:wu,identity:fr,inv:Mu,matrix:vt,multiply:ae,number:yn,typed:at}),Gl=hl({DenseMatrix:qt,lsolve:ql,lup:Xl,matrix:vt,slu:Ll,typed:at,usolve:bu}),Hl=El({abs:or,add:Ze,addScalar:we,atan:Al,bignumber:mn,column:$l,complex:Dn,config:Qt,cos:Bl,diag:xu,divideScalar:Ee,dot:Ce,equal:Eu,flatten:En,im:Fl,inv:Mu,larger:We,matrix:vt,matrixFromColumns:zl,multiply:ae,multiplyScalar:xe,number:yn,qr:Rl,re:Cl,sin:_l,smaller:cr,sqrt:gn,subtract:Jt,typed:at,usolve:bu,usolveAll:Zl}),$e=Oc({abs:or,add:Ze,conj:Gr,ctranspose:Nl,eigs:Hl,equalScalar:oe,larger:We,matrix:vt,multiply:ae,pow:Jl,smaller:cr,sqrt:gn,typed:at});function Vl(t){let r={analysisType:1,elasticities:new Map,areas:new Map,loads:new Map,supports:new Map,momentOfInertiaZs:new Map,momentOfInertiaYs:new Map,shearModuluses:new Map,torsionalConstants:new Map,distributedLoads:new Map};return t.forEach(e=>{var n;"area"in e&&r.areas.set(e.element,e.area),"elasticity"in e&&r.elasticities.set(e.element,e.elasticity),"load"in e&&r.loads.set(e.node,e.load),"support"in e&&r.supports.set(e.node,e.support),((n=r.supports.values().next().value)==null?void 0:n.length)===3&&(r.analysisType=0),r.analysisType===1&&("momentOfInertiaZ"in e&&r.momentOfInertiaZs.set(e.element,e.momentOfInertiaZ),"momentOfInertiaY"in e&&r.momentOfInertiaYs.set(e.element,e.momentOfInertiaY),"torsionalConstant"in e&&r.torsionalConstants.set(e.element,e.torsionalConstant),"shearModulus"in e&&r.shearModuluses.set(e.element,e.shearModulus),"distributedLoad"in e&&r.distributedLoads.set(e.element,e.distributedLoad))}),r}function Wl(t){let r=[t[0]*3,t[0]*3+1,t[0]*3+2],e=[t[1]*3,t[1]*3+1,t[1]*3+2];return[...r,...e]}function Ql(t){let r=[t[0]*6,t[0]*6+1,t[0]*6+2,t[0]*6+3,t[0]*6+4,t[0]*6+5],e=[t[1]*6,t[1]*6+1,t[1]*6+2,t[1]*6+3,t[1]*6+4,t[1]*6+5];return[...r,...e]}var yr={0:Wl,1:Ql},sn=(t,r,e)=>[0,t*e/2,r*e/2,0,-r*Ot(e,2)/12,t*Ot(e,2)/12,0,t*e/2,r*e/2,0,r*Ot(e,2)/12,-t*Ot(e,2)/12];function Kl(t,r){let e=[];return t.forEach((n,i)=>{n[0]&&e.push(i*3),n[1]&&e.push(i*3+1),n[2]&&e.push(i*3+2)}),Cu(Fn(0,r),e)}function Yl(t,r){let e=[];return t.forEach((n,i)=>{n[0]&&e.push(i*6),n[1]&&e.push(i*6+1),n[2]&&e.push(i*6+2),n[3]&&e.push(i*6+3),n[4]&&e.push(i*6+4),n[5]&&e.push(i*6+5)}),Cu(Fn(0,r),e)}var tp={0:Kl,1:Yl};function ep(t,r,e,n){let i=t.areas.get(r)||0,a=t.elasticities.get(r)||0,c=n[0]/n[4],v=vt([[c,-1],[-1,c]]);return ae(v,a*i/e)}function rp(t,r,e,n){let i=t.momentOfInertiaZs.get(r)||0,a=t.momentOfInertiaYs.get(r)||0,c=t.elasticities.get(r)||0,v=t.areas.get(r)||0,d=t.shearModuluses.get(r)||0,h=t.torsionalConstants.get(r)||0,o=c*v/e,u=c*i/Ot(e,3),s=c*a/Ot(e,3),l=d*h/e,p=n[0],f=n[1];return vt([[o,0,0,0,0,0,-o,0,0,0,0,0],[0,12*u,0,0,0,p*e*u,0,-12*u,0,0,0,p*e*u],[0,0,12*s,0,-p*e*s,0,0,0,-12*s,0,-p*e*s,0],[0,0,0,l,0,0,0,0,0,-l,0,0],[0,0,-p*e*s,0,4*s*Ot(e,f),0,0,0,p*e*s,0,f*s*Ot(e,f),0],[0,p*e*u,0,0,0,4*u*Ot(e,f),0,-p*e*u,0,0,0,f*u*Ot(e,f)],[-o,0,0,0,0,0,o,0,0,0,0,0],[0,-12*u,0,0,0,-p*u*e,0,12*u,0,0,0,-p*u*e],[0,0,-12*s,0,p*e*s,0,0,0,12*s,0,p*e*s,0],[0,0,0,-l,0,0,0,0,0,l,0,0],[0,0,-p*e*s,0,f*s*Ot(e,f),0,0,0,p*e*s,0,4*s*Ot(e,f),0],[0,p*e*u,0,0,0,f*u*Ot(e,f),0,-p*e*u,0,0,0,4*u*Ot(e,f)]])}var _u={0:ep,1:rp};function np(t,r,e){let n=Jt(r,t),i=$e(n),a=Ce(n,vt([1,0,0]))/i,c=Ce(n,vt([0,1,0]))/i,v=Ce(n,vt([0,0,1]))/i,d=e[0]/e[4];return vt([[a*d,c,v*d,0,0,0],[0,0,0,a,c*d,v]])}function ip(t,r,e){let n=Jt(r,t),i=$e(n),a=Ce(n,vt([1,0,0]))/i,c=Ce(n,vt([0,1,0]))/i,v=Ce(n,vt([0,0,1]))/i,d=Math.sqrt(Ot(a,2)+Ot(c,2)),h=e[0]/e[4],o=vt([[a*h,c,v],[-c/d,a/d*h,0],[-a*h*v/d,-c*v/d,d]]);return v===1&&(o=vt([[0,0,1],[0,1,0],[-1,0,0]])),v===-1&&(o=vt([[0,0,-1],[0,1,0],[1,0,0]])),Au(fr(4),o)}var Bu={0:np,1:ip};function up(t,r,e,n){let i=t.length*(e.analysisType===0?3:6),a=Dr(i,i);r.forEach((l,p)=>{let f=t[l[0]],m=t[l[1]],D=$e(Jt(m,f)),y=_u[e.analysisType](e,p,D,n),w=Bu[e.analysisType](f,m,n),x=ae(xn(w),ae(y,w)),g=yr[e.analysisType](l),E=re(a,he(g,g));a=re(a,he(g,g),Ze(E,x))});let c=Dr([i]);e.loads.forEach((l,p)=>{let f={0:[p*3,p*3+1,p*3+2],1:[p*6,p*6+1,p*6+2,p*6+3,p*6+4,p*6+5]},m=re(c,he(f[e.analysisType]));c=re(c,he(f[e.analysisType]),Ze(m,l))}),e.distributedLoads.forEach(([l,p],f)=>{let m=r[f],D=t[m[0]],y=t[m[1]],w=$e(Jt(y,D)),x=he(yr[e.analysisType](m)),g=re(c,x),E=sn(l,p,w);c=re(c,x,Ze(g,E))});let v=tp[e.analysisType](e.supports,i),d=re(c,he(v)),h=re(a,he(v,v)),o=Gl(h,d),u=re(Dr(i),he(v),En(o)),s=ae(a,u);return e.distributedLoads.forEach(([l,p],f)=>{let m=r[f],D=t[m[0]],y=t[m[1]],w=$e(Jt(y,D)),x=he(yr[e.analysisType](m)),g=re(s,x),E=sn(l,p,w);s=re(s,x,Jt(g,E))}),{deformations:u.toArray(),forces:s.toArray()}}var er=class extends Error{};er.prototype.name="InvalidTokenError";function ap(t){return decodeURIComponent(atob(t).replace(/(.)/g,(r,e)=>{let n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function op(t){let r=t.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ap(r)}catch{return atob(r)}}function sp(t,r){if(typeof t!="string")throw new er("Invalid token specified: must be a string");r||(r={});let e=r.header===!0?0:1,n=t.split(".")[e];if(typeof n!="string")throw new er(`Invalid token specified: missing part #${e+1}`);let i;try{i=op(n)}catch(a){throw new er(`Invalid token specified: invalid base64 for part #${e+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new er(`Invalid token specified: invalid json for part #${e+1} (${a.message})`)}}function Tr(){let t=["312136niRcVH","65bdUGbu","211969GpZYzQ","903400NOuIBG","10vheXnR","toArray","length","48HjRSGi","floor","slice","code3","code4","108wzPipF","16224143yOaJCu","code1","undefined","22ur=_p(0JCN","372zKoAaf","120468dThQSC","You have reach the limit of 20 elements. Please ensure you use this library with a purchased license to obtain correct results. To make a purchase, contact mohamed@awatif.co","code2","111216bSkqIZ","110SnzKnv","1895190tIvLCF","The license has expired. Please ensure you use this library with a valid license to obtain correct results. To make a purchase, contact mohamed@awatif.co"];return Tr=function(){return t},Tr()}function ir(t,r){let e=Tr();return ir=function(n,i){return n=n-247,e[n]},ir(t,r)}(function(t,r){let e=ir,n=t();for(;;)try{if(parseInt(e(253))/1*(-parseInt(e(255))/2)+-parseInt(e(249))/3+-parseInt(e(269))/4*(parseInt(e(252))/5)+parseInt(e(268))/6*(-parseInt(e(247))/7)+parseInt(e(251))/8*(-parseInt(e(263))/9)+parseInt(e(254))/10*(-parseInt(e(248))/11)+parseInt(e(258))/12*(parseInt(e(264))/13)===r)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tr,552288);function fp(t){let r=ir,e="",n=r(266)[r(257)];if(typeof self!==r(266)&&(e=(self==null?void 0:self.$k)||""),typeof global!==r(266)&&(e=global.$k||""),t>n*2.5&&!e)throw Error(r(270));let i=e?sp(e):{code1:"58AbJ6(F'Atl",code2:r(267),code3:"e>8Tz9%3r2O>",code4:"0x6782%50e3@",iat:1,exp:2};if(parseInt(i[r(262)].slice(0,6)+i[r(262)][r(260)](7,11))-Math[r(259)](new Date().getTime()/1e3)<n-9)throw Error(r(250));return cp(i)}function cp(t){let r=ir,e=[[Number(t[r(265)][5]),Number(t[r(271)][0])],[Number(t[r(261)][5]),Number(t[r(261)][9])]],n=Au(fr(3),e);return xu(n)[r(256)]()}function lp(t,r,e){let n=fp(r.length),i=Vl(e),{deformations:a,forces:c}=up(t,r,i,n),v=[];return t.forEach((d,h)=>{let o={0:[a[h*3],a[h*3+1],a[h*3+2]],1:[a[h*6],a[h*6+1],a[h*6+2],a[h*6+3],a[h*6+4],a[h*6+5]]};v.push({node:h,deformation:o[i.analysisType]});let u={0:[c[h*3],c[h*3+1],c[h*3+2]],1:[c[h*6],c[h*6+1],c[h*6+2],c[h*6+3],c[h*6+4],c[h*6+5]]};i.supports.get(h)&&v.push({node:h,reaction:u[i.analysisType]})}),r.forEach((d,h)=>{let o=t[d[0]],u=t[d[1]],s=$e(Jt(u,o)),l=re(a,he(yr[i.analysisType](d))),p=Bu[i.analysisType](o,u,n),f=ae(p,l),m=_u[i.analysisType](i,h,s,n),D=ae(m,f).toArray();if(i.distributedLoads.get(h)){let[w,x]=i.distributedLoads.get(h)||[0,0],g=sn(w,x,s);D=Jt(D,g)}let y={0:{element:h,normal:[-D[0],-D[0]]},1:{element:h,normal:[D[0],D[6]],shearY:[D[1],D[7]],shearZ:[D[2],D[8]],torsion:[D[3],D[9]],bendingY:[D[4],D[10]],bendingZ:[D[5],D[11]]}};v.push(y[i.analysisType])}),{default:v}}/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/export{lp as c};

var ya=Object.create,ki=Object.defineProperty,wa=Object.getOwnPropertyDescriptor,xa=Object.getOwnPropertyNames,Aa=Object.getPrototypeOf,Ea=Object.prototype.hasOwnProperty,Zr=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Rt=Math.pow,Sr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Fa=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xa(e))!Ea.call(t,i)&&i!==r&&ki(t,i,{get:()=>e[i],enumerable:!(n=wa(e,i))||n.enumerable});return t},Nr=(t,e,r)=>(r=t!=null?ya(Aa(t)):{},Fa(e||!t||!t.__esModule?ki(r,"default",{value:t,enumerable:!0}):r,t)),ba=function(t,e){this[0]=t,this[1]=e},En=t=>{var e=t[Zr("asyncIterator")],r=!1,n,i={};return e==null?(e=t[Zr("iterator")](),n=a=>i[a]=s=>e[a](s)):(e=e.call(t),n=a=>i[a]=s=>{if(r){if(r=!1,a==="throw")throw s;return s}return r=!0,{done:!1,value:new ba(new Promise(d=>{var l=e[a](s);if(!(l instanceof Object))throw TypeError("Object expected");d(l)}),1)}}),i[Zr("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=a=>{throw a},"return"in e&&n("return"),i},Ca=Sr((t,e)=>{(function(r,n){typeof t=="object"&&typeof e<"u"?e.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self,r["'typed'"]=n())})(t,function(){function r(){return!0}function n(){return!1}function i(){}let a="Argument is not a typed-function.";function s(){function l(B){return typeof B=="object"&&B!==null&&B.constructor===Object}let p=[{name:"number",test:function(B){return typeof B=="number"}},{name:"string",test:function(B){return typeof B=="string"}},{name:"boolean",test:function(B){return typeof B=="boolean"}},{name:"Function",test:function(B){return typeof B=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(B){return B instanceof Date}},{name:"RegExp",test:function(B){return B instanceof RegExp}},{name:"Object",test:l},{name:"null",test:function(B){return B===null}},{name:"undefined",test:function(B){return B===void 0}}],o={name:"any",test:r,isAny:!0},u,f,c=0,m={createCount:0};function h(B){let T=u.get(B);if(T)return T;let j='Unknown type "'+B+'"',$=B.toLowerCase(),X;for(X of f)if(X.toLowerCase()===$){j+='. Did you mean "'+X+'" ?';break}throw new TypeError(j)}function g(B){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",j=T?h(T).index:f.length,$=[];for(let H=0;H<B.length;++H){if(!B[H]||typeof B[H].name!="string"||typeof B[H].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let ut=B[H].name;if(u.has(ut))throw new TypeError('Duplicate type name "'+ut+'"');$.push(ut),u.set(ut,{name:ut,test:B[H].test,isAny:B[H].isAny,index:j+H,conversionsTo:[]})}let X=f.slice(j);f=f.slice(0,j).concat($).concat(X);for(let H=j+$.length;H<f.length;++H)u.get(f[H]).index=H}function v(){u=new Map,f=[],c=0,g([o],!1)}v(),g(p);function w(){let B;for(B of f)u.get(B).conversionsTo=[];c=0}function y(B){let T=f.filter(j=>{let $=u.get(j);return!$.isAny&&$.test(B)});return T.length?T:["any"]}function E(B){return B&&typeof B=="function"&&"_typedFunctionData"in B}function D(B,T,j){if(!E(B))throw new TypeError(a);let $=j&&j.exact,X=Array.isArray(T)?T.join(","):T,H=_(X),ut=C(H);if(!$||ut in B.signatures){let bt=B._typedFunctionData.signatureMap.get(ut);if(bt)return bt}let Q=H.length,st;if($){st=[];let bt;for(bt in B.signatures)st.push(B._typedFunctionData.signatureMap.get(bt))}else st=B._typedFunctionData.signatures;for(let bt=0;bt<Q;++bt){let Nt=H[bt],kt=[],Gt;for(Gt of st){let Ht=I(Gt.params,bt);if(!(!Ht||Nt.restParam&&!Ht.restParam)){if(!Ht.hasAny){let ne=b(Ht);if(Nt.types.some(ie=>!ne.has(ie.name)))continue}kt.push(Gt)}}if(st=kt,st.length===0)break}let it;for(it of st)if(it.params.length<=Q)return it;throw new TypeError("Signature not found (signature: "+(B.name||"unnamed")+"("+C(H,", ")+"))")}function A(B,T,j){return D(B,T,j).implementation}function F(B,T){let j=h(T);if(j.test(B))return B;let $=j.conversionsTo;if($.length===0)throw new Error("There are no conversions to "+T+" defined.");for(let X=0;X<$.length;X++)if(h($[X].from).test(B))return $[X].convert(B);throw new Error("Cannot convert "+B+" to "+T)}function C(B){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return B.map(j=>j.name).join(T)}function x(B){let T=B.indexOf("...")===0,j=(T?B.length>3?B.slice(3):"any":B).split("|").map(H=>h(H.trim())),$=!1,X=T?"...":"";return{types:j.map(function(H){return $=H.isAny||$,X+=H.name+"|",{name:H.name,typeIndex:H.index,test:H.test,isAny:H.isAny,conversion:null,conversionIndex:-1}}),name:X.slice(0,-1),hasAny:$,hasConversion:!1,restParam:T}}function M(B){let T=B.types.map(ut=>ut.name),j=et(T),$=B.hasAny,X=B.name,H=j.map(function(ut){let Q=h(ut.from);return $=Q.isAny||$,X+="|"+ut.from,{name:ut.from,typeIndex:Q.index,test:Q.test,isAny:Q.isAny,conversion:ut,conversionIndex:ut.index}});return{types:B.types.concat(H),name:X,hasAny:$,hasConversion:H.length>0,restParam:B.restParam}}function b(B){return B.typeSet||(B.typeSet=new Set,B.types.forEach(T=>B.typeSet.add(T.name))),B.typeSet}function _(B){let T=[];if(typeof B!="string")throw new TypeError("Signatures must be strings");let j=B.trim();if(j==="")return T;let $=j.split(",");for(let X=0;X<$.length;++X){let H=x($[X].trim());if(H.restParam&&X!==$.length-1)throw new SyntaxError('Unexpected rest parameter "'+$[X]+'": only allowed for the last parameter');if(H.types.length===0)return null;T.push(H)}return T}function S(B){let T=ot(B);return T?T.restParam:!1}function z(B){if(!B||B.types.length===0)return r;if(B.types.length===1)return h(B.types[0].name).test;if(B.types.length===2){let T=h(B.types[0].name).test,j=h(B.types[1].name).test;return function($){return T($)||j($)}}else{let T=B.types.map(function(j){return h(j.name).test});return function(j){for(let $=0;$<T.length;$++)if(T[$](j))return!0;return!1}}}function O(B){let T,j,$;if(S(B)){T=dt(B).map(z);let X=T.length,H=z(ot(B)),ut=function(Q){for(let st=X;st<Q.length;st++)if(!H(Q[st]))return!1;return!0};return function(Q){for(let st=0;st<T.length;st++)if(!T[st](Q[st]))return!1;return ut(Q)&&Q.length>=X+1}}else return B.length===0?function(X){return X.length===0}:B.length===1?(j=z(B[0]),function(X){return j(X[0])&&X.length===1}):B.length===2?(j=z(B[0]),$=z(B[1]),function(X){return j(X[0])&&$(X[1])&&X.length===2}):(T=B.map(z),function(X){for(let H=0;H<T.length;H++)if(!T[H](X[H]))return!1;return X.length===T.length})}function I(B,T){return T<B.length?B[T]:S(B)?ot(B):null}function P(B,T){let j=I(B,T);return j?b(j):new Set}function N(B){return B.conversion===null||B.conversion===void 0}function R(B,T){let j=new Set;return B.forEach($=>{let X=P($.params,T),H;for(H of X)j.add(H)}),j.has("any")?["any"]:Array.from(j)}function K(B,T,j){let $,X,H=B||"unnamed",ut=j,Q;for(Q=0;Q<T.length;Q++){let Nt=[];if(ut.forEach(kt=>{let Gt=I(kt.params,Q),Ht=z(Gt);(Q<kt.params.length||S(kt.params))&&Ht(T[Q])&&Nt.push(kt)}),Nt.length===0){if(X=R(ut,Q),X.length>0){let kt=y(T[Q]);return $=new TypeError("Unexpected type of argument in function "+H+" (expected: "+X.join(" or ")+", actual: "+kt.join(" | ")+", index: "+Q+")"),$.data={category:"wrongType",fn:H,index:Q,actual:kt,expected:X},$}}else ut=Nt}let st=ut.map(function(Nt){return S(Nt.params)?1/0:Nt.params.length});if(T.length<Math.min.apply(null,st))return X=R(ut,Q),$=new TypeError("Too few arguments in function "+H+" (expected: "+X.join(" or ")+", index: "+T.length+")"),$.data={category:"tooFewArgs",fn:H,index:T.length,expected:X},$;let it=Math.max.apply(null,st);if(T.length>it)return $=new TypeError("Too many arguments in function "+H+" (expected: "+it+", actual: "+T.length+")"),$.data={category:"tooManyArgs",fn:H,index:T.length,expectedLength:it},$;let bt=[];for(let Nt=0;Nt<T.length;++Nt)bt.push(y(T[Nt]).join("|"));return $=new TypeError('Arguments of type "'+bt.join(", ")+'" do not match any of the defined signatures of function '+H+"."),$.data={category:"mismatch",actual:bt},$}function rt(B){let T=f.length+1;for(let j=0;j<B.types.length;j++)N(B.types[j])&&(T=Math.min(T,B.types[j].typeIndex));return T}function q(B){let T=c+1;for(let j=0;j<B.types.length;j++)N(B.types[j])||(T=Math.min(T,B.types[j].conversionIndex));return T}function k(B,T){if(B.hasAny){if(!T.hasAny)return 1}else if(T.hasAny)return-1;if(B.restParam){if(!T.restParam)return 1}else if(T.restParam)return-1;if(B.hasConversion){if(!T.hasConversion)return 1}else if(T.hasConversion)return-1;let j=rt(B)-rt(T);if(j<0)return-1;if(j>0)return 1;let $=q(B)-q(T);return $<0?-1:$>0?1:0}function tt(B,T){let j=B.params,$=T.params,X=ot(j),H=ot($),ut=S(j),Q=S($);if(ut&&X.hasAny){if(!Q||!H.hasAny)return 1}else if(Q&&H.hasAny)return-1;let st=0,it=0,bt;for(bt of j)bt.hasAny&&++st,bt.hasConversion&&++it;let Nt=0,kt=0;for(bt of $)bt.hasAny&&++Nt,bt.hasConversion&&++kt;if(st!==Nt)return st-Nt;if(ut&&X.hasConversion){if(!Q||!H.hasConversion)return 1}else if(Q&&H.hasConversion)return-1;if(it!==kt)return it-kt;if(ut){if(!Q)return 1}else if(Q)return-1;let Gt=(j.length-$.length)*(ut?-1:1);if(Gt!==0)return Gt;let Ht=[],ne=0;for(let Oe=0;Oe<j.length;++Oe){let fr=k(j[Oe],$[Oe]);Ht.push(fr),ne+=fr}if(ne!==0)return ne;let ie;for(ie of Ht)if(ie!==0)return ie;return 0}function et(B){if(B.length===0)return[];let T=B.map(h);B.length>1&&T.sort((X,H)=>X.index-H.index);let j=T[0].conversionsTo;if(B.length===1)return j;j=j.concat([]);let $=new Set(B);for(let X=1;X<T.length;++X){let H;for(H of T[X].conversionsTo)$.has(H.from)||(j.push(H),$.add(H.from))}return j}function W(B,T){let j=T;if(B.some(X=>X.hasConversion)){let X=S(B),H=B.map(U);j=function(){let ut=[],Q=X?arguments.length-1:arguments.length;for(let st=0;st<Q;st++)ut[st]=H[st](arguments[st]);return X&&(ut[Q]=arguments[Q].map(H[Q])),T.apply(this,ut)}}let $=j;if(S(B)){let X=B.length-1;$=function(){return j.apply(this,Dt(arguments,0,X).concat([Dt(arguments,X)]))}}return $}function U(B){let T,j,$,X,H=[],ut=[];switch(B.types.forEach(function(Q){Q.conversion&&(H.push(h(Q.conversion.from).test),ut.push(Q.conversion.convert))}),ut.length){case 0:return function(Q){return Q};case 1:return T=H[0],$=ut[0],function(Q){return T(Q)?$(Q):Q};case 2:return T=H[0],j=H[1],$=ut[0],X=ut[1],function(Q){return T(Q)?$(Q):j(Q)?X(Q):Q};default:return function(Q){for(let st=0;st<ut.length;st++)if(H[st](Q))return ut[st](Q);return Q}}}function Y(B){function T(j,$,X){if($<j.length){let H=j[$],ut=[];if(H.restParam){let Q=H.types.filter(N);Q.length<H.types.length&&ut.push({types:Q,name:"..."+Q.map(st=>st.name).join("|"),hasAny:Q.some(st=>st.isAny),hasConversion:!1,restParam:!0}),ut.push(H)}else ut=H.types.map(function(Q){return{types:[Q],name:Q.name,hasAny:Q.isAny,hasConversion:Q.conversion,restParam:!1}});return At(ut,function(Q){return T(j,$+1,X.concat([Q]))})}else return[X]}return T(B,0,[])}function Z(B,T){let j=Math.max(B.length,T.length);for(let Q=0;Q<j;Q++){let st=P(B,Q),it=P(T,Q),bt=!1,Nt;for(Nt of it)if(st.has(Nt)){bt=!0;break}if(!bt)return!1}let $=B.length,X=T.length,H=S(B),ut=S(T);return H?ut?$===X:X>=$:ut?$>=X:$===X}function V(B){return B.map(T=>Lt(T)?$t(T.referToSelf.callback):Tt(T)?qt(T.referTo.references,T.referTo.callback):T)}function nt(B,T,j){let $=[],X;for(X of B){let H=j[X];if(typeof H!="number")throw new TypeError('No definition for referenced signature "'+X+'"');if(H=T[H],typeof H!="function")return!1;$.push(H)}return $}function J(B,T,j){let $=V(B),X=new Array($.length).fill(!1),H=!0;for(;H;){H=!1;let ut=!0;for(let Q=0;Q<$.length;++Q){if(X[Q])continue;let st=$[Q];if(Lt(st))$[Q]=st.referToSelf.callback(j),$[Q].referToSelf=st.referToSelf,X[Q]=!0,ut=!1;else if(Tt(st)){let it=nt(st.referTo.references,$,T);it?($[Q]=st.referTo.callback.apply(this,it),$[Q].referTo=st.referTo,X[Q]=!0,ut=!1):H=!0}}if(ut&&H)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return $}function at(B){let T=/\bthis(\(|\.signatures\b)/;Object.keys(B).forEach(j=>{let $=B[j];if(T.test($.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function pt(B,T){if(m.createCount++,Object.keys(T).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&at(T);let j=[],$=[],X={},H=[],ut;for(ut in T){if(!Object.prototype.hasOwnProperty.call(T,ut))continue;let xt=_(ut);if(!xt)continue;j.forEach(function(Ve){if(Z(Ve,xt))throw new TypeError('Conflicting signatures "'+C(Ve)+'" and "'+C(xt)+'".')}),j.push(xt);let ce=$.length;$.push(T[ut]);let Da=xt.map(M),lr;for(lr of Y(Da)){let Ve=C(lr);H.push({params:lr,name:Ve,fn:ce}),lr.every(ga=>!ga.hasConversion)&&(X[Ve]=ce)}}H.sort(tt);let Q=J($,X,Ge),st;for(st in X)Object.prototype.hasOwnProperty.call(X,st)&&(X[st]=Q[X[st]]);let it=[],bt=new Map;for(st of H)bt.has(st.name)||(st.fn=Q[st.fn],it.push(st),bt.set(st.name,st));let Nt=it[0]&&it[0].params.length<=2&&!S(it[0].params),kt=it[1]&&it[1].params.length<=2&&!S(it[1].params),Gt=it[2]&&it[2].params.length<=2&&!S(it[2].params),Ht=it[3]&&it[3].params.length<=2&&!S(it[3].params),ne=it[4]&&it[4].params.length<=2&&!S(it[4].params),ie=it[5]&&it[5].params.length<=2&&!S(it[5].params),Oe=Nt&&kt&&Gt&&Ht&&ne&&ie;for(let xt=0;xt<it.length;++xt)it[xt].test=O(it[xt].params);let fr=Nt?z(it[0].params[0]):n,Ku=kt?z(it[1].params[0]):n,Wu=Gt?z(it[2].params[0]):n,Zu=Ht?z(it[3].params[0]):n,Lu=ne?z(it[4].params[0]):n,Hu=ie?z(it[5].params[0]):n,Ju=Nt?z(it[0].params[1]):n,Gu=kt?z(it[1].params[1]):n,Vu=Gt?z(it[2].params[1]):n,Yu=Ht?z(it[3].params[1]):n,Xu=ne?z(it[4].params[1]):n,Qu=ie?z(it[5].params[1]):n;for(let xt=0;xt<it.length;++xt)it[xt].implementation=W(it[xt].params,it[xt].fn);let ta=Nt?it[0].implementation:i,ea=kt?it[1].implementation:i,ra=Gt?it[2].implementation:i,na=Ht?it[3].implementation:i,ia=ne?it[4].implementation:i,ua=ie?it[5].implementation:i,aa=Nt?it[0].params.length:-1,oa=kt?it[1].params.length:-1,sa=Gt?it[2].params.length:-1,fa=Ht?it[3].params.length:-1,la=ne?it[4].params.length:-1,ca=ie?it[5].params.length:-1,pa=Oe?6:0,ha=it.length,da=it.map(xt=>xt.test),ma=it.map(xt=>xt.implementation),va=function(){for(let xt=pa;xt<ha;xt++)if(da[xt](arguments))return ma[xt].apply(this,arguments);return m.onMismatch(B,arguments,it)};function Ge(xt,ce){return arguments.length===aa&&fr(xt)&&Ju(ce)?ta.apply(this,arguments):arguments.length===oa&&Ku(xt)&&Gu(ce)?ea.apply(this,arguments):arguments.length===sa&&Wu(xt)&&Vu(ce)?ra.apply(this,arguments):arguments.length===fa&&Zu(xt)&&Yu(ce)?na.apply(this,arguments):arguments.length===la&&Lu(xt)&&Xu(ce)?ia.apply(this,arguments):arguments.length===ca&&Hu(xt)&&Qu(ce)?ua.apply(this,arguments):va.apply(this,arguments)}try{Object.defineProperty(Ge,"name",{value:B})}catch{}return Ge.signatures=X,Ge._typedFunctionData={signatures:it,signatureMap:bt},Ge}function ht(B,T,j){throw K(B,T,j)}function dt(B){return Dt(B,0,B.length-1)}function ot(B){return B[B.length-1]}function Dt(B,T,j){return Array.prototype.slice.call(B,T,j)}function wt(B,T){for(let j=0;j<B.length;j++)if(T(B[j]))return B[j]}function At(B,T){return Array.prototype.concat.apply([],B.map(T))}function Et(){let B=dt(arguments).map(j=>C(_(j))),T=ot(arguments);if(typeof T!="function")throw new TypeError("Callback function expected as last argument");return qt(B,T)}function qt(B,T){return{referTo:{references:B,callback:T}}}function $t(B){if(typeof B!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:B}}}function Tt(B){return B&&typeof B.referTo=="object"&&Array.isArray(B.referTo.references)&&typeof B.referTo.callback=="function"}function Lt(B){return B&&typeof B.referToSelf=="object"&&typeof B.referToSelf.callback=="function"}function jt(B,T){if(!B)return T;if(T&&T!==B){let j=new Error("Function names do not match (expected: "+B+", actual: "+T+")");throw j.data={actual:T,expected:B},j}return B}function re(B){let T;for(let j in B)Object.prototype.hasOwnProperty.call(B,j)&&(E(B[j])||typeof B[j].signature=="string")&&(T=jt(T,B[j].name));return T}function Ne(B,T){let j;for(j in T)if(Object.prototype.hasOwnProperty.call(T,j)){if(j in B&&T[j]!==B[j]){let $=new Error('Signature "'+j+'" is defined twice');throw $.data={signature:j,sourceFunction:T[j],destFunction:B[j]},$}B[j]=T[j]}}let Wr=m;m=function(B){let T=typeof B=="string",j=T?1:0,$=T?B:"",X={};for(let H=j;H<arguments.length;++H){let ut=arguments[H],Q={},st;if(typeof ut=="function"?(st=ut.name,typeof ut.signature=="string"?Q[ut.signature]=ut:E(ut)&&(Q=ut.signatures)):l(ut)&&(Q=ut,T||(st=re(ut))),Object.keys(Q).length===0){let it=new TypeError("Argument to 'typed' at index "+H+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw it.data={index:H,argument:ut},it}T||($=jt($,st)),Ne(X,Q)}return pt($||"",X)},m.create=s,m.createCount=Wr.createCount,m.onMismatch=ht,m.throwMismatchError=ht,m.createError=K,m.clear=v,m.clearConversions=w,m.addTypes=g,m._findType=h,m.referTo=Et,m.referToSelf=$t,m.convert=F,m.findSignature=D,m.find=A,m.isTypedFunction=E,m.warnAgainstDeprecatedThis=!0,m.addType=function(B,T){let j="any";T!==!1&&u.has("Object")&&(j="Object"),m.addTypes([B],j)};function ze(B){if(!B||typeof B.from!="string"||typeof B.to!="string"||typeof B.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(B.to===B.from)throw new SyntaxError('Illegal to define conversion from "'+B.from+'" to itself.')}return m.addConversion=function(B){ze(B);let T=h(B.to);if(T.conversionsTo.every(function(j){return j.from!==B.from}))T.conversionsTo.push({from:B.from,convert:B.convert,index:c++});else throw new Error('There is already a conversion from "'+B.from+'" to "'+T.name+'"')},m.addConversions=function(B){B.forEach(m.addConversion)},m.removeConversion=function(B){ze(B);let T=h(B.to),j=wt(T.conversionsTo,X=>X.from===B.from);if(!j)throw new Error("Attempt to remove nonexistent conversion from "+B.from+" to "+B.to);if(j.convert!==B.convert)throw new Error("Conversion to remove does not match existing conversion");let $=T.conversionsTo.indexOf(j);T.conversionsTo.splice($,1)},m.resolve=function(B,T){if(!E(B))throw new TypeError(a);let j=B._typedFunctionData.signatures;for(let $=0;$<j.length;++$)if(j[$].test(T))return j[$];return null},m}var d=s();return d})}),_a=Sr((t,e)=>{(function(r){var n=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},i=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var f=Math.PI/4;if(-f>u||u>f)return Math.cos(u)-1;var c=u*u;return c*(c*(c*(c*(c*(c*(c*(c/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(u,f){var c=Math.abs(u),m=Math.abs(f);return c<3e3&&m<3e3?Math.sqrt(c*c+m*m):(c<m?(c=m,m=u/f):m=f/u,c*Math.sqrt(1+m*m))},d=function(){throw SyntaxError("Invalid Param")};function l(u,f){var c=Math.abs(u),m=Math.abs(f);return u===0?Math.log(m):f===0?Math.log(c):c<3e3&&m<3e3?Math.log(u*u+f*f)*.5:(u=u/2,f=f/2,.5*Math.log(u*u+f*f)+Math.LN2)}var p=function(u,f){var c={re:0,im:0};if(u==null)c.re=c.im=0;else if(f!==void 0)c.re=u,c.im=f;else switch(typeof u){case"object":if("im"in u&&"re"in u)c.re=u.re,c.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return o.INFINITY;c.re=u.abs*Math.cos(u.arg),c.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return o.INFINITY;c.re=u.r*Math.cos(u.phi),c.im=u.r*Math.sin(u.phi)}else u.length===2?(c.re=u[0],c.im=u[1]):d();break;case"string":c.im=c.re=0;var m=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,g=0;m===null&&d();for(var v=0;v<m.length;v++){var w=m[v];w===" "||w==="	"||w===`
`||(w==="+"?h++:w==="-"?g++:w==="i"||w==="I"?(h+g===0&&d(),m[v+1]!==" "&&!isNaN(m[v+1])?(c.im+=parseFloat((g%2?"-":"")+m[v+1]),v++):c.im+=parseFloat((g%2?"-":"")+"1"),h=g=0):((h+g===0||isNaN(w))&&d(),m[v+1]==="i"||m[v+1]==="I"?(c.im+=parseFloat((g%2?"-":"")+w),v++):c.re+=parseFloat((g%2?"-":"")+w),h=g=0))}h+g>0&&d();break;case"number":c.im=0,c.re=u;break;default:d()}return isNaN(c.re)||isNaN(c.im),c};function o(u,f){if(!(this instanceof o))return new o(u,f);var c=p(u,f);this.re=c.re,this.im=c.im}o.prototype={re:0,im:0,sign:function(){var u=this.abs();return new o(this.re/u,this.im/u)},add:function(u,f){var c=new o(u,f);return this.isInfinite()&&c.isInfinite()?o.NAN:this.isInfinite()||c.isInfinite()?o.INFINITY:new o(this.re+c.re,this.im+c.im)},sub:function(u,f){var c=new o(u,f);return this.isInfinite()&&c.isInfinite()?o.NAN:this.isInfinite()||c.isInfinite()?o.INFINITY:new o(this.re-c.re,this.im-c.im)},mul:function(u,f){var c=new o(u,f);return this.isInfinite()&&c.isZero()||this.isZero()&&c.isInfinite()?o.NAN:this.isInfinite()||c.isInfinite()?o.INFINITY:c.im===0&&this.im===0?new o(this.re*c.re,0):new o(this.re*c.re-this.im*c.im,this.re*c.im+this.im*c.re)},div:function(u,f){var c=new o(u,f);if(this.isZero()&&c.isZero()||this.isInfinite()&&c.isInfinite())return o.NAN;if(this.isInfinite()||c.isZero())return o.INFINITY;if(this.isZero()||c.isInfinite())return o.ZERO;u=this.re,f=this.im;var m=c.re,h=c.im,g,v;return h===0?new o(u/m,f/m):Math.abs(m)<Math.abs(h)?(v=m/h,g=m*v+h,new o((u*v+f)/g,(f*v-u)/g)):(v=h/m,g=h*v+m,new o((u+f*v)/g,(f-u*v)/g))},pow:function(u,f){var c=new o(u,f);if(u=this.re,f=this.im,c.isZero())return o.ONE;if(c.im===0){if(f===0&&u>0)return new o(Math.pow(u,c.re),0);if(u===0)switch((c.re%4+4)%4){case 0:return new o(Math.pow(f,c.re),0);case 1:return new o(0,Math.pow(f,c.re));case 2:return new o(-Math.pow(f,c.re),0);case 3:return new o(0,-Math.pow(f,c.re))}}if(u===0&&f===0&&c.re>0&&c.im>=0)return o.ZERO;var m=Math.atan2(f,u),h=l(u,f);return u=Math.exp(c.re*h-c.im*m),f=c.im*h+c.re*m,new o(u*Math.cos(f),u*Math.sin(f))},sqrt:function(){var u=this.re,f=this.im,c=this.abs(),m,h;if(u>=0){if(f===0)return new o(Math.sqrt(u),0);m=.5*Math.sqrt(2*(c+u))}else m=Math.abs(f)/Math.sqrt(2*(c-u));return u<=0?h=.5*Math.sqrt(2*(c-u)):h=Math.abs(f)/Math.sqrt(2*(c+u)),new o(m,f<0?-h:h)},exp:function(){var u=Math.exp(this.re);return this.im,new o(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,f=this.im;return new o(Math.expm1(u)*Math.cos(f)+a(f),Math.exp(u)*Math.sin(f))},log:function(){var u=this.re,f=this.im;return new o(l(u,f),Math.atan2(f,u))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,f=this.im;return new o(Math.sin(u)*n(f),Math.cos(u)*i(f))},cos:function(){var u=this.re,f=this.im;return new o(Math.cos(u)*n(f),-Math.sin(u)*i(f))},tan:function(){var u=2*this.re,f=2*this.im,c=Math.cos(u)+n(f);return new o(Math.sin(u)/c,i(f)/c)},cot:function(){var u=2*this.re,f=2*this.im,c=Math.cos(u)-n(f);return new o(-Math.sin(u)/c,i(f)/c)},sec:function(){var u=this.re,f=this.im,c=.5*n(2*f)+.5*Math.cos(2*u);return new o(Math.cos(u)*n(f)/c,Math.sin(u)*i(f)/c)},csc:function(){var u=this.re,f=this.im,c=.5*n(2*f)-.5*Math.cos(2*u);return new o(Math.sin(u)*n(f)/c,-Math.cos(u)*i(f)/c)},asin:function(){var u=this.re,f=this.im,c=new o(f*f-u*u+1,-2*u*f).sqrt(),m=new o(c.re-f,c.im+u).log();return new o(m.im,-m.re)},acos:function(){var u=this.re,f=this.im,c=new o(f*f-u*u+1,-2*u*f).sqrt(),m=new o(c.re-f,c.im+u).log();return new o(Math.PI/2-m.im,m.re)},atan:function(){var u=this.re,f=this.im;if(u===0){if(f===1)return new o(0,1/0);if(f===-1)return new o(0,-1/0)}var c=u*u+(1-f)*(1-f),m=new o((1-f*f-u*u)/c,-2*u/c).log();return new o(-.5*m.im,.5*m.re)},acot:function(){var u=this.re,f=this.im;if(f===0)return new o(Math.atan2(1,u),0);var c=u*u+f*f;return c!==0?new o(u/c,-f/c).atan():new o(u!==0?u/0:0,f!==0?-f/0:0).atan()},asec:function(){var u=this.re,f=this.im;if(u===0&&f===0)return new o(0,1/0);var c=u*u+f*f;return c!==0?new o(u/c,-f/c).acos():new o(u!==0?u/0:0,f!==0?-f/0:0).acos()},acsc:function(){var u=this.re,f=this.im;if(u===0&&f===0)return new o(Math.PI/2,1/0);var c=u*u+f*f;return c!==0?new o(u/c,-f/c).asin():new o(u!==0?u/0:0,f!==0?-f/0:0).asin()},sinh:function(){var u=this.re,f=this.im;return new o(i(u)*Math.cos(f),n(u)*Math.sin(f))},cosh:function(){var u=this.re,f=this.im;return new o(n(u)*Math.cos(f),i(u)*Math.sin(f))},tanh:function(){var u=2*this.re,f=2*this.im,c=n(u)+Math.cos(f);return new o(i(u)/c,Math.sin(f)/c)},coth:function(){var u=2*this.re,f=2*this.im,c=n(u)-Math.cos(f);return new o(i(u)/c,-Math.sin(f)/c)},csch:function(){var u=this.re,f=this.im,c=Math.cos(2*f)-n(2*u);return new o(-2*i(u)*Math.cos(f)/c,2*n(u)*Math.sin(f)/c)},sech:function(){var u=this.re,f=this.im,c=Math.cos(2*f)+n(2*u);return new o(2*n(u)*Math.cos(f)/c,-2*i(u)*Math.sin(f)/c)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var f=this.asin();return this.re=-this.im,this.im=u,u=f.re,f.re=-f.im,f.im=u,f},acosh:function(){var u=this.acos();if(u.im<=0){var f=u.re;u.re=-u.im,u.im=f}else{var f=u.im;u.im=-u.re,u.re=f}return u},atanh:function(){var u=this.re,f=this.im,c=u>1&&f===0,m=1-u,h=1+u,g=m*m+f*f,v=g!==0?new o((h*m-f*f)/g,(f*m+h*f)/g):new o(u!==-1?u/0:0,f!==0?f/0:0),w=v.re;return v.re=l(v.re,v.im)/2,v.im=Math.atan2(v.im,w)/2,c&&(v.im=-v.im),v},acoth:function(){var u=this.re,f=this.im;if(u===0&&f===0)return new o(0,Math.PI/2);var c=u*u+f*f;return c!==0?new o(u/c,-f/c).atanh():new o(u!==0?u/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var u=this.re,f=this.im;if(f===0)return new o(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var c=u*u+f*f;return c!==0?new o(u/c,-f/c).asinh():new o(u!==0?u/0:0,f!==0?-f/0:0).asinh()},asech:function(){var u=this.re,f=this.im;if(this.isZero())return o.INFINITY;var c=u*u+f*f;return c!==0?new o(u/c,-f/c).acosh():new o(u!==0?u/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var u=this.re,f=this.im,c=u*u+f*f;return new o(u/c,-f/c)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new o(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new o(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new o(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,f){var c=new o(u,f);return Math.abs(c.re-this.re)<=o.EPSILON&&Math.abs(c.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var u=this.re,f=this.im,c="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<o.EPSILON&&(u=0),Math.abs(f)<o.EPSILON&&(f=0),f===0?c+u:(u!==0?(c+=u,c+=" ",f<0?(f=-f,c+="-"):c+="+",c+=" "):f<0&&(f=-f,c+="-"),f!==1&&(c+=f),c+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return o}):typeof t=="object"?(Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,e.exports=o):r.Complex=o})(t)}),Ma=Sr((t,e)=>{(function(r){var n=2e3,i={s:1,n:0,d:1};function a(v,w){if(isNaN(v=parseInt(v,10)))throw h();return v*w}function s(v,w){if(w===0)throw m();var y=Object.create(c.prototype);y.s=v<0?-1:1,v=v<0?-v:v;var E=f(v,w);return y.n=v/E,y.d=w/E,y}function d(v){for(var w={},y=v,E=2,D=4;D<=y;){for(;y%E===0;)y/=E,w[E]=(w[E]||0)+1;D+=1+2*E++}return y!==v?y>1&&(w[y]=(w[y]||0)+1):w[v]=(w[v]||0)+1,w}var l=function(v,w){var y=0,E=1,D=1,A=0,F=0,C=0,x=1,M=1,b=0,_=1,S=1,z=1,O=1e7,I;if(v!=null)if(w!==void 0){if(y=v,E=w,D=y*E,y%1!==0||E%1!==0)throw g()}else switch(typeof v){case"object":{if("d"in v&&"n"in v)y=v.n,E=v.d,"s"in v&&(y*=v.s);else if(0 in v)y=v[0],1 in v&&(E=v[1]);else throw h();D=y*E;break}case"number":{if(v<0&&(D=v,v=-v),v%1===0)y=v;else if(v>0){for(v>=1&&(M=Math.pow(10,Math.floor(1+Math.log(v)/Math.LN10)),v/=M);_<=O&&z<=O;)if(I=(b+S)/(_+z),v===I){_+z<=O?(y=b+S,E=_+z):z>_?(y=S,E=z):(y=b,E=_);break}else v>I?(b+=S,_+=z):(S+=b,z+=_),_>O?(y=S,E=z):(y=b,E=_);y*=M}else(isNaN(v)||isNaN(w))&&(E=y=NaN);break}case"string":{if(_=v.match(/\d+|./g),_===null)throw h();if(_[b]==="-"?(D=-1,b++):_[b]==="+"&&b++,_.length===b+1?F=a(_[b++],D):_[b+1]==="."||_[b]==="."?(_[b]!=="."&&(A=a(_[b++],D)),b++,(b+1===_.length||_[b+1]==="("&&_[b+3]===")"||_[b+1]==="'"&&_[b+3]==="'")&&(F=a(_[b],D),x=Math.pow(10,_[b].length),b++),(_[b]==="("&&_[b+2]===")"||_[b]==="'"&&_[b+2]==="'")&&(C=a(_[b+1],D),M=Math.pow(10,_[b+1].length)-1,b+=3)):_[b+1]==="/"||_[b+1]===":"?(F=a(_[b],D),x=a(_[b+2],1),b+=3):_[b+3]==="/"&&_[b+1]===" "&&(A=a(_[b],D),F=a(_[b+2],D),x=a(_[b+4],1),b+=5),_.length<=b){E=x*M,D=y=C+E*A+M*F;break}}default:throw h()}if(E===0)throw m();i.s=D<0?-1:1,i.n=Math.abs(y),i.d=Math.abs(E)};function p(v,w,y){for(var E=1;w>0;v=v*v%y,w>>=1)w&1&&(E=E*v%y);return E}function o(v,w){for(;w%2===0;w/=2);for(;w%5===0;w/=5);if(w===1)return 0;for(var y=10%w,E=1;y!==1;E++)if(y=y*10%w,E>n)return 0;return E}function u(v,w,y){for(var E=1,D=p(10,y,w),A=0;A<300;A++){if(E===D)return A;E=E*10%w,D=D*10%w}return 0}function f(v,w){if(!v)return w;if(!w)return v;for(;;){if(v%=w,!v)return w;if(w%=v,!w)return v}}function c(v,w){if(l(v,w),this instanceof c)v=f(i.d,i.n),this.s=i.s,this.n=i.n/v,this.d=i.d/v;else return s(i.s*i.n,i.d)}var m=function(){return new Error("Division by Zero")},h=function(){return new Error("Invalid argument")},g=function(){return new Error("Parameters must be integer")};c.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(v,w){return l(v,w),s(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(v,w){return l(v,w),s(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(v,w){return l(v,w),s(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(v,w){return l(v,w),s(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(v,w){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(v===void 0)return s(this.s*this.n%this.d,1);if(l(v,w),i.n===0&&this.d===0)throw m();return s(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(v,w){return l(v,w),s(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(v,w){return l(v,w),i.n===0&&this.n===0?s(0,1):s(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):s(Math.ceil(v*this.s*this.n/this.d),v)},floor:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):s(Math.floor(v*this.s*this.n/this.d),v)},round:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):s(Math.round(v*this.s*this.n/this.d),v)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(v,w){if(l(v,w),i.d===1)return i.s<0?s(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):s(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var y=d(this.n),E=d(this.d),D=1,A=1;for(var F in y)if(F!=="1"){if(F==="0"){D=0;break}if(y[F]*=i.n,y[F]%i.d===0)y[F]/=i.d;else return null;D*=Math.pow(F,y[F])}for(var F in E)if(F!=="1"){if(E[F]*=i.n,E[F]%i.d===0)E[F]/=i.d;else return null;A*=Math.pow(F,E[F])}return i.s<0?s(A,D):s(D,A)},equals:function(v,w){return l(v,w),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(v,w){l(v,w);var y=this.s*this.n*i.d-i.s*i.n*this.d;return(0<y)-(y<0)},simplify:function(v){if(isNaN(this.n)||isNaN(this.d))return this;v=v||.001;for(var w=this.abs(),y=w.toContinued(),E=1;E<y.length;E++){for(var D=s(y[E-1],1),A=E-2;A>=0;A--)D=D.inverse().add(y[A]);if(Math.abs(D.sub(w).valueOf())<v)return D.mul(this.s)}return this},divisible:function(v,w){return l(v,w),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(v){var w,y="",E=this.n,D=this.d;return this.s<0&&(y+="-"),D===1?y+=E:(v&&(w=Math.floor(E/D))>0&&(y+=w,y+=" ",E%=D),y+=E,y+="/",y+=D),y},toLatex:function(v){var w,y="",E=this.n,D=this.d;return this.s<0&&(y+="-"),D===1?y+=E:(v&&(w=Math.floor(E/D))>0&&(y+=w,E%=D),y+="\\frac{",y+=E,y+="}{",y+=D,y+="}"),y},toContinued:function(){var v,w=this.n,y=this.d,E=[];if(isNaN(w)||isNaN(y))return E;do E.push(Math.floor(w/y)),v=w%y,w=y,y=v;while(w!==1);return E},toString:function(v){var w=this.n,y=this.d;if(isNaN(w)||isNaN(y))return"NaN";v=v||15;var E=o(w,y),D=u(w,y,E),A=this.s<0?"-":"";if(A+=w/y|0,w%=y,w*=10,w&&(A+="."),E){for(var F=D;F--;)A+=w/y|0,w%=y,w*=10;A+="(";for(var F=E;F--;)A+=w/y|0,w%=y,w*=10;A+=")"}else for(var F=v;w&&F--;)A+=w/y|0,w%=y,w*=10;return A}},typeof t=="object"?(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Fraction=c,e.exports=c):r.Fraction=c})(t)}),Ba=Sr((t,e)=>{e.exports=function r(n,i){var a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,d=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,p=/^0/,o=function(D){return r.insensitive&&(""+D).toLowerCase()||""+D},u=o(n).replace(s,"")||"",f=o(i).replace(s,"")||"",c=u.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(u.match(l),16)||c.length!==1&&u.match(d)&&Date.parse(u),g=parseInt(f.match(l),16)||h&&f.match(d)&&Date.parse(f)||null,v,w;if(g){if(h<g)return-1;if(h>g)return 1}for(var y=0,E=Math.max(c.length,m.length);y<E;y++){if(v=!(c[y]||"").match(p)&&parseFloat(c[y])||c[y]||0,w=!(m[y]||"").match(p)&&parseFloat(m[y])||m[y]||0,isNaN(v)!==isNaN(w))return isNaN(v)?1:-1;if(typeof v!=typeof w&&(v+="",w+=""),v<w)return-1;if(v>w)return 1}return 0}});function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pe.apply(this,arguments)}var qi={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Mt(t){return typeof t=="number"}function It(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function on(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function sn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function ji(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Qt(t){return typeof t=="string"}var Ft=Array.isArray;function _t(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function dr(t){return Array.isArray(t)||_t(t)}function mr(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Te(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Pi(t){return t&&t.constructor.prototype.isRange===!0||!1}function zr(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Sa(t){return typeof t=="boolean"}function Na(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function za(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Oa(t){return typeof t=="function"}function Ia(t){return t instanceof Date}function Ta(t){return t instanceof RegExp}function fn(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!on(t)&&!sn(t))}function Ra(t){return t===null}function ka(t){return t===void 0}function qa(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ja(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Pa(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ua(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function $a(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ka(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Wa(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Za(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function La(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ha(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ja(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ga(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Va(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ya(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xa(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Qa(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function to(t){return t&&t.constructor.prototype.isChain===!0||!1}function ae(t){var e=typeof t;return e==="object"?t===null?"null":It(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function yt(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return yt(r)});if(t instanceof Date)return new Date(t.valueOf());if(It(t))return t;if(fn(t))return eo(t,yt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function eo(t,e){var r={};for(var n in t)Qe(t,n)&&(r[n]=e(t[n]));return r}function ro(t,e){for(var r in e)Qe(e,r)&&(t[r]=e[r]);return t}function Ue(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Ue(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ue(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function Qe(t,e){return t&&Object.hasOwnProperty.call(t,e)}function no(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var io=["Matrix","Array"],uo=["number","BigNumber","Fraction"],Jt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(qi)};Pe(Jt,qi,{MATRIX_OPTIONS:io,NUMBER_OPTIONS:uo});var Fn=Nr(Ca(),1);function Bt(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var ao=Math.sign||function(t){return t>0?1:t<0?-1:0};function Lr(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Bt(r))throw new Error("size must be an integer");if(t>Rt(2,r-1)-1||t<-Rt(2,r-1))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Bt(t))throw new Error("Value must be an integer");t<0&&(t=t+Rt(2,r)),a="i".concat(r)}var s="";return t<0&&(t=-t,s="-"),"".concat(s).concat(i).concat(t.toString(e)).concat(a)}function Vr(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=Ui(e);switch(r){case"fixed":return so(t,n);case"exponential":return $i(t,n);case"engineering":return oo(t,n);case"bin":return Lr(t,2,i);case"oct":return Lr(t,8,i);case"hex":return Lr(t,16,i);case"auto":return fo(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ui(t){var e="auto",r,n;if(t!==void 0)if(Mt(t))r=t;else if(It(t))r=t.toNumber();else if(fn(t))t.precision!==void 0&&(r=bn(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=bn(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Or(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(d){return i-=d.length,""}).replace(/0*$/,"").split("").map(function(d){return parseInt(d)});return s.length===0&&(s.push(0),i++),{sign:r,coefficients:s,exponent:i}}function oo(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Or(t),n=Ir(r,e),i=n.exponent,a=n.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Mt(e))for(;e>a.length||i-s+1>a.length;)a.push(0);else for(var d=Math.abs(i-s)-(a.length-1),l=0;l<d;l++)a.push(0);for(var p=Math.abs(i-s),o=1;p>0;)o++,p--;var u=a.slice(o).join(""),f=Mt(e)&&u.length||u.match(/[1-9]/)?"."+u:"",c=a.slice(0,o).join("")+f+"e"+(i>=0?"+":"")+s.toString();return n.sign+c}function so(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Or(t),n=typeof e=="number"?Ir(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,s=a+(e||0);return i.length<s&&(i=i.concat(ke(s-i.length))),a<0&&(i=ke(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function $i(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Or(t),n=e?Ir(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(ke(e-i.length)));var s=i.shift();return n.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function fo(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=Cn(r==null?void 0:r.lowerExp,-3),i=Cn(r==null?void 0:r.upperExp,5),a=Or(t),s=e?Ir(a,e):a;if(s.exponent<n||s.exponent>=i)return $i(t,e);var d=s.coefficients,l=s.exponent;d.length<e&&(d=d.concat(ke(e-d.length))),d=d.concat(ke(l-d.length+1+(d.length<e?e-d.length:0))),d=ke(-l).concat(d);var p=l>0?l:0;return p<d.length-1&&d.splice(p+1,0,"."),s.sign+d.join("")}function Ir(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function ke(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function lo(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var co=Number.EPSILON||2220446049250313e-31;function de(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<=co?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}function bn(t,e){if(Mt(t))return t;if(It(t))return t.toNumber();e()}function Cn(t,e){return Mt(t)?t:It(t)?t.toNumber():e}function Hr(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Bt(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function po(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Ui(e);switch(r){case"fixed":return mo(t,n);case"exponential":return _n(t,n);case"engineering":return ho(t,n);case"bin":return Hr(t,2,i);case"oct":return Hr(t,8,i);case"hex":return Hr(t,16,i);case"auto":{var a=Mn(e==null?void 0:e.lowerExp,-3),s=Mn(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var d,l=t.toSignificantDigits(n),p=l.e;return p>=a&&p<s?d=l.toFixed():d=_n(t,n),d.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],u=arguments[4];return o!=="."?o+u:u})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ho(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var s=t.constructor;a=new s(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function _n(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function mo(t,e){return t.toFixed(e)}function Mn(t,e){return Mt(t)?t:It(t)?t.toNumber():e}function Ot(t,e){var r=vo(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function vo(t,e){if(typeof t=="number")return Vr(t,e);if(It(t))return po(t,e);if(Do(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return Ki(t,e);if(Qt(t))return Bn(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>Bn(n)+": "+Ot(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function Bn(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in Sn?Sn[i]:i,n++}return'"'+r+'"'}var Sn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Ki(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Ki(t[i],e);return r+="]",r}else return Ot(t,e)}function Do(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function gt(t,e,r){if(!(this instanceof gt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}gt.prototype=new RangeError;gt.prototype.constructor=RangeError;gt.prototype.name="DimensionError";gt.prototype.isDimensionError=!0;function _e(t,e,r){if(!(this instanceof _e))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}_e.prototype=new RangeError;_e.prototype.constructor=RangeError;_e.prototype.name="IndexError";_e.prototype.isIndexError=!0;function zt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Wi(t,e,r){var n,i=t.length;if(i!==e[r])throw new gt(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var s=t[n];if(!Array.isArray(s))throw new gt(e.length-1,e.length,"<");Wi(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new gt(e.length+1,e.length,">")}function Nn(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new gt(t.length,0)}else Wi(t,e,0)}function vr(t,e){var r=t.isMatrix?t._size:zt(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new gt(i,r[a])})}function Ct(t,e){if(t!==void 0){if(!Mt(t)||!Bt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new _e(t,e)}}function $e(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Ft(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Qt(r)&&r.length===0)return!0}return!1}function Dr(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Mt(i)||!Bt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ot(e)+")")}),(Mt(t)||It(t))&&(t=[t]);var n=r!==void 0?r:0;return Yr(t,e,0,n),t}function Yr(t,e,r,n){var i,a,s=t.length,d=e[r],l=Math.min(s,d);if(t.length=d,r<e.length-1){var p=r+1;for(i=0;i<l;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Yr(a,e,p,n);for(i=l;i<d;i++)a=[],t[i]=a,Yr(a,e,p,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<d;i++)t[i]=n}}function ln(t,e){var r=qe(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new gt(0,n,"!=");e=cn(e,n);var i=Zi(e);if(n!==i)throw new gt(i,n,"!=");try{return go(r,e)}catch(a){throw a instanceof gt?new gt(i,n,"!="):a}}function cn(t,e){var r=Zi(t),n=t.slice(),i=-1,a=t.indexOf(i),s=t.indexOf(i,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var d=a>=0,l=e%r===0;if(d)if(l)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function Zi(t){return t.reduce((e,r)=>e*r,1)}function go(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var s=r.length/a,d=0;d<s;d++)n.push(r.slice(d*a,(d+1)*a));r=n}return r}function Li(t,e,r,n){var i=n||zt(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=Hi(t,e,0);i.length<e;)i.push(1);return t}function Hi(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=Hi(t[n],e,a)}else for(var s=r;s<e;s++)t=[t];return t}function qe(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function zn(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function On(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function tr(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],s=Array.isArray(a);if(i===0&&s&&(n=a.length),s&&a.length!==n)return;var d=s?tr(a,e):e(a);if(r===void 0)r=d;else if(r!==d)return"mixed"}return r}function Ji(t,e,r,n){if(n<r){if(t.length!==e.length)throw new gt(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=Ji(t[a],e[a],r,n+1);return i}else return t.concat(e)}function Gi(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return Ji(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function yo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(f=>f.length),i=Math.max(...n),a=new Array(i).fill(null),s=0;s<e.length;s++)for(var d=e[s],l=n[s],p=0;p<l;p++){var o=i-l+p;d[p]>a[o]&&(a[o]=d[p])}for(var u=0;u<e.length;u++)gr(e[u],a);return a}function gr(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function In(t,e){var r=zt(t);if(Ue(r,e))return t;gr(r,e);var n=yo(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],s=xo(t);r.length<i&&(s=ln(s,a),r=zt(s));for(var d=0;d<i;d++)r[d]<n[d]&&(s=wo(s,n[d],d),r=zt(s));return s}function wo(t,e,r){return Gi(...Array(e).fill(t),r)}function xo(t){return Pe([],t)}function G(t,e,r,n){function i(a){var s=no(a,e.map(Fo));return Ao(t,e,a),r(s)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Ao(t,e,r){var n=e.filter(a=>!Eo(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Eo(t){return t&&t[0]==="?"}function Fo(t){return t&&t[0]==="?"?t.slice(1):t}function Vi(t,e){if(Qi(t)&&Xi(t,e))return t[e];throw typeof t[e]=="function"&&Co(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Yi(t,e,r){if(Qi(t)&&Xi(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function bo(t,e){return e in t}function Xi(t,e){return!t||typeof t!="object"?!1:Qe(_o,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Co(t,e){return t==null||typeof t[e]!="function"||Qe(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Qe(Mo,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Qi(t){return typeof t=="object"&&t&&t.constructor===Object}var _o={length:!0,name:!0},Mo={toString:!0,valueOf:!0,toLocaleString:!0},Bo=class{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return Vi(this.wrappedObject,t)}set(t,e){return Yi(this.wrappedObject,t,e),this}has(t){return bo(this.wrappedObject,t)}entries(){return So(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}};function So(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function No(t){return t?t instanceof Map||t instanceof Bo||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}var tu=function(){return tu=Fn.default.create,Fn.default},zo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Oo=G("typed",zo,function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,a=tu();return a.clear(),a.addTypes([{name:"number",test:Mt},{name:"Complex",test:on},{name:"BigNumber",test:It},{name:"Fraction",test:sn},{name:"Unit",test:ji},{name:"identifier",test:s=>Qt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Qt},{name:"Chain",test:to},{name:"Array",test:Ft},{name:"Matrix",test:_t},{name:"DenseMatrix",test:mr},{name:"SparseMatrix",test:Te},{name:"Range",test:Pi},{name:"Index",test:zr},{name:"boolean",test:Sa},{name:"ResultSet",test:Na},{name:"Help",test:za},{name:"function",test:Oa},{name:"Date",test:Ia},{name:"RegExp",test:Ta},{name:"null",test:Ra},{name:"undefined",test:ka},{name:"AccessorNode",test:qa},{name:"ArrayNode",test:ja},{name:"AssignmentNode",test:Pa},{name:"BlockNode",test:Ua},{name:"ConditionalNode",test:$a},{name:"ConstantNode",test:Ka},{name:"FunctionNode",test:Za},{name:"FunctionAssignmentNode",test:Wa},{name:"IndexNode",test:La},{name:"Node",test:Ha},{name:"ObjectNode",test:Ja},{name:"OperatorNode",test:Ga},{name:"ParenthesisNode",test:Va},{name:"RangeNode",test:Ya},{name:"RelationalNode",test:Xa},{name:"SymbolNode",test:Qa},{name:"Map",test:No},{name:"Object",test:fn}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(e||Jr(s),lo(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new e(s)}},{from:"number",to:"Complex",convert:function(s){return r||cr(s),new r(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return r||cr(s),new r(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return r||cr(s),new r(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||Gr(s);var d=new i(s);if(d.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return d}},{from:"string",to:"number",convert:function(s){var d=Number(s);if(isNaN(d))throw new Error('Cannot convert "'+s+'" to a number');return d}},{from:"string",to:"BigNumber",convert:function(s){e||Jr(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){i||Gr(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){r||cr(s);try{return new r(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return e||Jr(s),new e(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||Gr(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return n||Io(),new n(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),a.onMismatch=(s,d,l)=>{var p=a.createError(s,d,l);if(["wrongType","mismatch"].includes(p.data.category)&&d.length===1&&dr(d[0])&&l.some(u=>!u.params.includes(","))){var o=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw o.data=p.data,o}throw p},a.onMismatch=(s,d,l)=>{var p=a.createError(s,d,l);if(["wrongType","mismatch"].includes(p.data.category)&&d.length===1&&dr(d[0])&&l.some(u=>!u.params.includes(","))){var o=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw o.data=p.data,o}throw p},a});function Jr(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function cr(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function Io(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Gr(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Re=9e15,Ee=1e9,Xr="0123456789abcdef",yr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Qr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Re,maxE:Re,crypto:!1},eu,he,mt=!0,Tr="[DecimalError] ",Ae=Tr+"Invalid argument: ",ru=Tr+"Precision limit exceeded",nu=Tr+"crypto unavailable",iu="[object Decimal]",Zt=Math.floor,Pt=Math.pow,To=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ro=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ko=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,uu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oe=1e7,ct=7,qo=9007199254740991,jo=yr.length-1,tn=wr.length-1,L={toStringTag:iu};L.absoluteValue=L.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),lt(t)};L.ceil=function(){return lt(new this.constructor(this),this.e+1,2)};L.clampedTo=L.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ae+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};L.comparedTo=L.cmp=function(t){var e,r,n,i,a=this,s=a.d,d=(t=new a.constructor(t)).d,l=a.s,p=t.s;if(!s||!d)return!l||!p?NaN:l!==p?l:s===d?0:!s^l<0?1:-1;if(!s[0]||!d[0])return s[0]?l:d[0]?-p:0;if(l!==p)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(n=s.length,i=d.length,e=0,r=n<i?n:i;e<r;++e)if(s[e]!==d[e])return s[e]>d[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};L.cosine=L.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ct,n.rounding=1,r=Po(n,lu(n,r)),n.precision=t,n.rounding=e,lt(he==2||he==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};L.cubeRoot=L.cbrt=function(){var t,e,r,n,i,a,s,d,l,p,o=this,u=o.constructor;if(!o.isFinite()||o.isZero())return new u(o);for(mt=!1,a=o.s*Pt(o.s*o,1/3),!a||Math.abs(a)==1/0?(r=Wt(o.d),t=o.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Pt(r,1/3),t=Zt((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new u(r),n.s=o.s):n=new u(a.toString()),s=(t=u.precision)+3;;)if(d=n,l=d.times(d).times(d),p=l.plus(o),n=St(p.plus(o).times(d),p.plus(l),s+2,1),Wt(d.d).slice(0,s)===(r=Wt(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(lt(d,t+1,0),d.times(d).times(d).eq(o))){n=d;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(lt(n,t+1,1),e=!n.times(n).times(n).eq(o));break}return mt=!0,lt(n,t,u.rounding,e)};L.decimalPlaces=L.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Zt(this.e/ct))*ct,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};L.dividedBy=L.div=function(t){return St(this,new this.constructor(t))};L.dividedToIntegerBy=L.divToInt=function(t){var e=this,r=e.constructor;return lt(St(e,new r(t),0,1,1),r.precision,r.rounding)};L.equals=L.eq=function(t){return this.cmp(t)===0};L.floor=function(){return lt(new this.constructor(this),this.e+1,3)};L.greaterThan=L.gt=function(t){return this.cmp(t)>0};L.greaterThanOrEqualTo=L.gte=function(t){var e=this.cmp(t);return e==1||e===0};L.hyperbolicCosine=L.cosh=function(){var t,e,r,n,i,a=this,s=a.constructor,d=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return d;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/kr(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Ke(s,1,a.times(e),new s(1),!0);for(var l,p=t,o=new s(8);p--;)l=a.times(a),a=d.minus(l.times(o.minus(l.times(o))));return lt(a,s.precision=r,s.rounding=n,!0)};L.hyperbolicSine=L.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Ke(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/kr(5,t)),i=Ke(a,2,i,i,!0);for(var s,d=new a(5),l=new a(16),p=new a(20);t--;)s=i.times(i),i=i.times(d.plus(s.times(l.times(s).plus(p))))}return a.precision=e,a.rounding=r,lt(i,e,r,!0)};L.hyperbolicTangent=L.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,St(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};L.inverseCosine=L.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?e.isNeg()?ue(r,i,a):new r(0):new r(NaN):e.isZero()?ue(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=ue(r,i+4,a).times(.5),r.precision=i,r.rounding=a,t.minus(e))};L.inverseHyperbolicCosine=L.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,mt=!1,r=r.times(r).minus(1).sqrt().plus(r),mt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};L.inverseHyperbolicSine=L.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,mt=!1,r=r.times(r).plus(1).sqrt().plus(r),mt=!0,n.precision=t,n.rounding=e,r.ln())};L.inverseHyperbolicTangent=L.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?lt(new a(i),t,e,!0):(a.precision=r=n-i.e,i=St(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};L.inverseSine=L.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=ue(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};L.inverseTangent=L.atan=function(){var t,e,r,n,i,a,s,d,l,p=this,o=p.constructor,u=o.precision,f=o.rounding;if(p.isFinite()){if(p.isZero())return new o(p);if(p.abs().eq(1)&&u+4<=tn)return s=ue(o,u+4,f).times(.25),s.s=p.s,s}else{if(!p.s)return new o(NaN);if(u+4<=tn)return s=ue(o,u+4,f).times(.5),s.s=p.s,s}for(o.precision=d=u+10,o.rounding=1,r=Math.min(28,d/ct+2|0),t=r;t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(mt=!1,e=Math.ceil(d/ct),n=1,l=p.times(p),s=new o(p),i=p;t!==-1;)if(i=i.times(l),a=s.minus(i.div(n+=2)),i=i.times(l),s=a.plus(i.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===a.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),mt=!0,lt(s,o.precision=u,o.rounding=f,!0)};L.isFinite=function(){return!!this.d};L.isInteger=L.isInt=function(){return!!this.d&&Zt(this.e/ct)>this.d.length-2};L.isNaN=function(){return!this.s};L.isNegative=L.isNeg=function(){return this.s<0};L.isPositive=L.isPos=function(){return this.s>0};L.isZero=function(){return!!this.d&&this.d[0]===0};L.lessThan=L.lt=function(t){return this.cmp(t)<0};L.lessThanOrEqualTo=L.lte=function(t){return this.cmp(t)<1};L.logarithm=L.log=function(t){var e,r,n,i,a,s,d,l,p=this,o=p.constructor,u=o.precision,f=o.rounding,c=5;if(t==null)t=new o(10),e=!0;else{if(t=new o(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new o(NaN);e=t.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new o(r&&!r[0]?-1/0:p.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(mt=!1,d=u+c,s=ye(p,d),n=e?xr(o,d+10):ye(t,d),l=St(s,n,d,1),er(l.d,i=u,f))do if(d+=10,s=ye(p,d),n=e?xr(o,d+10):ye(t,d),l=St(s,n,d,1),!a){+Wt(l.d).slice(i+1,i+15)+1==1e14&&(l=lt(l,u+1,0));break}while(er(l.d,i+=10,f));return mt=!0,lt(l,u,f)};L.minus=L.sub=function(t){var e,r,n,i,a,s,d,l,p,o,u,f,c=this,m=c.constructor;if(t=new m(t),!c.d||!t.d)return!c.s||!t.s?t=new m(NaN):c.d?t.s=-t.s:t=new m(t.d||c.s!==t.s?c:NaN),t;if(c.s!=t.s)return t.s=-t.s,c.plus(t);if(p=c.d,f=t.d,d=m.precision,l=m.rounding,!p[0]||!f[0]){if(f[0])t.s=-t.s;else if(p[0])t=new m(c);else return new m(l===3?-0:0);return mt?lt(t,d,l):t}if(r=Zt(t.e/ct),o=Zt(c.e/ct),p=p.slice(),a=o-r,a){for(u=a<0,u?(e=p,a=-a,s=f.length):(e=f,r=o,s=p.length),n=Math.max(Math.ceil(d/ct),s)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=p.length,s=f.length,u=n<s,u&&(s=n),n=0;n<s;n++)if(p[n]!=f[n]){u=p[n]<f[n];break}a=0}for(u&&(e=p,p=f,f=e,t.s=-t.s),s=p.length,n=f.length-s;n>0;--n)p[s++]=0;for(n=f.length;n>a;){if(p[--n]<f[n]){for(i=n;i&&p[--i]===0;)p[i]=oe-1;--p[i],p[n]+=oe}p[n]-=f[n]}for(;p[--s]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(t.d=p,t.e=Rr(p,r),mt?lt(t,d,l):t):new m(l===3?-0:0)};L.modulo=L.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?lt(new n(r),n.precision,n.rounding):(mt=!1,n.modulo==9?(e=St(r,t.abs(),0,3,1),e.s*=t.s):e=St(r,t,0,n.modulo,1),e=e.times(t),mt=!0,r.minus(e))};L.naturalExponential=L.exp=function(){return en(this)};L.naturalLogarithm=L.ln=function(){return ye(this)};L.negated=L.neg=function(){var t=new this.constructor(this);return t.s=-t.s,lt(t)};L.plus=L.add=function(t){var e,r,n,i,a,s,d,l,p,o,u=this,f=u.constructor;if(t=new f(t),!u.d||!t.d)return!u.s||!t.s?t=new f(NaN):u.d||(t=new f(t.d||u.s===t.s?u:NaN)),t;if(u.s!=t.s)return t.s=-t.s,u.minus(t);if(p=u.d,o=t.d,d=f.precision,l=f.rounding,!p[0]||!o[0])return o[0]||(t=new f(u)),mt?lt(t,d,l):t;if(a=Zt(u.e/ct),n=Zt(t.e/ct),p=p.slice(),i=a-n,i){for(i<0?(r=p,i=-i,s=o.length):(r=o,n=a,s=p.length),a=Math.ceil(d/ct),s=a>s?a+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=p.length,i=o.length,s-i<0&&(i=s,r=o,o=p,p=r),e=0;i;)e=(p[--i]=p[i]+o[i]+e)/oe|0,p[i]%=oe;for(e&&(p.unshift(e),++n),s=p.length;p[--s]==0;)p.pop();return t.d=p,t.e=Rr(p,n),mt?lt(t,d,l):t};L.precision=L.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ae+t);return r.d?(e=au(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};L.round=function(){var t=this,e=t.constructor;return lt(new e(t),t.e+1,e.rounding)};L.sine=L.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ct,n.rounding=1,r=$o(n,lu(n,r)),n.precision=t,n.rounding=e,lt(he>2?r.neg():r,t,e,!0)):new n(NaN)};L.squareRoot=L.sqrt=function(){var t,e,r,n,i,a,s=this,d=s.d,l=s.e,p=s.s,o=s.constructor;if(p!==1||!d||!d[0])return new o(!p||p<0&&(!d||d[0])?NaN:d?s:1/0);for(mt=!1,p=Math.sqrt(+s),p==0||p==1/0?(e=Wt(d),(e.length+l)%2==0&&(e+="0"),p=Math.sqrt(e),l=Zt((l+1)/2)-(l<0||l%2),p==1/0?e="5e"+l:(e=p.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new o(e)):n=new o(p.toString()),r=(l=o.precision)+3;;)if(a=n,n=a.plus(St(s,a,r+2,1)).times(.5),Wt(a.d).slice(0,r)===(e=Wt(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(lt(a,l+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(lt(n,l+1,1),t=!n.times(n).eq(s));break}return mt=!0,lt(n,l,o.rounding,t)};L.tangent=L.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=St(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,lt(he==2||he==4?r.neg():r,t,e,!0)):new n(NaN)};L.times=L.mul=function(t){var e,r,n,i,a,s,d,l,p,o=this,u=o.constructor,f=o.d,c=(t=new u(t)).d;if(t.s*=o.s,!f||!f[0]||!c||!c[0])return new u(!t.s||f&&!f[0]&&!c||c&&!c[0]&&!f?NaN:!f||!c?t.s/0:t.s*0);for(r=Zt(o.e/ct)+Zt(t.e/ct),l=f.length,p=c.length,l<p&&(a=f,f=c,c=a,s=l,l=p,p=s),a=[],s=l+p,n=s;n--;)a.push(0);for(n=p;--n>=0;){for(e=0,i=l+n;i>n;)d=a[i]+c[n]*f[i-n-1]+e,a[i--]=d%oe|0,e=d/oe|0;a[i]=(a[i]+e)%oe|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=Rr(a,r),mt?lt(t,u.precision,u.rounding):t};L.toBinary=function(t,e){return pn(this,2,t,e)};L.toDecimalPlaces=L.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Vt(t,0,Ee),e===void 0?e=n.rounding:Vt(e,0,8),lt(r,t+r.e+1,e))};L.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=le(n,!0):(Vt(t,0,Ee),e===void 0?e=i.rounding:Vt(e,0,8),n=lt(new i(n),t+1,e),r=le(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};L.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=le(i):(Vt(t,0,Ee),e===void 0?e=a.rounding:Vt(e,0,8),n=lt(new a(i),t+i.e+1,e),r=le(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};L.toFraction=function(t){var e,r,n,i,a,s,d,l,p,o,u,f,c=this,m=c.d,h=c.constructor;if(!m)return new h(c);if(p=r=new h(1),n=l=new h(0),e=new h(n),a=e.e=au(m)-c.e-1,s=a%ct,e.d[0]=Pt(10,s<0?ct+s:s),t==null)t=a>0?e:p;else{if(d=new h(t),!d.isInt()||d.lt(p))throw Error(Ae+d);t=d.gt(e)?a>0?e:p:d}for(mt=!1,d=new h(Wt(m)),o=h.precision,h.precision=a=m.length*ct*2;u=St(d,e,0,1,1),i=r.plus(u.times(n)),i.cmp(t)!=1;)r=n,n=i,i=p,p=l.plus(u.times(i)),l=i,i=e,e=d.minus(u.times(i)),d=i;return i=St(t.minus(r),n,0,1,1),l=l.plus(i.times(p)),r=r.plus(i.times(n)),l.s=p.s=c.s,f=St(p,n,a,1).minus(c).abs().cmp(St(l,r,a,1).minus(c).abs())<1?[p,n]:[l,r],h.precision=o,mt=!0,f};L.toHexadecimal=L.toHex=function(t,e){return pn(this,16,t,e)};L.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Vt(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(mt=!1,r=St(r,t,0,e,1).times(t),mt=!0,lt(r)):(t.s=r.s,r=t),r};L.toNumber=function(){return+this};L.toOctal=function(t,e){return pn(this,8,t,e)};L.toPower=L.pow=function(t){var e,r,n,i,a,s,d=this,l=d.constructor,p=+(t=new l(t));if(!d.d||!t.d||!d.d[0]||!t.d[0])return new l(Pt(+d,p));if(d=new l(d),d.eq(1))return d;if(n=l.precision,a=l.rounding,t.eq(1))return lt(d,n,a);if(e=Zt(t.e/ct),e>=t.d.length-1&&(r=p<0?-p:p)<=qo)return i=ou(l,d,r,n),t.s<0?new l(1).div(i):lt(i,n,a);if(s=d.s,s<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(s=1),d.e==0&&d.d[0]==1&&d.d.length==1)return d.s=s,d}return r=Pt(+d,p),e=r==0||!isFinite(r)?Zt(p*(Math.log("0."+Wt(d.d))/Math.LN10+d.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(mt=!1,l.rounding=d.s=1,r=Math.min(12,(e+"").length),i=en(t.times(ye(d,n+r)),n),i.d&&(i=lt(i,n+5,1),er(i.d,n,a)&&(e=n+10,i=lt(en(t.times(ye(d,e+r)),e),e+5,1),+Wt(i.d).slice(n+1,n+15)+1==1e14&&(i=lt(i,n+1,0)))),i.s=s,mt=!0,l.rounding=a,lt(i,n,a))};L.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=le(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Vt(t,1,Ee),e===void 0?e=i.rounding:Vt(e,0,8),n=lt(new i(n),t,e),r=le(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};L.toSignificantDigits=L.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Vt(t,1,Ee),e===void 0?e=n.rounding:Vt(e,0,8)),lt(new n(r),t,e)};L.toString=function(){var t=this,e=t.constructor,r=le(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};L.truncated=L.trunc=function(){return lt(new this.constructor(this),this.e+1,1)};L.valueOf=L.toJSON=function(){var t=this,e=t.constructor,r=le(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Wt(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ct-n.length,r&&(a+=De(r)),a+=n;s=t[e],n=s+"",r=ct-n.length,r&&(a+=De(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function Vt(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ae+t)}function er(t,e,r,n){var i,a,s,d;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=ct,i=0):(i=Math.ceil((e+1)/ct),e%=ct),a=Pt(10,ct-e),d=t[i]%a|0,n==null?e<3?(e==0?d=d/100|0:e==1&&(d=d/10|0),s=r<4&&d==99999||r>3&&d==49999||d==5e4||d==0):s=(r<4&&d+1==a||r>3&&d+1==a/2)&&(t[i+1]/a/100|0)==Pt(10,e-2)-1||(d==a/2||d==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?d=d/1e3|0:e==1?d=d/100|0:e==2&&(d=d/10|0),s=(n||r<4)&&d==9999||!n&&r>3&&d==4999):s=((n||r<4)&&d+1==a||!n&&r>3&&d+1==a/2)&&(t[i+1]/a/1e3|0)==Pt(10,e-3)-1,s}function pr(t,e,r){for(var n,i=[0],a,s=0,d=t.length;s<d;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Xr.indexOf(t.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function Po(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/kr(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Ke(t,1,e.times(i),new t(1));for(var a=r;a--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var St=function(){function t(n,i,a){var s,d=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+d,n[l]=s%a|0,d=s/a|0;return d&&n.unshift(d),n}function e(n,i,a,s){var d,l;if(a!=s)l=a>s?1:-1;else for(d=l=0;d<a;d++)if(n[d]!=i[d]){l=n[d]>i[d]?1:-1;break}return l}function r(n,i,a,s){for(var d=0;a--;)n[a]-=d,d=n[a]<i[a]?1:0,n[a]=d*s+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s,d,l){var p,o,u,f,c,m,h,g,v,w,y,E,D,A,F,C,x,M,b,_,S=n.constructor,z=n.s==i.s?1:-1,O=n.d,I=i.d;if(!O||!O[0]||!I||!I[0])return new S(!n.s||!i.s||(O?I&&O[0]==I[0]:!I)?NaN:O&&O[0]==0||!I?z*0:z/0);for(l?(c=1,o=n.e-i.e):(l=oe,c=ct,o=Zt(n.e/c)-Zt(i.e/c)),b=I.length,x=O.length,v=new S(z),w=v.d=[],u=0;I[u]==(O[u]||0);u++);if(I[u]>(O[u]||0)&&o--,a==null?(A=a=S.precision,s=S.rounding):d?A=a+(n.e-i.e)+1:A=a,A<0)w.push(1),m=!0;else{if(A=A/c+2|0,u=0,b==1){for(f=0,I=I[0],A++;(u<x||f)&&A--;u++)F=f*l+(O[u]||0),w[u]=F/I|0,f=F%I|0;m=f||u<x}else{for(f=l/(I[0]+1)|0,f>1&&(I=t(I,f,l),O=t(O,f,l),b=I.length,x=O.length),C=b,y=O.slice(0,b),E=y.length;E<b;)y[E++]=0;_=I.slice(),_.unshift(0),M=I[0],I[1]>=l/2&&++M;do f=0,p=e(I,y,b,E),p<0?(D=y[0],b!=E&&(D=D*l+(y[1]||0)),f=D/M|0,f>1?(f>=l&&(f=l-1),h=t(I,f,l),g=h.length,E=y.length,p=e(h,y,g,E),p==1&&(f--,r(h,b<g?_:I,g,l))):(f==0&&(p=f=1),h=I.slice()),g=h.length,g<E&&h.unshift(0),r(y,h,E,l),p==-1&&(E=y.length,p=e(I,y,b,E),p<1&&(f++,r(y,b<E?_:I,E,l))),E=y.length):p===0&&(f++,y=[0]),w[u++]=f,p&&y[0]?y[E++]=O[C]||0:(y=[O[C]],E=1);while((C++<x||y[0]!==void 0)&&A--);m=y[0]!==void 0}w[0]||w.shift()}if(c==1)v.e=o,eu=m;else{for(u=1,f=w[0];f>=10;f/=10)u++;v.e=u+o*c-1,lt(v,d?a+v.e+1:a,s,m)}return v}}();function lt(t,e,r,n){var i,a,s,d,l,p,o,u,f,c=t.constructor;t:if(e!=null){if(u=t.d,!u)return t;for(i=1,d=u[0];d>=10;d/=10)i++;if(a=e-i,a<0)a+=ct,s=e,o=u[f=0],l=o/Pt(10,i-s-1)%10|0;else if(f=Math.ceil((a+1)/ct),d=u.length,f>=d)if(n){for(;d++<=f;)u.push(0);o=l=0,i=1,a%=ct,s=a-ct+1}else break t;else{for(o=d=u[f],i=1;d>=10;d/=10)i++;a%=ct,s=a-ct+i,l=s<0?0:o/Pt(10,i-s-1)%10|0}if(n=n||e<0||u[f+1]!==void 0||(s<0?o:o%Pt(10,i-s-1)),p=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(a>0?s>0?o/Pt(10,i-s):0:u[f-1])%10&1||r==(t.s<0?8:7)),e<1||!u[0])return u.length=0,p?(e-=t.e+1,u[0]=Pt(10,(ct-e%ct)%ct),t.e=-e||0):u[0]=t.e=0,t;if(a==0?(u.length=f,d=1,f--):(u.length=f+1,d=Pt(10,ct-a),u[f]=s>0?(o/Pt(10,i-s)%Pt(10,s)|0)*d:0),p)for(;;)if(f==0){for(a=1,s=u[0];s>=10;s/=10)a++;for(s=u[0]+=d,d=1;s>=10;s/=10)d++;a!=d&&(t.e++,u[0]==oe&&(u[0]=1));break}else{if(u[f]+=d,u[f]!=oe)break;u[f--]=0,d=1}for(a=u.length;u[--a]===0;)u.pop()}return mt&&(t.e>c.maxE?(t.d=null,t.e=NaN):t.e<c.minE&&(t.e=0,t.d=[0])),t}function le(t,e,r){if(!t.isFinite())return fu(t);var n,i=t.e,a=Wt(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+De(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+De(-i-1)+a,r&&(n=r-s)>0&&(a+=De(n))):i>=s?(a+=De(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+De(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=De(n))),a}function Rr(t,e){var r=t[0];for(e*=ct;r>=10;r/=10)e++;return e}function xr(t,e,r){if(e>jo)throw mt=!0,r&&(t.precision=r),Error(ru);return lt(new t(yr),e,1,!0)}function ue(t,e,r){if(e>tn)throw Error(ru);return lt(new t(wr),e,r,!0)}function au(t){var e=t.length-1,r=e*ct+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function De(t){for(var e="";t--;)e+="0";return e}function ou(t,e,r,n){var i,a=new t(1),s=Math.ceil(n/ct+4);for(mt=!1;;){if(r%2&&(a=a.times(e),Rn(a.d,s)&&(i=!0)),r=Zt(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),Rn(e.d,s)}return mt=!0,a}function Tn(t){return t.d[t.d.length-1]&1}function su(t,e,r){for(var n,i=new t(e[0]),a=0;++a<e.length;)if(n=new t(e[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function en(t,e){var r,n,i,a,s,d,l,p=0,o=0,u=0,f=t.constructor,c=f.rounding,m=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(mt=!1,l=m):l=e,d=new f(.03125);t.e>-2;)t=t.times(d),u+=5;for(n=Math.log(Pt(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new f(1),f.precision=l;;){if(a=lt(a.times(t),l,1),r=r.times(++o),d=s.plus(St(a,r,l,1)),Wt(d.d).slice(0,l)===Wt(s.d).slice(0,l)){for(i=u;i--;)s=lt(s.times(s),l,1);if(e==null)if(p<3&&er(s.d,l-n,c,p))f.precision=l+=10,r=a=d=new f(1),o=0,p++;else return lt(s,f.precision=m,c,mt=!0);else return f.precision=m,s}s=d}}function ye(t,e){var r,n,i,a,s,d,l,p,o,u,f,c=1,m=10,h=t,g=h.d,v=h.constructor,w=v.rounding,y=v.precision;if(h.s<0||!g||!g[0]||!h.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:h.s!=1?NaN:g?0:h);if(e==null?(mt=!1,o=y):o=e,v.precision=o+=m,r=Wt(g),n=r.charAt(0),Math.abs(a=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Wt(h.d),n=r.charAt(0),c++;a=h.e,n>1?(h=new v("0."+r),a++):h=new v(n+"."+r.slice(1))}else return p=xr(v,o+2,y).times(a+""),h=ye(new v(n+"."+r.slice(1)),o-m).plus(p),v.precision=y,e==null?lt(h,y,w,mt=!0):h;for(u=h,l=s=h=St(h.minus(1),h.plus(1),o,1),f=lt(h.times(h),o,1),i=3;;){if(s=lt(s.times(f),o,1),p=l.plus(St(s,new v(i),o,1)),Wt(p.d).slice(0,o)===Wt(l.d).slice(0,o))if(l=l.times(2),a!==0&&(l=l.plus(xr(v,o+2,y).times(a+""))),l=St(l,new v(c),o,1),e==null)if(er(l.d,o-m,w,d))v.precision=o+=m,p=s=h=St(u.minus(1),u.plus(1),o,1),f=lt(h.times(h),o,1),i=d=1;else return lt(l,v.precision=y,w,mt=!0);else return v.precision=y,l;l=p,i+=2}}function fu(t){return String(t.s*t.s/0)}function rn(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ct;n<i;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),mt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Uo(t,e){var r,n,i,a,s,d,l,p,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),uu.test(e))return rn(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ro.test(e))r=16,e=e.toLowerCase();else if(To.test(e))r=2;else if(ko.test(e))r=8;else throw Error(Ae+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),s=a>=0,n=t.constructor,s&&(e=e.replace(".",""),d=e.length,a=d-a,i=ou(n,new n(r),a,a*2)),p=pr(e,r,oe),o=p.length-1,a=o;p[a]===0;--a)p.pop();return a<0?new n(t.s*0):(t.e=Rr(p,o),t.d=p,mt=!1,s&&(t=St(t,i,d*4)),l&&(t=t.times(Math.abs(l)<54?Pt(2,l):nr.pow(2,l))),mt=!0,t)}function $o(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Ke(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/kr(5,r)),e=Ke(t,2,e,e);for(var i,a=new t(5),s=new t(16),d=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(s.times(i).minus(d))));return e}function Ke(t,e,r,n,i){var a,s,d,l,p=t.precision,o=Math.ceil(p/ct);for(mt=!1,l=r.times(r),d=new t(n);;){if(s=St(d.times(l),new t(e++*e++),p,1),d=i?n.plus(s):n.minus(s),n=St(s.times(l),new t(e++*e++),p,1),s=d.plus(n),s.d[o]!==void 0){for(a=o;s.d[a]===d.d[a]&&a--;);if(a==-1)break}a=d,d=n,n=s,s=a}return mt=!0,s.d.length=o+1,s}function kr(t,e){for(var r=t;--e;)r*=t;return r}function lu(t,e){var r,n=e.s<0,i=ue(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return he=n?4:1,e;if(r=e.divToInt(i),r.isZero())he=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return he=Tn(r)?n?2:3:n?4:1,e;he=Tn(r)?n?1:4:n?3:2}return e.minus(i).abs()}function pn(t,e,r,n){var i,a,s,d,l,p,o,u,f,c=t.constructor,m=r!==void 0;if(m?(Vt(r,1,Ee),n===void 0?n=c.rounding:Vt(n,0,8)):(r=c.precision,n=c.rounding),!t.isFinite())o=fu(t);else{for(o=le(t),s=o.indexOf("."),m?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,s>=0&&(o=o.replace(".",""),f=new c(1),f.e=o.length-s,f.d=pr(le(f),10,i),f.e=f.d.length),u=pr(o,10,i),a=l=u.length;u[--l]==0;)u.pop();if(!u[0])o=m?"0p+0":"0";else{if(s<0?a--:(t=new c(t),t.d=u,t.e=a,t=St(t,f,r,n,0,i),u=t.d,a=t.e,p=eu),s=u[r],d=i/2,p=p||u[r+1]!==void 0,p=n<4?(s!==void 0||p)&&(n===0||n===(t.s<0?3:2)):s>d||s===d&&(n===4||p||n===6&&u[r-1]&1||n===(t.s<0?8:7)),u.length=r,p)for(;++u[--r]>i-1;)u[r]=0,r||(++a,u.unshift(1));for(l=u.length;!u[l-1];--l);for(s=0,o="";s<l;s++)o+=Xr.charAt(u[s]);if(m){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)o+="0";for(u=pr(o,i,e),l=u.length;!u[l-1];--l);for(s=1,o="1.";s<l;s++)o+=Xr.charAt(u[s])}else o=o.charAt(0)+"."+o.slice(1);o=o+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(++a>l)for(a-=l;a--;)o+="0";else a<l&&(o=o.slice(0,a)+"."+o.slice(a))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return t.s<0?"-"+o:o}function Rn(t,e){if(t.length>e)return t.length=e,!0}function Ko(t){return new this(t).abs()}function Wo(t){return new this(t).acos()}function Zo(t){return new this(t).acosh()}function Lo(t,e){return new this(t).plus(e)}function Ho(t){return new this(t).asin()}function Jo(t){return new this(t).asinh()}function Go(t){return new this(t).atan()}function Vo(t){return new this(t).atanh()}function Yo(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=ue(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?ue(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=ue(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(St(t,e,a,1)),e=ue(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(St(t,e,a,1)),r}function Xo(t){return new this(t).cbrt()}function Qo(t){return lt(t=new this(t),t.e+1,2)}function ts(t,e,r){return new this(t).clamp(e,r)}function es(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,Ee,"rounding",0,8,"toExpNeg",-Re,0,"toExpPos",0,Re,"maxE",0,Re,"minE",-Re,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=Qr[r]),(n=t[r])!==void 0)if(Zt(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ae+r+": "+n);if(r="crypto",i&&(this[r]=Qr[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(nu);else this[r]=!1;else throw Error(Ae+r+": "+n);return this}function rs(t){return new this(t).cos()}function ns(t){return new this(t).cosh()}function cu(t){var e,r,n;function i(a){var s,d,l,p=this;if(!(p instanceof i))return new i(a);if(p.constructor=i,kn(a)){p.s=a.s,mt?!a.d||a.e>i.maxE?(p.e=NaN,p.d=null):a.e<i.minE?(p.e=0,p.d=[0]):(p.e=a.e,p.d=a.d.slice()):(p.e=a.e,p.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){p.s=1/a<0?-1:1,p.e=0,p.d=[0];return}if(a<0?(a=-a,p.s=-1):p.s=1,a===~~a&&a<1e7){for(s=0,d=a;d>=10;d/=10)s++;mt?s>i.maxE?(p.e=NaN,p.d=null):s<i.minE?(p.e=0,p.d=[0]):(p.e=s,p.d=[a]):(p.e=s,p.d=[a]);return}else if(a*0!==0){a||(p.s=NaN),p.e=NaN,p.d=null;return}return rn(p,a.toString())}else if(l!=="string")throw Error(Ae+a);return(d=a.charCodeAt(0))===45?(a=a.slice(1),p.s=-1):(d===43&&(a=a.slice(1)),p.s=1),uu.test(a)?rn(p,a):Uo(p,a)}if(i.prototype=L,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=es,i.clone=cu,i.isDecimal=kn,i.abs=Ko,i.acos=Wo,i.acosh=Zo,i.add=Lo,i.asin=Ho,i.asinh=Jo,i.atan=Go,i.atanh=Vo,i.atan2=Yo,i.cbrt=Xo,i.ceil=Qo,i.clamp=ts,i.cos=rs,i.cosh=ns,i.div=is,i.exp=us,i.floor=as,i.hypot=os,i.ln=ss,i.log=fs,i.log10=cs,i.log2=ls,i.max=ps,i.min=hs,i.mod=ds,i.mul=ms,i.pow=vs,i.random=Ds,i.round=gs,i.sign=ys,i.sin=ws,i.sinh=xs,i.sqrt=As,i.sub=Es,i.sum=Fs,i.tan=bs,i.tanh=Cs,i.trunc=_s,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function is(t,e){return new this(t).div(e)}function us(t){return new this(t).exp()}function as(t){return lt(t=new this(t),t.e+1,3)}function os(){var t,e,r=new this(0);for(mt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return mt=!0,new this(1/0);r=e}return mt=!0,r.sqrt()}function kn(t){return t instanceof nr||t&&t.toStringTag===iu||!1}function ss(t){return new this(t).ln()}function fs(t,e){return new this(t).log(e)}function ls(t){return new this(t).log(2)}function cs(t){return new this(t).log(10)}function ps(){return su(this,arguments,"lt")}function hs(){return su(this,arguments,"gt")}function ds(t,e){return new this(t).mod(e)}function ms(t,e){return new this(t).mul(e)}function vs(t,e){return new this(t).pow(e)}function Ds(t){var e,r,n,i,a=0,s=new this(1),d=[];if(t===void 0?t=this.precision:Vt(t,1,Ee),n=Math.ceil(t/ct),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:d[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(d.push(i%1e7),a+=4);a=n/4}else throw Error(nu);else for(;a<n;)d[a++]=Math.random()*1e7|0;for(n=d[--a],t%=ct,n&&t&&(i=Pt(10,ct-t),d[a]=(n/i|0)*i);d[a]===0;a--)d.pop();if(a<0)r=0,d=[0];else{for(r=-1;d[0]===0;r-=ct)d.shift();for(n=1,i=d[0];i>=10;i/=10)n++;n<ct&&(r-=ct-n)}return s.e=r,s.d=d,s}function gs(t){return lt(t=new this(t),t.e+1,this.rounding)}function ys(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function ws(t){return new this(t).sin()}function xs(t){return new this(t).sinh()}function As(t){return new this(t).sqrt()}function Es(t,e){return new this(t).sub(e)}function Fs(){var t=0,e=arguments,r=new this(e[t]);for(mt=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return mt=!0,lt(r,this.precision,this.rounding)}function bs(t){return new this(t).tan()}function Cs(t){return new this(t).tanh()}function _s(t){return lt(t=new this(t),t.e+1,1)}L[Symbol.for("nodejs.util.inspect.custom")]=L.toString;L[Symbol.toStringTag]="Decimal";var nr=L.constructor=cu(Qr);yr=new nr(yr);wr=new nr(wr);var qn=nr,Ms="BigNumber",Bs=["?on","config"],Ss=G(Ms,Bs,t=>{var{on:e,config:r}=t,n=qn.clone({precision:r.precision,modulo:qn.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0}),Kt=Nr(_a(),1),Ns="Complex",zs=[],Os=G(Ns,zs,()=>(Object.defineProperty(Kt.default,"name",{value:"Complex"}),Kt.default.prototype.constructor=Kt.default,Kt.default.prototype.type="Complex",Kt.default.prototype.isComplex=!0,Kt.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Kt.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Kt.default.prototype.format=function(t){var e="",r=this.im,n=this.re,i=Vr(this.re,t),a=Vr(this.im,t),s=Mt(t)?t:t?t.precision:null;if(s!==null){var d=Math.pow(10,-s);Math.abs(n/r)<d&&(n=0),Math.abs(r/n)<d&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},Kt.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Kt.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Mt(r)){if(ji(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Mt(n))return new Kt.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Kt.default.prototype.valueOf=Kt.default.prototype.toString,Kt.default.fromJSON=function(t){return new Kt.default(t)},Kt.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Kt.default),{isClass:!0}),pe=Nr(Ma(),1),Is="Fraction",Ts=[],Rs=G(Is,Ts,()=>(Object.defineProperty(pe.default,"name",{value:"Fraction"}),pe.default.prototype.constructor=pe.default,pe.default.prototype.type="Fraction",pe.default.prototype.isFraction=!0,pe.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},pe.default.fromJSON=function(t){return new pe.default(t)},pe.default),{isClass:!0}),ks="Matrix",qs=[],js=G(ks,qs,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function pu(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var Ps="DenseMatrix",Us=["Matrix"],$s=G(Ps,Us,t=>{var{Matrix:e}=t;function r(o,u){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!Qt(u))throw new Error("Invalid datatype: "+u);if(_t(o))o.type==="DenseMatrix"?(this._data=yt(o._data),this._size=yt(o._size),this._datatype=u||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=u||o._datatype);else if(o&&Ft(o.data)&&Ft(o.size))this._data=o.data,this._size=o.size,Nn(this._data,this._size),this._datatype=u||o.datatype;else if(Ft(o))this._data=p(o),this._size=zt(this._data),Nn(this._data,this._size),this._datatype=u;else{if(o)throw new TypeError("Unsupported type of data ("+ae(o)+")");this._data=[],this._size=[0],this._datatype=u}}r.prototype=new e,r.prototype.createDenseMatrix=function(o,u){return new r(o,u)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return tr(this._data,ae)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(o,u){return new r(o,u)},r.prototype.subset=function(o,u,f){switch(arguments.length){case 1:return n(this,o);case 2:case 3:return a(this,o,u,f);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(o){if(!Ft(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new gt(o.length,this._size.length);for(var u=0;u<o.length;u++)Ct(o[u],this._size[u]);for(var f=this._data,c=0,m=o.length;c<m;c++){var h=o[c];Ct(h,f.length),f=f[h]}return f},r.prototype.set=function(o,u,f){if(!Ft(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new gt(o.length,this._size.length,"<");var c,m,h,g=o.map(function(w){return w+1});l(this,g,f);var v=this._data;for(c=0,m=o.length-1;c<m;c++)h=o[c],Ct(h,v.length),v=v[h];return h=o[o.length-1],Ct(h,v.length),v[h]=u,this};function n(o,u){if(!zr(u))throw new TypeError("Invalid index");var f=u.isScalar();if(f)return o.get(u.min());var c=u.size();if(c.length!==o._size.length)throw new gt(c.length,o._size.length);for(var m=u.min(),h=u.max(),g=0,v=o._size.length;g<v;g++)Ct(m[g],o._size[g]),Ct(h[g],o._size[g]);return new r(i(o._data,u,c.length,0),o._datatype)}function i(o,u,f,c){var m=c===f-1,h=u.dimension(c);return m?h.map(function(g){return Ct(g,o.length),o[g]}).valueOf():h.map(function(g){Ct(g,o.length);var v=o[g];return i(v,u,f,c+1)}).valueOf()}function a(o,u,f,c){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var m=u.size(),h=u.isScalar(),g;if(_t(f)?(g=f.size(),f=f.valueOf()):g=zt(f),h){if(g.length!==0)throw new TypeError("Scalar expected");o.set(u.min(),f,c)}else{if(!Ue(g,m))try{g.length===0?f=In([f],m):f=In(f,m),g=zt(f)}catch{}if(m.length<o._size.length)throw new gt(m.length,o._size.length,"<");if(g.length<m.length){for(var v=0,w=0;m[v]===1&&g[v]===1;)v++;for(;m[v]===1;)w++,v++;f=Li(f,m.length,w,g)}if(!Ue(m,g))throw new gt(m,g,">");var y=u.max().map(function(A){return A+1});l(o,y,c);var E=m.length,D=0;s(o._data,u,f,E,D)}return o}function s(o,u,f,c,m){var h=m===c-1,g=u.dimension(m);h?g.forEach(function(v,w){Ct(v),o[v]=f[w[0]]}):g.forEach(function(v,w){Ct(v),s(o[v],u,f[w[0]],c,m+1)})}r.prototype.resize=function(o,u,f){if(!dr(o))throw new TypeError("Array or Matrix expected");var c=o.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),m=f?this.clone():this;return d(m,c,u)};function d(o,u,f){if(u.length===0){for(var c=o._data;Ft(c);)c=c[0];return c}return o._size=u.slice(0),o._data=Dr(o._data,o._size,f),o}r.prototype.reshape=function(o,u){var f=u?this.clone():this;f._data=ln(f._data,o);var c=f._size.reduce((m,h)=>m*h);return f._size=cn(o,c),f};function l(o,u,f){for(var c=o._size.slice(0),m=!1;c.length<u.length;)c.push(0),m=!0;for(var h=0,g=u.length;h<g;h++)u[h]>c[h]&&(c[h]=u[h],m=!0);m&&d(o,c,f)}r.prototype.clone=function(){var o=new r({data:yt(this._data),size:yt(this._size),datatype:this._datatype});return o},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(o){var u=this,f=pu(o),c=function g(v,w){return Ft(v)?v.map(function(y,E){return g(y,w.concat(E))}):f===1?o(v):f===2?o(v,w):o(v,w,u)},m=c(this._data,[]),h=this._datatype!==void 0?tr(m,ae):void 0;return new r(m,h)},r.prototype.forEach=function(o){var u=this,f=function c(m,h){Ft(m)?m.forEach(function(g,v){c(g,h.concat(v))}):o(m,h,u)};f(this._data,[])},r.prototype[Symbol.iterator]=function*(){var o=function*u(f,c){if(Ft(f))for(var m=0;m<f.length;m++)yield*En(u(f[m],c.concat(m)));else yield{value:f,index:c}};yield*En(o(this._data,[]))},r.prototype.rows=function(){var o=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var c of f)o.push(new r([c],this._datatype));return o},r.prototype.columns=function(){var o=this,u=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var c=this._data,m=function(g){var v=c.map(w=>[w[g]]);u.push(new r(v,o._datatype))},h=0;h<f[1];h++)m(h);return u},r.prototype.toArray=function(){return yt(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(o){return Ot(this._data,o)},r.prototype.toString=function(){return Ot(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(o){if(o){if(It(o)&&(o=o.toNumber()),!Mt(o)||!Bt(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var u=o>0?o:0,f=o<0?-o:0,c=this._size[0],m=this._size[1],h=Math.min(c-f,m-u),g=[],v=0;v<h;v++)g[v]=this._data[v+f][v+u];return new r({data:g,size:[h],datatype:this._datatype})},r.diagonal=function(o,u,f,c){if(!Ft(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(F){if(It(F)&&(F=F.toNumber()),!Mt(F)||!Bt(F)||F<1)throw new Error("Size values must be positive integers");return F}),f){if(It(f)&&(f=f.toNumber()),!Mt(f)||!Bt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,h=f<0?-f:0,g=o[0],v=o[1],w=Math.min(g-h,v-m),y;if(Ft(u)){if(u.length!==w)throw new Error("Invalid value array length");y=function(F){return u[F]}}else if(_t(u)){var E=u.size();if(E.length!==1||E[0]!==w)throw new Error("Invalid matrix length");y=function(F){return u.get([F])}}else y=function(){return u};c||(c=It(y(0))?y(0).mul(0):0);var D=[];if(o.length>0){D=Dr(D,o,c);for(var A=0;A<w;A++)D[A+h][A+m]=y(A)}return new r({data:D,size:[g,v]})},r.fromJSON=function(o){return new r(o)},r.prototype.swapRows=function(o,u){if(!Mt(o)||!Bt(o)||!Mt(u)||!Bt(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ct(o,this._size[0]),Ct(u,this._size[0]),r._swapRows(o,u,this._data),this},r._swapRows=function(o,u,f){var c=f[o];f[o]=f[u],f[u]=c};function p(o){return _t(o)?p(o.valueOf()):Ft(o)?o.map(p):o}return r},{isClass:!0});function Yt(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return Yt(n,e)}):e(t)}var jn="isInteger",Ks=["typed"],Ws=G(jn,Ks,t=>{var{typed:e}=t;return e(jn,{number:Bt,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),hn="number",qr="number, number";function hu(t){return Math.abs(t)}hu.signature=hn;function du(t,e){return t+e}du.signature=qr;function mu(t,e){return t-e}mu.signature=qr;function vu(t,e){return t*e}vu.signature=qr;function Du(t){return-t}Du.signature=hn;function nn(t){return ao(t)}nn.signature=hn;function gu(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}gu.signature=qr;var yu="number";function wu(t){return t>0}wu.signature=yu;function xu(t){return t===0}xu.signature=yu;var Pn="isPositive",Zs=["typed"],Ls=G(Pn,Zs,t=>{var{typed:e}=t;return e(Pn,{number:wu,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),Un="isZero",Hs=["typed"],Js=G(Un,Hs,t=>{var{typed:e}=t;return e(Un,{number:xu,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})});function We(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function Gs(t,e,r){return de(t.re,e.re,r)&&de(t.im,e.im,r)}var Ze=G("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),Ar="equalScalar",Vs=["typed","config"],Ys=G(Ar,Vs,t=>{var{typed:e,config:r}=t,n=Ze({typed:e});return e(Ar,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return de(i,a,r.epsilon)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||We(i,a,r.epsilon)},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return Gs(i,a,r.epsilon)}},n)});G(Ar,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Ar,{"number, number":function(n,i){return de(n,i,r.epsilon)}})});var Xs="SparseMatrix",Qs=["typed","equalScalar","Matrix"],t0=G(Xs,Qs,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(h,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Qt(g))throw new Error("Invalid datatype: "+g);if(_t(h))a(this,h,g);else if(h&&Ft(h.index)&&Ft(h.ptr)&&Ft(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=g||h.datatype;else if(Ft(h))s(this,h,g);else{if(h)throw new TypeError("Unsupported type of data ("+ae(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(h,g,v){g.type==="SparseMatrix"?(h._values=g._values?yt(g._values):void 0,h._index=yt(g._index),h._ptr=yt(g._ptr),h._size=yt(g._size),h._datatype=v||g._datatype):s(h,g.valueOf(),v||g._datatype)}function s(h,g,v){h._values=[],h._index=[],h._ptr=[],h._datatype=v;var w=g.length,y=0,E=r,D=0;if(Qt(v)&&(E=e.find(r,[v,v])||r,D=e.convert(0,v)),w>0){var A=0;do{h._ptr.push(h._index.length);for(var F=0;F<w;F++){var C=g[F];if(Ft(C)){if(A===0&&y<C.length&&(y=C.length),A<C.length){var x=C[A];E(x,D)||(h._values.push(x),h._index.push(F))}}else A===0&&y<1&&(y=1),E(C,D)||(h._values.push(C),h._index.push(F))}A++}while(A<y)}h._ptr.push(h._index.length),h._size=[w,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,g){return new i(h,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return tr(this._values,ae)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,g){return new i(h,g)},i.prototype.density=function(){var h=this._size[0],g=this._size[1];return h!==0&&g!==0?this._index.length/(h*g):0},i.prototype.subset=function(h,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return d(this,h);case 2:case 3:return l(this,h,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function d(h,g){if(!zr(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return h.get(g.min());var w=g.size();if(w.length!==h._size.length)throw new gt(w.length,h._size.length);var y,E,D,A,F=g.min(),C=g.max();for(y=0,E=h._size.length;y<E;y++)Ct(F[y],h._size[y]),Ct(C[y],h._size[y]);var x=h._values,M=h._index,b=h._ptr,_=g.dimension(0),S=g.dimension(1),z=[],O=[];_.forEach(function(R,K){O[R]=K[0],z[R]=!0});var I=x?[]:void 0,P=[],N=[];return S.forEach(function(R){for(N.push(P.length),D=b[R],A=b[R+1];D<A;D++)y=M[D],z[y]===!0&&(P.push(O[y]),I&&I.push(x[D]))}),N.push(P.length),new i({values:I,index:P,ptr:N,size:w,datatype:h._datatype})}function l(h,g,v,w){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),E=g.isScalar(),D;if(_t(v)?(D=v.size(),v=v.toArray()):D=zt(v),E){if(D.length!==0)throw new TypeError("Scalar expected");h.set(g.min(),v,w)}else{if(y.length!==1&&y.length!==2)throw new gt(y.length,h._size.length,"<");if(D.length<y.length){for(var A=0,F=0;y[A]===1&&D[A]===1;)A++;for(;y[A]===1;)F++,A++;v=Li(v,y.length,F,D)}if(!Ue(y,D))throw new gt(y,D,">");if(y.length===1){var C=g.dimension(0);C.forEach(function(b,_){Ct(b),h.set([b,0],v[_[0]],w)})}else{var x=g.dimension(0),M=g.dimension(1);x.forEach(function(b,_){Ct(b),M.forEach(function(S,z){Ct(S),h.set([b,S],v[_[0]][z[0]],w)})})}}return h}i.prototype.get=function(h){if(!Ft(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new gt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=h[0],v=h[1];Ct(g,this._size[0]),Ct(v,this._size[1]);var w=p(g,this._ptr[v],this._ptr[v+1],this._index);return w<this._ptr[v+1]&&this._index[w]===g?this._values[w]:0},i.prototype.set=function(h,g,v){if(!Ft(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new gt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=h[0],y=h[1],E=this._size[0],D=this._size[1],A=r,F=0;Qt(this._datatype)&&(A=e.find(r,[this._datatype,this._datatype])||r,F=e.convert(0,this._datatype)),(w>E-1||y>D-1)&&(f(this,Math.max(w+1,E),Math.max(y+1,D),v),E=this._size[0],D=this._size[1]),Ct(w,E),Ct(y,D);var C=p(w,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===w?A(g,F)?o(C,y,this._values,this._index,this._ptr):this._values[C]=g:A(g,F)||u(C,w,y,g,this._values,this._index,this._ptr),this};function p(h,g,v,w){if(v-g===0)return v;for(var y=g;y<v;y++)if(w[y]===h)return y;return g}function o(h,g,v,w,y){v.splice(h,1),w.splice(h,1);for(var E=g+1;E<y.length;E++)y[E]--}function u(h,g,v,w,y,E,D){y.splice(h,0,w),E.splice(h,0,g);for(var A=v+1;A<D.length;A++)D[A]++}i.prototype.resize=function(h,g,v){if(!dr(h))throw new TypeError("Array or Matrix expected");var w=h.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(E){if(!Mt(E)||!Bt(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ot(w)+")")});var y=v?this.clone():this;return f(y,w[0],w[1],g)};function f(h,g,v,w){var y=w||0,E=r,D=0;Qt(h._datatype)&&(E=e.find(r,[h._datatype,h._datatype])||r,D=e.convert(0,h._datatype),y=e.convert(y,h._datatype));var A=!E(y,D),F=h._size[0],C=h._size[1],x,M,b;if(v>C){for(M=C;M<v;M++)if(h._ptr[M]=h._values.length,A)for(x=0;x<F;x++)h._values.push(y),h._index.push(x);h._ptr[v]=h._values.length}else v<C&&(h._ptr.splice(v+1,C-v),h._values.splice(h._ptr[v],h._values.length),h._index.splice(h._ptr[v],h._index.length));if(C=v,g>F){if(A){var _=0;for(M=0;M<C;M++){h._ptr[M]=h._ptr[M]+_,b=h._ptr[M+1]+_;var S=0;for(x=F;x<g;x++,S++)h._values.splice(b+S,0,y),h._index.splice(b+S,0,x),_++}h._ptr[C]=h._values.length}}else if(g<F){var z=0;for(M=0;M<C;M++){h._ptr[M]=h._ptr[M]-z;var O=h._ptr[M],I=h._ptr[M+1]-z;for(b=O;b<I;b++)x=h._index[b],x>g-1&&(h._values.splice(b,1),h._index.splice(b,1),z++)}h._ptr[M]=h._values.length}return h._size[0]=g,h._size[1]=v,h}i.prototype.reshape=function(h,g){if(!Ft(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(R){if(!Mt(R)||!Bt(R)||R<=-2||R===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ot(h)+")")});var v=this._size[0]*this._size[1];h=cn(h,v);var w=h[0]*h[1];if(v!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var E=[],D=0;D<y._ptr.length;D++)for(var A=0;A<y._ptr[D+1]-y._ptr[D];A++)E.push(D);for(var F=y._values.slice(),C=y._index.slice(),x=0;x<y._index.length;x++){var M=C[x],b=E[x],_=M*y._size[1]+b;E[x]=_%h[1],C[x]=Math.floor(_/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var S=0;S<y._ptr.length;S++)y._ptr[S]=0;for(var z=0;z<F.length;z++){var O=C[z],I=E[z],P=F[z],N=p(O,y._ptr[I],y._ptr[I+1],y._index);u(N,O,I,P,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var h=new i({values:this._values?yt(this._values):void 0,index:yt(this._index),ptr:yt(this._ptr),size:yt(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,w=this._size[0],y=this._size[1],E=pu(h),D=function(A,F,C){return E===1?h(A):E===2?h(A,[F,C]):h(A,[F,C],v)};return c(this,0,w-1,0,y-1,D,g)};function c(h,g,v,w,y,E,D){var A=[],F=[],C=[],x=r,M=0;Qt(h._datatype)&&(x=e.find(r,[h._datatype,h._datatype])||r,M=e.convert(0,h._datatype));for(var b=function(q,k,tt){q=E(q,k,tt),x(q,M)||(A.push(q),F.push(k))},_=w;_<=y;_++){C.push(A.length);var S=h._ptr[_],z=h._ptr[_+1];if(D)for(var O=S;O<z;O++){var I=h._index[O];I>=g&&I<=v&&b(h._values[O],I-g,_-w)}else{for(var P={},N=S;N<z;N++){var R=h._index[N];P[R]=h._values[N]}for(var K=g;K<=v;K++){var rt=K in P?P[K]:0;b(rt,K-g,_-w)}}}return C.push(A.length),new i({values:A,index:F,ptr:C,size:[v-g+1,y-w+1]})}i.prototype.forEach=function(h,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,w=this._size[0],y=this._size[1],E=0;E<y;E++){var D=this._ptr[E],A=this._ptr[E+1];if(g)for(var F=D;F<A;F++){var C=this._index[F];h(this._values[F],[C,E],v)}else{for(var x={},M=D;M<A;M++){var b=this._index[M];x[b]=this._values[M]}for(var _=0;_<w;_++){var S=_ in x?x[_]:0;h(S,[_,E],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],g=0;g<h;g++)for(var v=this._ptr[g],w=this._ptr[g+1],y=v;y<w;y++){var E=this._index[y];yield{value:this._values[y],index:[E,g]}}},i.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(h,g,v,w,y){var E=w[0],D=w[1],A=[],F,C;for(F=0;F<E;F++)for(A[F]=[],C=0;C<D;C++)A[F][C]=0;for(C=0;C<D;C++)for(var x=v[C],M=v[C+1],b=x;b<M;b++)F=g[b],A[F][C]=h?y?yt(h[b]):h[b]:1;return A}return i.prototype.format=function(h){for(var g=this._size[0],v=this._size[1],w=this.density(),y="Sparse Matrix ["+Ot(g,h)+" x "+Ot(v,h)+"] density: "+Ot(w,h)+`
`,E=0;E<v;E++)for(var D=this._ptr[E],A=this._ptr[E+1],F=D;F<A;F++){var C=this._index[F];y+=`
    (`+Ot(C,h)+", "+Ot(E,h)+") ==> "+(this._values?Ot(this._values[F],h):"X")}return y},i.prototype.toString=function(){return Ot(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(It(h)&&(h=h.toNumber()),!Mt(h)||!Bt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,v=h<0?-h:0,w=this._size[0],y=this._size[1],E=Math.min(w-v,y-g),D=[],A=[],F=[];F[0]=0;for(var C=g;C<y&&D.length<E;C++)for(var x=this._ptr[C],M=this._ptr[C+1],b=x;b<M;b++){var _=this._index[b];if(_===C-g+v){D.push(this._values[b]),A[D.length-1]=_-v;break}}return F.push(D.length),new i({values:D,index:A,ptr:F,size:[E,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,g,v,w,y){if(!Ft(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(R){if(It(R)&&(R=R.toNumber()),!Mt(R)||!Bt(R)||R<1)throw new Error("Size values must be positive integers");return R}),v){if(It(v)&&(v=v.toNumber()),!Mt(v)||!Bt(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var E=r,D=0;Qt(y)&&(E=e.find(r,[y,y])||r,D=e.convert(0,y));var A=v>0?v:0,F=v<0?-v:0,C=h[0],x=h[1],M=Math.min(C-F,x-A),b;if(Ft(g)){if(g.length!==M)throw new Error("Invalid value array length");b=function(R){return g[R]}}else if(_t(g)){var _=g.size();if(_.length!==1||_[0]!==M)throw new Error("Invalid matrix length");b=function(R){return g.get([R])}}else b=function(){return g};for(var S=[],z=[],O=[],I=0;I<x;I++){O.push(S.length);var P=I-A;if(P>=0&&P<M){var N=b(P);E(N,D)||(z.push(P+F),S.push(N))}}return O.push(S.length),new i({values:S,index:z,ptr:O,size:[C,x]})},i.prototype.swapRows=function(h,g){if(!Mt(h)||!Bt(h)||!Mt(g)||!Bt(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ct(h,this._size[0]),Ct(g,this._size[0]),i._swapRows(h,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,g,v,w,y){for(var E=w[h],D=w[h+1],A=E;A<D;A++)y(v[A],g[A])},i._swapRows=function(h,g,v,w,y,E){for(var D=0;D<v;D++){var A=E[D],F=E[D+1],C=p(h,A,F,y),x=p(g,A,F,y);if(C<F&&x<F&&y[C]===h&&y[x]===g){if(w){var M=w[C];w[C]=w[x],w[x]=M}continue}if(C<F&&y[C]===h&&(x>=F||y[x]!==g)){var b=w?w[C]:void 0;y.splice(x,0,g),w&&w.splice(x,0,b),y.splice(x<=C?C+1:C,1),w&&w.splice(x<=C?C+1:C,1);continue}if(x<F&&y[x]===g&&(C>=F||y[C]!==h)){var _=w?w[x]:void 0;y.splice(C,0,h),w&&w.splice(C,0,_),y.splice(C<=x?x+1:x,1),w&&w.splice(C<=x?x+1:x,1)}}},i},{isClass:!0}),e0="number",r0=["typed"];function n0(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function i0(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is not a valid number');return a}var u0=G(e0,r0,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var i=n0(n);if(i)return i0(i);var a=0,s=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),n=s[1]);var d=Number(n);if(isNaN(d))throw new SyntaxError('String "'+n+'" is not a valid number');if(s){if(d>Rt(2,a)-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));d>=Rt(2,a-1)&&(d=d-Rt(2,a))}return d},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(n){return 0},"Unit, string | Unit":function(n,i){return n.toNumber(i)},"Array | Matrix":e.referToSelf(n=>i=>Yt(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),a0="bignumber",o0=["typed","BigNumber"],s0=G(a0,o0,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(n){return new r(n+"")},string:function(n){var i=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var a=i[2],s=r(i[1]),d=new r(2).pow(Number(a));if(s.gt(d.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var l=new r(2).pow(Number(a)-1);return s.gte(l)?s.sub(d):s}return new r(n)},BigNumber:function(n){return n},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(n){return new r(n.n).div(n.d).times(n.s)},null:function(n){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>Yt(i,n))})}),f0="complex",l0=["typed","Complex"],c0=G(f0,l0,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(n){return new r(n,0)},"number, number":function(n,i){return new r(n,i)},"BigNumber, BigNumber":function(n,i){return new r(n.toNumber(),i.toNumber())},Fraction:function(n){return new r(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return r(n)},null:function(n){return r(0)},Object:function(n){if("re"in n&&"im"in n)return new r(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new r(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Yt(i,n))})}),p0="fraction",h0=["typed","Fraction"],d0=G(p0,h0,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r(n)},string:function(n){return new r(n)},"number, number":function(n,i){return new r(n,i)},null:function(n){return new r(0)},BigNumber:function(n){return new r(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(n){return new r(n)},"Array | Matrix":e.referToSelf(n=>i=>Yt(i,n))})}),$n="matrix",m0=["typed","Matrix","DenseMatrix","SparseMatrix"],v0=G($n,m0,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e($n,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,d){return a([],s,d)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,d,l){if(d==="dense"||d==="default"||d===void 0)return new n(s,l);if(d==="sparse")return new i(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(d)+".")}}),Kn="matrixFromColumns",D0=["typed","matrix","flatten","size"],g0=G(Kn,D0,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(Kn,{"...Array":function(d){return a(d)},"...Matrix":function(d){return r(a(d.map(l=>l.toArray())))}});function a(d){if(d.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(d[0]),p=[],o=0;o<l;o++)p[o]=[];for(var u of d){var f=s(u);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(f|0));for(var c=n(u),m=0;m<l;m++)p[m].push(c[m])}return p}function s(d){var l=i(d);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Wn="unaryMinus",y0=["typed"],w0=G(Wn,y0,t=>{var{typed:e}=t;return e(Wn,{number:Du,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),Zn="abs",x0=["typed"],A0=G(Zn,x0,t=>{var{typed:e}=t;return e(Zn,{number:hu,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),Ln="addScalar",E0=["typed"],F0=G(Ln,E0,t=>{var{typed:e}=t;return e(Ln,{"number, number":du,"Complex, Complex":function(r,n){return r.add(n)},"BigNumber, BigNumber":function(r,n){return r.plus(n)},"Fraction, Fraction":function(r,n){return r.add(n)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),Hn="subtractScalar",b0=["typed"],C0=G(Hn,b0,t=>{var{typed:e}=t;return e(Hn,{"number, number":mu,"Complex, Complex":function(r,n){return r.sub(n)},"BigNumber, BigNumber":function(r,n){return r.minus(n)},"Fraction, Fraction":function(r,n){return r.sub(n)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),_0="matAlgo11xS0s",M0=["typed","equalScalar"],B0=G(_0,M0,t=>{var{typed:e,equalScalar:r}=t;return function(n,i,a,s){var d=n._values,l=n._index,p=n._ptr,o=n._size,u=n._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=o[0],c=o[1],m,h=r,g=0,v=a;typeof u=="string"&&(m=u,h=e.find(r,[m,m]),g=e.convert(0,m),i=e.convert(i,m),v=e.find(a,[m,m]));for(var w=[],y=[],E=[],D=0;D<c;D++){E[D]=y.length;for(var A=p[D],F=p[D+1],C=A;C<F;C++){var x=l[C],M=s?v(i,d[C]):v(d[C],i);h(M,g)||(y.push(x),w.push(M))}}return E[c]=y.length,n.createSparseMatrix({values:w,index:y,ptr:E,size:[f,c],datatype:m})}}),S0="matAlgo12xSfs",N0=["typed","DenseMatrix"],Me=G(S0,N0,t=>{var{typed:e,DenseMatrix:r}=t;return function(n,i,a,s){var d=n._values,l=n._index,p=n._ptr,o=n._size,u=n._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=o[0],c=o[1],m,h=a;typeof u=="string"&&(m=u,i=e.convert(i,m),h=e.find(a,[m,m]));for(var g=[],v=[],w=[],y=0;y<c;y++){for(var E=y+1,D=p[y],A=p[y+1],F=D;F<A;F++){var C=l[F];v[C]=d[F],w[C]=E}for(var x=0;x<f;x++)y===0&&(g[x]=[]),w[x]===E?g[x][y]=s?h(i,v[x]):h(v[x],i):g[x][y]=s?h(i,0):h(0,i)}return new r({data:g,size:[f,c],datatype:m})}}),z0="matAlgo14xDs",O0=["typed"],Au=G(z0,O0,t=>{var{typed:e}=t;return function(n,i,a,s){var d=n._data,l=n._size,p=n._datatype,o,u=a;typeof p=="string"&&(o=p,i=e.convert(i,o),u=e.find(a,[o,o]));var f=l.length>0?r(u,0,l,l[0],d,i,s):[];return n.createDenseMatrix({data:f,size:yt(l),datatype:o})};function r(n,i,a,s,d,l,p){var o=[];if(i===a.length-1)for(var u=0;u<s;u++)o[u]=p?n(l,d[u]):n(d[u],l);else for(var f=0;f<s;f++)o[f]=r(n,i+1,a,a[i+1],d[f],l,p);return o}}),I0="matAlgo03xDSf",T0=["typed"],Be=G(I0,T0,t=>{var{typed:e}=t;return function(r,n,i,a){var s=r._data,d=r._size,l=r._datatype||r.getDataType(),p=n._values,o=n._index,u=n._ptr,f=n._size,c=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(d.length!==f.length)throw new gt(d.length,f.length);if(d[0]!==f[0]||d[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+f+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=d[0],h=d[1],g,v=0,w=i;typeof l=="string"&&l===c&&l!=="mixed"&&(g=l,v=e.convert(0,g),w=e.find(i,[g,g]));for(var y=[],E=0;E<m;E++)y[E]=[];for(var D=[],A=[],F=0;F<h;F++){for(var C=F+1,x=u[F],M=u[F+1],b=x;b<M;b++){var _=o[b];D[_]=a?w(p[b],s[_][F]):w(s[_][F],p[b]),A[_]=C}for(var S=0;S<m;S++)A[S]===C?y[S][F]=D[S]:y[S][F]=a?w(v,s[S][F]):w(s[S][F],v)}return r.createDenseMatrix({data:y,size:[m,h],datatype:l===r._datatype&&c===n._datatype?g:void 0})}}),R0="matAlgo05xSfSf",k0=["typed","equalScalar"],Eu=G(R0,k0,t=>{var{typed:e,equalScalar:r}=t;return function(n,i,a){var s=n._values,d=n._index,l=n._ptr,p=n._size,o=n._datatype||n._data===void 0?n._datatype:n.getDataType(),u=i._values,f=i._index,c=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==m.length)throw new gt(p.length,m.length);if(p[0]!==m[0]||p[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+m+")");var g=p[0],v=p[1],w,y=r,E=0,D=a;typeof o=="string"&&o===h&&o!=="mixed"&&(w=o,y=e.find(r,[w,w]),E=e.convert(0,w),D=e.find(a,[w,w]));var A=s&&u?[]:void 0,F=[],C=[],x=A?[]:void 0,M=A?[]:void 0,b=[],_=[],S,z,O,I;for(z=0;z<v;z++){C[z]=F.length;var P=z+1;for(O=l[z],I=l[z+1];O<I;O++)S=d[O],F.push(S),b[S]=P,x&&(x[S]=s[O]);for(O=c[z],I=c[z+1];O<I;O++)S=f[O],b[S]!==P&&F.push(S),_[S]=P,M&&(M[S]=u[O]);if(A)for(O=C[z];O<F.length;){S=F[O];var N=b[S],R=_[S];if(N===P||R===P){var K=N===P?x[S]:E,rt=R===P?M[S]:E,q=D(K,rt);y(q,E)?F.splice(O,1):(A.push(q),O++)}}}return C[v]=F.length,n.createSparseMatrix({values:A,index:F,ptr:C,size:[g,v],datatype:o===n._datatype&&h===i._datatype?w:void 0})}}),q0="matAlgo13xDD",j0=["typed"],P0=G(q0,j0,t=>{var{typed:e}=t;return function(n,i,a){var s=n._data,d=n._size,l=n._datatype,p=i._data,o=i._size,u=i._datatype,f=[];if(d.length!==o.length)throw new gt(d.length,o.length);for(var c=0;c<d.length;c++){if(d[c]!==o[c])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+o+")");f[c]=d[c]}var m,h=a;typeof l=="string"&&l===u&&(m=l,h=e.find(a,[m,m]));var g=f.length>0?r(h,0,f,f[0],s,p):[];return n.createDenseMatrix({data:g,size:f,datatype:m})};function r(n,i,a,s,d,l){var p=[];if(i===a.length-1)for(var o=0;o<s;o++)p[o]=n(d[o],l[o]);else for(var u=0;u<s;u++)p[u]=r(n,i+1,a,a[i+1],d[u],l[u]);return p}}),U0="broadcast",$0=["concat"],K0=G(U0,$0,t=>{var{concat:e}=t;return function(i,a){var s=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((m,h)=>m===a._size[h]))return[i,a];for(var d=r(i._size,s,0),l=r(a._size,s,0),p=[],o=0;o<s;o++)p[o]=Math.max(d[o],l[o]);gr(d,p),gr(l,p);var u=i.clone(),f=a.clone();u._size.length<s?u.reshape(r(u._size,s,1)):f._size.length<s&&f.reshape(r(f._size,s,1));for(var c=0;c<s;c++)u._size[c]<p[c]&&(u=n(u,p[c],c)),f._size[c]<p[c]&&(f=n(f,p[c],c));return[u,f]};function r(i,a,s){return[...Array(a-i.length).fill(s),...i]}function n(i,a,s){return e(...Array(a).fill(i),s)}}),W0="matrixAlgorithmSuite",Z0=["typed","matrix","concat"],Fe=G(W0,Z0,t=>{var{typed:e,matrix:r,concat:n}=t,i=P0({typed:e}),a=Au({typed:e}),s=K0({concat:n});return function(d){var l=d.elop,p=d.SD||d.DS,o;l?(o={"DenseMatrix, DenseMatrix":(m,h)=>i(...s(m,h),l),"Array, Array":(m,h)=>i(...s(r(m),r(h)),l).valueOf(),"Array, DenseMatrix":(m,h)=>i(...s(r(m),h),l),"DenseMatrix, Array":(m,h)=>i(...s(m,r(h)),l)},d.SS&&(o["SparseMatrix, SparseMatrix"]=(m,h)=>d.SS(...s(m,h),l,!1)),d.DS&&(o["DenseMatrix, SparseMatrix"]=(m,h)=>d.DS(...s(m,h),l,!1),o["Array, SparseMatrix"]=(m,h)=>d.DS(...s(r(m),h),l,!1)),p&&(o["SparseMatrix, DenseMatrix"]=(m,h)=>p(...s(h,m),l,!0),o["SparseMatrix, Array"]=(m,h)=>p(...s(r(h),m),l,!0))):(o={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(h,g)=>i(...s(h,g),m)),"Array, Array":e.referToSelf(m=>(h,g)=>i(...s(r(h),r(g)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(h,g)=>i(...s(r(h),g),m)),"DenseMatrix, Array":e.referToSelf(m=>(h,g)=>i(...s(h,r(g)),m))},d.SS&&(o["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(h,g)=>d.SS(...s(h,g),m,!1))),d.DS&&(o["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(h,g)=>d.DS(...s(h,g),m,!1)),o["Array, SparseMatrix"]=e.referToSelf(m=>(h,g)=>d.DS(...s(r(h),g),m,!1))),p&&(o["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(h,g)=>p(...s(g,h),m,!0)),o["SparseMatrix, Array"]=e.referToSelf(m=>(h,g)=>p(...s(r(g),h),m,!0))));var u=d.scalar||"any",f=d.Ds||d.Ss;f&&(l?(o["DenseMatrix,"+u]=(m,h)=>a(m,h,l,!1),o[u+", DenseMatrix"]=(m,h)=>a(h,m,l,!0),o["Array,"+u]=(m,h)=>a(r(m),h,l,!1).valueOf(),o[u+", Array"]=(m,h)=>a(r(h),m,l,!0).valueOf()):(o["DenseMatrix,"+u]=e.referToSelf(m=>(h,g)=>a(h,g,m,!1)),o[u+", DenseMatrix"]=e.referToSelf(m=>(h,g)=>a(g,h,m,!0)),o["Array,"+u]=e.referToSelf(m=>(h,g)=>a(r(h),g,m,!1).valueOf()),o[u+", Array"]=e.referToSelf(m=>(h,g)=>a(r(g),h,m,!0).valueOf())));var c=d.sS!==void 0?d.sS:d.Ss;return l?(d.Ss&&(o["SparseMatrix,"+u]=(m,h)=>d.Ss(m,h,l,!1)),c&&(o[u+", SparseMatrix"]=(m,h)=>c(h,m,l,!0))):(d.Ss&&(o["SparseMatrix,"+u]=e.referToSelf(m=>(h,g)=>d.Ss(h,g,m,!1))),c&&(o[u+", SparseMatrix"]=e.referToSelf(m=>(h,g)=>c(g,h,m,!0)))),l&&l.signatures&&ro(o,l.signatures),o}}),L0="matAlgo01xDSid",H0=["typed"],Fu=G(L0,H0,t=>{var{typed:e}=t;return function(r,n,i,a){var s=r._data,d=r._size,l=r._datatype||r.getDataType(),p=n._values,o=n._index,u=n._ptr,f=n._size,c=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(d.length!==f.length)throw new gt(d.length,f.length);if(d[0]!==f[0]||d[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+f+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=d[0],h=d[1],g=typeof l=="string"&&l!=="mixed"&&l===c?l:void 0,v=g?e.find(i,[g,g]):i,w,y,E=[];for(w=0;w<m;w++)E[w]=[];var D=[],A=[];for(y=0;y<h;y++){for(var F=y+1,C=u[y],x=u[y+1],M=C;M<x;M++)w=o[M],D[w]=a?v(p[M],s[w][y]):v(s[w][y],p[M]),A[w]=F;for(w=0;w<m;w++)A[w]===F?E[w][y]=D[w]:E[w][y]=s[w][y]}return r.createDenseMatrix({data:E,size:[m,h],datatype:l===r._datatype&&c===n._datatype?g:void 0})}}),J0="matAlgo04xSidSid",G0=["typed","equalScalar"],V0=G(J0,G0,t=>{var{typed:e,equalScalar:r}=t;return function(n,i,a){var s=n._values,d=n._index,l=n._ptr,p=n._size,o=n._datatype||n._data===void 0?n._datatype:n.getDataType(),u=i._values,f=i._index,c=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==m.length)throw new gt(p.length,m.length);if(p[0]!==m[0]||p[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+m+")");var g=p[0],v=p[1],w,y=r,E=0,D=a;typeof o=="string"&&o===h&&o!=="mixed"&&(w=o,y=e.find(r,[w,w]),E=e.convert(0,w),D=e.find(a,[w,w]));var A=s&&u?[]:void 0,F=[],C=[],x=s&&u?[]:void 0,M=s&&u?[]:void 0,b=[],_=[],S,z,O,I,P;for(z=0;z<v;z++){C[z]=F.length;var N=z+1;for(I=l[z],P=l[z+1],O=I;O<P;O++)S=d[O],F.push(S),b[S]=N,x&&(x[S]=s[O]);for(I=c[z],P=c[z+1],O=I;O<P;O++)if(S=f[O],b[S]===N){if(x){var R=D(x[S],u[O]);y(R,E)?b[S]=null:x[S]=R}}else F.push(S),_[S]=N,M&&(M[S]=u[O]);if(x&&M)for(O=C[z];O<F.length;)S=F[O],b[S]===N?(A[O]=x[S],O++):_[S]===N?(A[O]=M[S],O++):F.splice(O,1)}return C[v]=F.length,n.createSparseMatrix({values:A,index:F,ptr:C,size:[g,v],datatype:o===n._datatype&&h===i._datatype?w:void 0})}}),Y0="matAlgo10xSids",X0=["typed","DenseMatrix"],bu=G(Y0,X0,t=>{var{typed:e,DenseMatrix:r}=t;return function(n,i,a,s){var d=n._values,l=n._index,p=n._ptr,o=n._size,u=n._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=o[0],c=o[1],m,h=a;typeof u=="string"&&(m=u,i=e.convert(i,m),h=e.find(a,[m,m]));for(var g=[],v=[],w=[],y=0;y<c;y++){for(var E=y+1,D=p[y],A=p[y+1],F=D;F<A;F++){var C=l[F];v[C]=d[F],w[C]=E}for(var x=0;x<f;x++)y===0&&(g[x]=[]),w[x]===E?g[x][y]=s?h(i,v[x]):h(v[x],i):g[x][y]=i}return new r({data:g,size:[f,c],datatype:m})}}),Q0="multiplyScalar",tf=["typed"],ef=G(Q0,tf,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":vu,"Complex, Complex":function(r,n){return r.mul(n)},"BigNumber, BigNumber":function(r,n){return r.times(n)},"Fraction, Fraction":function(r,n){return r.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Jn="multiply",rf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],nf=G(Jn,rf,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:s}=t,d=B0({typed:e,equalScalar:a}),l=Au({typed:e});function p(D,A){switch(D.length){case 1:switch(A.length){case 1:if(D[0]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(D[0]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+D[0]+") must match Matrix rows ("+A[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+A.length+" dimensions)")}break;case 2:switch(A.length){case 1:if(D[1]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+D[1]+") must match Vector length ("+A[0]+")");break;case 2:if(D[1]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+D[1]+") must match Matrix B rows ("+A[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+A.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+D.length+" dimensions)")}}function o(D,A,F){if(F===0)throw new Error("Cannot multiply two empty vectors");return s(D,A)}function u(D,A){if(A.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(D,A)}function f(D,A){var F=D._data,C=D._size,x=D._datatype||D.getDataType(),M=A._data,b=A._size,_=A._datatype||A.getDataType(),S=C[0],z=b[1],O,I=n,P=i;x&&_&&x===_&&typeof x=="string"&&x!=="mixed"&&(O=x,I=e.find(n,[O,O]),P=e.find(i,[O,O]));for(var N=[],R=0;R<z;R++){for(var K=P(F[0],M[0][R]),rt=1;rt<S;rt++)K=I(K,P(F[rt],M[rt][R]));N[R]=K}return D.createDenseMatrix({data:N,size:[z],datatype:x===D._datatype&&_===A._datatype?O:void 0})}var c=e("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":w}),m=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":E});function h(D,A){var F=D._data,C=D._size,x=D._datatype||D.getDataType(),M=A._data,b=A._datatype||A.getDataType(),_=C[0],S=C[1],z,O=n,I=i;x&&b&&x===b&&typeof x=="string"&&x!=="mixed"&&(z=x,O=e.find(n,[z,z]),I=e.find(i,[z,z]));for(var P=[],N=0;N<_;N++){for(var R=F[N],K=I(R[0],M[0]),rt=1;rt<S;rt++)K=O(K,I(R[rt],M[rt]));P[N]=K}return D.createDenseMatrix({data:P,size:[_],datatype:x===D._datatype&&b===A._datatype?z:void 0})}function g(D,A){var F=D._data,C=D._size,x=D._datatype||D.getDataType(),M=A._data,b=A._size,_=A._datatype||A.getDataType(),S=C[0],z=C[1],O=b[1],I,P=n,N=i;x&&_&&x===_&&typeof x=="string"&&x!=="mixed"&&x!=="mixed"&&(I=x,P=e.find(n,[I,I]),N=e.find(i,[I,I]));for(var R=[],K=0;K<S;K++){var rt=F[K];R[K]=[];for(var q=0;q<O;q++){for(var k=N(rt[0],M[0][q]),tt=1;tt<z;tt++)k=P(k,N(rt[tt],M[tt][q]));R[K][q]=k}}return D.createDenseMatrix({data:R,size:[S,O],datatype:x===D._datatype&&_===A._datatype?I:void 0})}function v(D,A){var F=D._data,C=D._size,x=D._datatype||D.getDataType(),M=A._values,b=A._index,_=A._ptr,S=A._size,z=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=C[0],I=S[1],P,N=n,R=i,K=a,rt=0;x&&z&&x===z&&typeof x=="string"&&x!=="mixed"&&(P=x,N=e.find(n,[P,P]),R=e.find(i,[P,P]),K=e.find(a,[P,P]),rt=e.convert(0,P));for(var q=[],k=[],tt=[],et=A.createSparseMatrix({values:q,index:k,ptr:tt,size:[O,I],datatype:x===D._datatype&&z===A._datatype?P:void 0}),W=0;W<I;W++){tt[W]=k.length;var U=_[W],Y=_[W+1];if(Y>U)for(var Z=0,V=0;V<O;V++){for(var nt=V+1,J=void 0,at=U;at<Y;at++){var pt=b[at];Z!==nt?(J=R(F[V][pt],M[at]),Z=nt):J=N(J,R(F[V][pt],M[at]))}Z===nt&&!K(J,rt)&&(k.push(V),q.push(J))}}return tt[I]=k.length,et}function w(D,A){var F=D._values,C=D._index,x=D._ptr,M=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=A._data,_=A._datatype||A.getDataType(),S=D._size[0],z=A._size[0],O=[],I=[],P=[],N,R=n,K=i,rt=a,q=0;M&&_&&M===_&&typeof M=="string"&&M!=="mixed"&&(N=M,R=e.find(n,[N,N]),K=e.find(i,[N,N]),rt=e.find(a,[N,N]),q=e.convert(0,N));var k=[],tt=[];P[0]=0;for(var et=0;et<z;et++){var W=b[et];if(!rt(W,q))for(var U=x[et],Y=x[et+1],Z=U;Z<Y;Z++){var V=C[Z];tt[V]?k[V]=R(k[V],K(W,F[Z])):(tt[V]=!0,I.push(V),k[V]=K(W,F[Z]))}}for(var nt=I.length,J=0;J<nt;J++){var at=I[J];O[J]=k[at]}return P[1]=I.length,D.createSparseMatrix({values:O,index:I,ptr:P,size:[S,1],datatype:M===D._datatype&&_===A._datatype?N:void 0})}function y(D,A){var F=D._values,C=D._index,x=D._ptr,M=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=A._data,_=A._datatype||A.getDataType(),S=D._size[0],z=A._size[0],O=A._size[1],I,P=n,N=i,R=a,K=0;M&&_&&M===_&&typeof M=="string"&&M!=="mixed"&&(I=M,P=e.find(n,[I,I]),N=e.find(i,[I,I]),R=e.find(a,[I,I]),K=e.convert(0,I));for(var rt=[],q=[],k=[],tt=D.createSparseMatrix({values:rt,index:q,ptr:k,size:[S,O],datatype:M===D._datatype&&_===A._datatype?I:void 0}),et=[],W=[],U=0;U<O;U++){k[U]=q.length;for(var Y=U+1,Z=0;Z<z;Z++){var V=b[Z][U];if(!R(V,K))for(var nt=x[Z],J=x[Z+1],at=nt;at<J;at++){var pt=C[at];W[pt]!==Y?(W[pt]=Y,q.push(pt),et[pt]=N(V,F[at])):et[pt]=P(et[pt],N(V,F[at]))}}for(var ht=k[U],dt=q.length,ot=ht;ot<dt;ot++){var Dt=q[ot];rt[ot]=et[Dt]}}return k[O]=q.length,tt}function E(D,A){var F=D._values,C=D._index,x=D._ptr,M=D._datatype||D._data===void 0?D._datatype:D.getDataType(),b=A._values,_=A._index,S=A._ptr,z=A._datatype||A._data===void 0?A._datatype:A.getDataType(),O=D._size[0],I=A._size[1],P=F&&b,N,R=n,K=i;M&&z&&M===z&&typeof M=="string"&&M!=="mixed"&&(N=M,R=e.find(n,[N,N]),K=e.find(i,[N,N]));for(var rt=P?[]:void 0,q=[],k=[],tt=D.createSparseMatrix({values:rt,index:q,ptr:k,size:[O,I],datatype:M===D._datatype&&z===A._datatype?N:void 0}),et=P?[]:void 0,W=[],U,Y,Z,V,nt,J,at,pt,ht=0;ht<I;ht++){k[ht]=q.length;var dt=ht+1;for(nt=S[ht],J=S[ht+1],V=nt;V<J;V++)if(pt=_[V],P)for(Y=x[pt],Z=x[pt+1],U=Y;U<Z;U++)at=C[U],W[at]!==dt?(W[at]=dt,q.push(at),et[at]=K(b[V],F[U])):et[at]=R(et[at],K(b[V],F[U]));else for(Y=x[pt],Z=x[pt+1],U=Y;U<Z;U++)at=C[U],W[at]!==dt&&(W[at]=dt,q.push(at));if(P)for(var ot=k[ht],Dt=q.length,wt=ot;wt<Dt;wt++){var At=q[wt];rt[wt]=et[At]}}return k[I]=q.length,tt}return e(Jn,i,{"Array, Array":e.referTo("Matrix, Matrix",D=>(A,F)=>{p(zt(A),zt(F));var C=D(r(A),r(F));return _t(C)?C.valueOf():C}),"Matrix, Matrix":function(D,A){var F=D.size(),C=A.size();return p(F,C),F.length===1?C.length===1?o(D,A,F[0]):u(D,A):C.length===1?c(D,A):m(D,A)},"Matrix, Array":e.referTo("Matrix,Matrix",D=>(A,F)=>D(A,r(F))),"Array, Matrix":e.referToSelf(D=>(A,F)=>D(r(A,F.storage()),F)),"SparseMatrix, any":function(D,A){return d(D,A,i,!1)},"DenseMatrix, any":function(D,A){return l(D,A,i,!1)},"any, SparseMatrix":function(D,A){return d(A,D,i,!0)},"any, DenseMatrix":function(D,A){return l(A,D,i,!0)},"Array, any":function(D,A){return l(r(D),A,i,!1).valueOf()},"any, Array":function(D,A){return l(r(A),D,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(D=>(A,F,C)=>{for(var x=D(A,F),M=0;M<C.length;M++)x=D(x,C[M]);return x})})}),Gn="sign",uf=["typed","BigNumber","Fraction","complex"],af=G(Gn,uf,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(Gn,{number:nn,Complex:function(a){return a.im===0?n(nn(a.re)):a.sign()},BigNumber:function(a){return new r(a.cmp(0))},Fraction:function(a){return new i(a.s,1)},"Array | Matrix":e.referToSelf(a=>s=>Yt(s,a)),Unit:e.referToSelf(a=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,s.valueType())(s.value)})})}),of="sqrt",sf=["config","typed","Complex"],ff=G(of,sf,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||e.predictable?a.sqrt():i(a.toNumber())},Unit:function(a){return a.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),Vn="subtract",lf=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],cf=G(Vn,lf,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:d}=t,l=Fu({typed:e}),p=Be({typed:e}),o=Eu({typed:e,equalScalar:n}),u=bu({typed:e,DenseMatrix:s}),f=Me({typed:e,DenseMatrix:s}),c=Fe({typed:e,matrix:r,concat:d});return e(Vn,{"any, any":i},c({elop:i,SS:o,DS:l,SD:p,Ss:f,sS:u}))}),pf="matAlgo07xSSf",hf=["typed","DenseMatrix"],ir=G(pf,hf,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,s){var d=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(d.length!==p.length)throw new gt(d.length,p.length);if(d[0]!==p[0]||d[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+p+")");var u=d[0],f=d[1],c,m=0,h=s;typeof l=="string"&&l===o&&l!=="mixed"&&(c=l,m=e.convert(0,c),h=e.find(s,[c,c]));var g,v,w=[];for(g=0;g<u;g++)w[g]=[];var y=[],E=[],D=[],A=[];for(v=0;v<f;v++){var F=v+1;for(n(i,v,D,y,F),n(a,v,A,E,F),g=0;g<u;g++){var C=D[g]===F?y[g]:m,x=A[g]===F?E[g]:m;w[g][v]=h(C,x)}}return new r({data:w,size:[u,f],datatype:l===i._datatype&&o===a._datatype?c:void 0})};function n(i,a,s,d,l){for(var p=i._values,o=i._index,u=i._ptr,f=u[a],c=u[a+1];f<c;f++){var m=o[f];s[m]=l,d[m]=p[f]}}}),Yn="conj",df=["typed"],mf=G(Yn,df,t=>{var{typed:e}=t;return e(Yn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),Xn="im",vf=["typed"],Df=G(Xn,vf,t=>{var{typed:e}=t;return e(Xn,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),Qn="re",gf=["typed"],yf=G(Qn,gf,t=>{var{typed:e}=t;return e(Qn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>Yt(n,r))})}),ti="concat",wf=["typed","matrix","isInteger"],xf=G(ti,wf,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(ti,{"...Array | Matrix | number | BigNumber":function(i){var a,s=i.length,d=-1,l,p=!1,o=[];for(a=0;a<s;a++){var u=i[a];if(_t(u)&&(p=!0),Mt(u)||It(u)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(l=d,d=u.valueOf(),!n(d))throw new TypeError("Integer number expected for dimension");if(d<0||a>0&&d>l)throw new _e(d,l+1)}else{var f=yt(u).valueOf(),c=zt(f);if(o[a]=f,l=d,d=c.length-1,a>0&&d!==l)throw new gt(l+1,d+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var m=o.shift();o.length;)m=Gi(m,o.shift(),d);return p?r(m):m},"...string":function(i){return i.join("")}})}),ei="column",Af=["typed","Index","matrix","range"],Ef=G(ei,Af,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(ei,{"Matrix, number":a,"Array, number":function(s,d){return a(n(yt(s)),d).valueOf()}});function a(s,d){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ct(d,s.size()[1]);var l=i(0,s.size()[0]),p=new r(l,d),o=s.subset(p);return _t(o)?o:n([[o]])}}),ri="diag",Ff=["typed","matrix","DenseMatrix","SparseMatrix"],bf=G(ri,Ff,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(ri,{Array:function(l){return a(l,0,zt(l),null)},"Array, number":function(l,p){return a(l,p,zt(l),null)},"Array, BigNumber":function(l,p){return a(l,p.toNumber(),zt(l),null)},"Array, string":function(l,p){return a(l,0,zt(l),p)},"Array, number, string":function(l,p,o){return a(l,p,zt(l),o)},"Array, BigNumber, string":function(l,p,o){return a(l,p.toNumber(),zt(l),o)},Matrix:function(l){return a(l,0,l.size(),l.storage())},"Matrix, number":function(l,p){return a(l,p,l.size(),l.storage())},"Matrix, BigNumber":function(l,p){return a(l,p.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,p){return a(l,0,l.size(),p)},"Matrix, number, string":function(l,p,o){return a(l,p,l.size(),o)},"Matrix, BigNumber, string":function(l,p,o){return a(l,p.toNumber(),l.size(),o)}});function a(l,p,o,u){if(!Bt(p))throw new TypeError("Second parameter in function diag must be an integer");var f=p>0?p:0,c=p<0?-p:0;switch(o.length){case 1:return s(l,p,u,o[0],c,f);case 2:return d(l,p,u,o,c,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,p,o,u,f,c){var m=[u+f,u+c];if(o&&o!=="sparse"&&o!=="dense")throw new TypeError("Unknown matrix type ".concat(o,'"'));var h=o==="sparse"?i.diagonal(m,l,p):n.diagonal(m,l,p);return o!==null?h:h.valueOf()}function d(l,p,o,u,f,c){if(_t(l)){var m=l.diagonal(p);return o!==null?o!==m.storage()?r(m,o):m:m.valueOf()}for(var h=Math.min(u[0]-f,u[1]-c),g=[],v=0;v<h;v++)g[v]=l[v+f][v+c];return o!==null?r(g):g}}),ni="flatten",Cf=["typed","matrix"],_f=G(ni,Cf,t=>{var{typed:e,matrix:r}=t;return e(ni,{Array:function(n){return qe(n)},Matrix:function(n){var i=qe(n.toArray());return r(i)}})}),ii="getMatrixDataType",Mf=["typed"],Bf=G(ii,Mf,t=>{var{typed:e}=t;return e(ii,{Array:function(r){return tr(r,ae)},Matrix:function(r){return r.getDataType()}})}),ui="identity",Sf=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Nf=G(ui,Sf,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:s}=t;return e(ui,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(p){return n(p)},"number | BigNumber":function(p){return l(p,p,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(p,o){return l(p,p,o)},"number | BigNumber, number | BigNumber":function(p,o){return l(p,o,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(p,o,u){return l(p,o,u)},Array:function(p){return d(p)},"Array, string":function(p,o){return d(p,o)},Matrix:function(p){return d(p.valueOf(),p.storage())},"Matrix, string":function(p,o){return d(p.valueOf(),o)}});function d(p,o){switch(p.length){case 0:return o?n(o):[];case 1:return l(p[0],p[0],o);case 2:return l(p[0],p[1],o);default:throw new Error("Vector containing two values expected")}}function l(p,o,u){var f=It(p)||It(o)?i:null;if(It(p)&&(p=p.toNumber()),It(o)&&(o=o.toNumber()),!Bt(p)||p<1)throw new Error("Parameters in function identity must be positive integers");if(!Bt(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var c=f?new i(1):1,m=f?new f(0):0,h=[p,o];if(u){if(u==="sparse")return s.diagonal(h,c,0,m);if(u==="dense")return a.diagonal(h,c,0,m);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var g=Dr([],h,m),v=p<o?p:o,w=0;w<v;w++)g[w][w]=c;return g}}),ai="kron",zf=["typed","matrix","multiplyScalar"],Of=G(ai,zf,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(ai,{"Matrix, Matrix":function(a,s){return r(i(a.toArray(),s.toArray()))},"Matrix, Array":function(a,s){return r(i(a.toArray(),s))},"Array, Matrix":function(a,s){return r(i(a,s.toArray()))},"Array, Array":i});function i(a,s){if(zt(a).length===1&&(a=[a]),zt(s).length===1&&(s=[s]),zt(a).length>2||zt(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(s.length)+")");var d=[],l=[];return a.map(function(p){return s.map(function(o){return l=[],d.push(l),p.map(function(u){return o.map(function(f){return l.push(n(u,f))})})})})&&d}});function Cu(){throw new Error('No "bignumber" implementation available')}function If(){throw new Error('No "fraction" implementation available')}function _u(){throw new Error('No "matrix" implementation available')}var oi="range",Tf=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Rf=G(oi,Tf,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:d,largerEq:l,add:p,isPositive:o}=t;return e(oi,{string:f,"string, boolean":f,"number, number":function(h,g){return u(c(h,g,1,!1))},"number, number, number":function(h,g,v){return u(c(h,g,v,!1))},"number, number, boolean":function(h,g,v){return u(c(h,g,1,v))},"number, number, number, boolean":function(h,g,v,w){return u(c(h,g,v,w))},"BigNumber, BigNumber":function(h,g){var v=h.constructor;return u(c(h,g,new v(1),!1))},"BigNumber, BigNumber, BigNumber":function(h,g,v){return u(c(h,g,v,!1))},"BigNumber, BigNumber, boolean":function(h,g,v){var w=h.constructor;return u(c(h,g,new w(1),v))},"BigNumber, BigNumber, BigNumber, boolean":function(h,g,v,w){return u(c(h,g,v,w))},"Unit, Unit, Unit":function(h,g,v){return u(c(h,g,v,!1))},"Unit, Unit, Unit, boolean":function(h,g,v,w){return u(c(h,g,v,w))}});function u(h){return r.matrix==="Matrix"?n?n(h):_u():h}function f(h,g){var v=m(h);if(!v)throw new SyntaxError('String "'+h+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&Cu(),u(c(i(v.start),i(v.end),i(v.step)))):u(c(v.start,v.end,v.step,g))}function c(h,g,v,w){for(var y=[],E=o(v)?w?s:a:w?l:d,D=h;E(D,g);)y.push(D),D=p(D,v);return y}function m(h){var g=h.split(":"),v=g.map(function(y){return Number(y)}),w=v.some(function(y){return isNaN(y)});if(w)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}}),si="reshape",kf=["typed","isInteger","matrix"],qf=G(si,kf,t=>{var{typed:e,isInteger:r}=t;return e(si,{"Matrix, Array":function(n,i){return n.reshape(i,!0)},"Array, Array":function(n,i){return i.forEach(function(a){if(!r(a))throw new TypeError("Invalid size for dimension: "+a)}),ln(n,i)}})}),fi="size",jf=["typed","config","?matrix"],Pf=G(fi,jf,t=>{var{typed:e,config:r,matrix:n}=t;return e(fi,{Matrix:function(i){return i.create(i.size())},Array:zt,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([]):_u()}})}),li="subset",Uf=["typed","matrix","zeros","add"],$f=G(li,Uf,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(li,{"Matrix, Index":function(s,d){return $e(d)?r():(vr(s,d),s.subset(d))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(d,l){var p=s(r(d),l);return l.isScalar()?p:p.valueOf()}}),"Object, Index":Wf,"string, Index":Kf,"Matrix, Index, any, any":function(s,d,l,p){return $e(d)?s:(vr(s,d),s.clone().subset(d,a(l,d),p))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(d,l,p,o){var u=s(r(d),l,p,o);return u.isMatrix?u.valueOf():u}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(d,l,p){return s(r(d),l,p,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(d,l,p){return s(d,l,p,void 0)}}),"string, Index, string":ci,"string, Index, string, string":ci,"Object, Index, any":Zf});function a(s,d){if(typeof s=="string")throw new Error("can't boradcast a string");if(d._isScalar)return s;var l=d.size();if(l.every(p=>p>0))try{return i(s,n(l))}catch{return s}else return s}});function Kf(t,e){if(!zr(e))throw new TypeError("Index expected");if($e(e))return"";if(vr(Array.from(t),e),e.size().length!==1)throw new gt(e.size().length,1);var r=t.length;Ct(e.min()[0],r),Ct(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function ci(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if($e(e))return t;if(vr(Array.from(t),e),e.size().length!==1)throw new gt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new gt(i.size()[0],r.length);var s=t.length;Ct(e.min()[0]),Ct(e.max()[0]);for(var d=[],l=0;l<s;l++)d[l]=t.charAt(l);if(i.forEach(function(u,f){d[u]=r.charAt(f[0])}),d.length>s)for(var p=s-1,o=d.length;p<o;p++)d[p]||(d[p]=n);return d.join("")}function Wf(t,e){if(!$e(e)){if(e.size().length!==1)throw new gt(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return Vi(t,r)}}function Zf(t,e,r){if($e(e))return t;if(e.size().length!==1)throw new gt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=yt(t);return Yi(i,n,r),i}var pi="transpose",Lf=["typed","matrix"],Hf=G(pi,Lf,t=>{var{typed:e,matrix:r}=t;return e(pi,{Array:s=>n(r(s)).valueOf(),Matrix:n,any:yt});function n(s){var d=s.size(),l;switch(d.length){case 1:l=s.clone();break;case 2:{var p=d[0],o=d[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ot(d)+")");switch(s.storage()){case"dense":l=i(s,p,o);break;case"sparse":l=a(s,p,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ot(d)+")")}return l}function i(s,d,l){for(var p=s._data,o=[],u,f=0;f<l;f++){u=o[f]=[];for(var c=0;c<d;c++)u[c]=yt(p[c][f])}return s.createDenseMatrix({data:o,size:[l,d],datatype:s._datatype})}function a(s,d,l){for(var p=s._values,o=s._index,u=s._ptr,f=p?[]:void 0,c=[],m=[],h=[],g=0;g<d;g++)h[g]=0;var v,w,y;for(v=0,w=o.length;v<w;v++)h[o[v]]++;for(var E=0,D=0;D<d;D++)m.push(E),E+=h[D],h[D]=m[D];for(m.push(E),y=0;y<l;y++)for(var A=u[y],F=u[y+1],C=A;C<F;C++){var x=h[o[C]]++;c[x]=y,p&&(f[x]=yt(p[C]))}return s.createSparseMatrix({values:f,index:c,ptr:m,size:[l,d],datatype:s._datatype})}}),hi="ctranspose",Jf=["typed","transpose","conj"],Gf=G(hi,Jf,t=>{var{typed:e,transpose:r,conj:n}=t;return e(hi,{any:function(i){return n(r(i))}})}),di="zeros",Vf=["typed","config","matrix","BigNumber"],Yf=G(di,Vf,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(di,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(l){var p=l[l.length-1];if(typeof p=="string"){var o=l.pop();return a(l,o)}else return r.matrix==="Array"?a(l):a(l,"default")},Array:a,Matrix:function(l){var p=l.storage();return a(l.valueOf(),p)},"Array | Matrix, string":function(l,p){return a(l.valueOf(),p)}});function a(l,p){var o=s(l),u=o?new i(0):0;if(d(l),p){var f=n(p);return l.length>0?f.resize(l,u):f}else{var c=[];return l.length>0?Dr(c,l,u):c}}function s(l){var p=!1;return l.forEach(function(o,u,f){It(o)&&(p=!0,f[u]=o.toNumber())}),p}function d(l){l.forEach(function(p){if(typeof p!="number"||!Bt(p)||p<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Xf="numeric",Qf=["number","?bignumber","?fraction"],tl=G(Xf,Qf,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:s=>e(s),BigNumber:r?s=>r(s):Cu,Fraction:n?s=>n(s):If};return function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var p=ae(s);if(!(p in i))throw new TypeError("Cannot convert "+s+' of type "'+p+'"; valid input types are '+Object.keys(i).join(", "));if(!(d in a))throw new TypeError("Cannot convert "+s+' to type "'+d+'"; valid output types are '+Object.keys(a).join(", "));return d===p?s:a[d](s)}}),mi="divideScalar",el=["typed","numeric"],rl=G(mi,el,t=>{var{typed:e,numeric:r}=t;return e(mi,{"number, number":function(n,i){return n/i},"Complex, Complex":function(n,i){return n.div(i)},"BigNumber, BigNumber":function(n,i){return n.div(i)},"Fraction, Fraction":function(n,i){return n.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),vi="pow",nl=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],il=G(vi,nl,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:s,number:d,fraction:l,Complex:p}=t;return e(vi,{"number, number":o,"Complex, Complex":function(c,m){return c.pow(m)},"BigNumber, BigNumber":function(c,m){return m.isInteger()||c>=0||r.predictable?c.pow(m):new p(c.toNumber(),0).pow(m.toNumber(),0)},"Fraction, Fraction":function(c,m){var h=c.pow(m);if(h!=null)return h;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(c.valueOf(),m.valueOf())},"Array, number":u,"Array, BigNumber":function(c,m){return u(c,m.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(c,m){return f(c,m.toNumber())},"Unit, number | BigNumber":function(c,m){return c.pow(m)}});function o(c,m){if(r.predictable&&!Bt(m)&&c<0)try{var h=l(m),g=d(h);if((m===g||Math.abs((m-g)/m)<1e-14)&&h.d%2===1)return(h.n%2===0?1:-1)*Math.pow(-c,m)}catch{}return r.predictable&&(c<-1&&m===1/0||c>-1&&c<0&&m===-1/0)?NaN:Bt(m)||c>=0||r.predictable?gu(c,m):c*c<1&&m===1/0||c*c>1&&m===-1/0?0:new p(c,0).pow(m,0)}function u(c,m){if(!Bt(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var h=zt(c);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(m<0)try{return u(s(c),-m)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):w}for(var g=n(h[0]).valueOf(),v=c;m>=1;)(m&1)===1&&(g=i(v,g)),m>>=1,v=i(v,v);return g}function f(c,m){return a(u(c.valueOf(),m))}});function jr(t){var{DenseMatrix:e}=t;return function(r,n,i){var a=r.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Ot(a)+")");var s=a[0],d=a[1];if(s!==d)throw new RangeError("Matrix must be square (size: "+Ot(a)+")");var l=[];if(_t(n)){var p=n.size(),o=n._data;if(p.length===1){if(p[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var u=0;u<s;u++)l[u]=[o[u]];return new e({data:l,size:[s,1],datatype:n._datatype})}if(p.length===2){if(p[0]!==s||p[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(mr(n)){if(i){l=[];for(var f=0;f<s;f++)l[f]=[o[f][0]];return new e({data:l,size:[s,1],datatype:n._datatype})}return n}if(Te(n)){for(var c=0;c<s;c++)l[c]=[0];for(var m=n._values,h=n._index,g=n._ptr,v=g[1],w=g[0];w<v;w++){var y=h[w];l[y][0]=m[w]}return new e({data:l,size:[s,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ft(n)){var E=zt(n);if(E.length===1){if(E[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<s;D++)l[D]=[n[D]];return new e({data:l,size:[s,1]})}if(E.length===2){if(E[0]!==s||E[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<s;A++)l[A]=[n[A][0]];return new e({data:l,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Di="lsolve",ul=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],al=G(Di,ul,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:d}=t,l=jr({DenseMatrix:d});return e(Di,{"SparseMatrix, Array | Matrix":function(u,f){return o(u,f)},"DenseMatrix, Array | Matrix":function(u,f){return p(u,f)},"Array, Array | Matrix":function(u,f){var c=r(u),m=p(c,f);return m.valueOf()}});function p(u,f){f=l(u,f,!0);for(var c=f._data,m=u._size[0],h=u._size[1],g=[],v=u._data,w=0;w<h;w++){var y=c[w][0]||0,E=void 0;if(s(y,0))E=0;else{var D=v[w][w];if(s(D,0))throw new Error("Linear system cannot be solved since matrix is singular");E=n(y,D);for(var A=w+1;A<m;A++)c[A]=[a(c[A][0]||0,i(E,v[A][w]))]}g[w]=[E]}return new d({data:g,size:[m,1]})}function o(u,f){f=l(u,f,!0);for(var c=f._data,m=u._size[0],h=u._size[1],g=u._values,v=u._index,w=u._ptr,y=[],E=0;E<h;E++){var D=c[E][0]||0;if(s(D,0))y[E]=[0];else{for(var A=0,F=[],C=[],x=w[E],M=w[E+1],b=x;b<M;b++){var _=v[b];_===E?A=g[b]:_>E&&(F.push(g[b]),C.push(_))}if(s(A,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(D,A),z=0,O=C.length;z<O;z++){var I=C[z];c[I]=[a(c[I][0]||0,i(S,F[z]))]}y[E]=[S]}}return new d({data:y,size:[m,1]})}}),gi="usolve",ol=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],sl=G(gi,ol,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:d}=t,l=jr({DenseMatrix:d});return e(gi,{"SparseMatrix, Array | Matrix":function(u,f){return o(u,f)},"DenseMatrix, Array | Matrix":function(u,f){return p(u,f)},"Array, Array | Matrix":function(u,f){var c=r(u),m=p(c,f);return m.valueOf()}});function p(u,f){f=l(u,f,!0);for(var c=f._data,m=u._size[0],h=u._size[1],g=[],v=u._data,w=h-1;w>=0;w--){var y=c[w][0]||0,E=void 0;if(s(y,0))E=0;else{var D=v[w][w];if(s(D,0))throw new Error("Linear system cannot be solved since matrix is singular");E=n(y,D);for(var A=w-1;A>=0;A--)c[A]=[a(c[A][0]||0,i(E,v[A][w]))]}g[w]=[E]}return new d({data:g,size:[m,1]})}function o(u,f){f=l(u,f,!0);for(var c=f._data,m=u._size[0],h=u._size[1],g=u._values,v=u._index,w=u._ptr,y=[],E=h-1;E>=0;E--){var D=c[E][0]||0;if(s(D,0))y[E]=[0];else{for(var A=0,F=[],C=[],x=w[E],M=w[E+1],b=M-1;b>=x;b--){var _=v[b];_===E?A=g[b]:_<E&&(F.push(g[b]),C.push(_))}if(s(A,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(D,A),z=0,O=C.length;z<O;z++){var I=C[z];c[I]=[a(c[I][0],i(S,F[z]))]}y[E]=[S]}}return new d({data:y,size:[m,1]})}}),yi="usolveAll",fl=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ll=G(yi,fl,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:d}=t,l=jr({DenseMatrix:d});return e(yi,{"SparseMatrix, Array | Matrix":function(u,f){return o(u,f)},"DenseMatrix, Array | Matrix":function(u,f){return p(u,f)},"Array, Array | Matrix":function(u,f){var c=r(u),m=p(c,f);return m.map(h=>h.valueOf())}});function p(u,f){for(var c=[l(u,f,!0)._data.map(C=>C[0])],m=u._data,h=u._size[0],g=u._size[1],v=g-1;v>=0;v--)for(var w=c.length,y=0;y<w;y++){var E=c[y];if(s(m[v][v],0))if(s(E[v],0)){if(y===0){var D=[...E];D[v]=1;for(var A=v-1;A>=0;A--)D[A]=a(D[A],m[A][v]);c.push(D)}}else{if(y===0)return[];c.splice(y,1),y-=1,w-=1}else{E[v]=n(E[v],m[v][v]);for(var F=v-1;F>=0;F--)E[F]=a(E[F],i(E[v],m[F][v]))}}return c.map(C=>new d({data:C.map(x=>[x]),size:[h,1]}))}function o(u,f){for(var c=[l(u,f,!0)._data.map(rt=>rt[0])],m=u._size[0],h=u._size[1],g=u._values,v=u._index,w=u._ptr,y=h-1;y>=0;y--)for(var E=c.length,D=0;D<E;D++){for(var A=c[D],F=[],C=[],x=w[y],M=w[y+1],b=0,_=M-1;_>=x;_--){var S=v[_];S===y?b=g[_]:S<y&&(F.push(g[_]),C.push(S))}if(s(b,0))if(s(A[y],0)){if(D===0){var z=[...A];z[y]=1;for(var O=0,I=C.length;O<I;O++){var P=C[O];z[P]=a(z[P],F[O])}c.push(z)}}else{if(D===0)return[];c.splice(D,1),D-=1,E-=1}else{A[y]=n(A[y],b);for(var N=0,R=C.length;N<R;N++){var K=C[N];A[K]=a(A[K],i(A[y],F[N]))}}}return c.map(rt=>new d({data:rt.map(q=>[q]),size:[m,1]}))}}),Er="compare",cl=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],pl=G(Er,cl,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:s,DenseMatrix:d,concat:l}=t,p=Be({typed:e}),o=Eu({typed:e,equalScalar:n}),u=Me({typed:e,DenseMatrix:d}),f=Fe({typed:e,matrix:i,concat:l}),c=Ze({typed:e});return e(Er,hl({typed:e,config:r}),{"boolean, boolean":function(m,h){return m===h?0:m>h?1:-1},"BigNumber, BigNumber":function(m,h){return We(m,h,r.epsilon)?new a(0):new a(m.cmp(h))},"Fraction, Fraction":function(m,h){return new s(m.compare(h))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,f({SS:o,DS:p,Ss:u}))}),hl=G(Er,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Er,{"number, number":function(n,i){return de(n,i,r.epsilon)?0:n>i?1:-1}})}),Ie=Nr(Ba(),1),wi="compareNatural",dl=["typed","compare"],ml=G(wi,dl,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(wi,{"any, any":i});function i(l,p){var o=ae(l),u=ae(p),f;if((o==="number"||o==="BigNumber"||o==="Fraction")&&(u==="number"||u==="BigNumber"||u==="Fraction"))return f=r(l,p),f.toString()!=="0"?f>0?1:-1:(0,Ie.default)(o,u);var c=["Array","DenseMatrix","SparseMatrix"];if(c.includes(o)||c.includes(u))return f=a(i,l,p),f!==0?f:(0,Ie.default)(o,u);if(o!==u)return(0,Ie.default)(o,u);if(o==="Complex")return vl(l,p);if(o==="Unit")return l.equalBase(p)?i(l.value,p.value):s(i,l.formatUnits(),p.formatUnits());if(o==="boolean")return n(l,p);if(o==="string")return(0,Ie.default)(l,p);if(o==="Object")return d(i,l,p);if(o==="null"||o==="undefined")return 0;throw new TypeError('Unsupported type of value "'+o+'"')}function a(l,p,o){return Te(p)&&Te(o)?s(l,p.toJSON().values,o.toJSON().values):Te(p)?a(l,p.toArray(),o):Te(o)?a(l,p,o.toArray()):mr(p)?a(l,p.toJSON().data,o):mr(o)?a(l,p,o.toJSON().data):Array.isArray(p)?Array.isArray(o)?s(l,p,o):a(l,p,[o]):a(l,[p],o)}function s(l,p,o){for(var u=0,f=Math.min(p.length,o.length);u<f;u++){var c=l(p[u],o[u]);if(c!==0)return c}return p.length>o.length?1:p.length<o.length?-1:0}function d(l,p,o){var u=Object.keys(p),f=Object.keys(o);u.sort(Ie.default),f.sort(Ie.default);var c=s(l,u,f);if(c!==0)return c;for(var m=0;m<u.length;m++){var h=l(p[u[m]],o[f[m]]);if(h!==0)return h}return 0}});function vl(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var Fr="equal",Dl=["typed","matrix","equalScalar","DenseMatrix","concat"],gl=G(Fr,Dl,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,s=Be({typed:e}),d=ir({typed:e,DenseMatrix:i}),l=Me({typed:e,DenseMatrix:i}),p=Fe({typed:e,matrix:r,concat:a});return e(Fr,yl({typed:e,equalScalar:n}),p({elop:n,SS:d,DS:s,Ss:l}))}),yl=G(Fr,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Fr,{"any, any":function(n,i){return n===null?i===null:i===null?n===null:n===void 0?i===void 0:i===void 0?n===void 0:r(n,i)}})}),br="smaller",wl=["typed","config","matrix","DenseMatrix","concat"],xl=G(br,wl,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,s=Be({typed:e}),d=ir({typed:e,DenseMatrix:i}),l=Me({typed:e,DenseMatrix:i}),p=Fe({typed:e,matrix:n,concat:a}),o=Ze({typed:e});return e(br,Al({typed:e,config:r}),{"boolean, boolean":(u,f)=>u<f,"BigNumber, BigNumber":function(u,f){return u.lt(f)&&!We(u,f,r.epsilon)},"Fraction, Fraction":(u,f)=>u.compare(f)===-1,"Complex, Complex":function(u,f){throw new TypeError("No ordering relation is defined for complex numbers")}},o,p({SS:d,DS:s,Ss:l}))}),Al=G(br,["typed","config"],t=>{var{typed:e,config:r}=t;return e(br,{"number, number":function(n,i){return n<i&&!de(n,i,r.epsilon)}})}),Cr="smallerEq",El=["typed","config","matrix","DenseMatrix","concat"],Fl=G(Cr,El,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,s=Be({typed:e}),d=ir({typed:e,DenseMatrix:i}),l=Me({typed:e,DenseMatrix:i}),p=Fe({typed:e,matrix:n,concat:a}),o=Ze({typed:e});return e(Cr,bl({typed:e,config:r}),{"boolean, boolean":(u,f)=>u<=f,"BigNumber, BigNumber":function(u,f){return u.lte(f)||We(u,f,r.epsilon)},"Fraction, Fraction":(u,f)=>u.compare(f)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,p({SS:d,DS:s,Ss:l}))}),bl=G(Cr,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Cr,{"number, number":function(n,i){return n<=i||de(n,i,r.epsilon)}})}),_r="larger",Cl=["typed","config","matrix","DenseMatrix","concat"],_l=G(_r,Cl,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,s=Be({typed:e}),d=ir({typed:e,DenseMatrix:i}),l=Me({typed:e,DenseMatrix:i}),p=Fe({typed:e,matrix:n,concat:a}),o=Ze({typed:e});return e(_r,Ml({typed:e,config:r}),{"boolean, boolean":(u,f)=>u>f,"BigNumber, BigNumber":function(u,f){return u.gt(f)&&!We(u,f,r.epsilon)},"Fraction, Fraction":(u,f)=>u.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,p({SS:d,DS:s,Ss:l}))}),Ml=G(_r,["typed","config"],t=>{var{typed:e,config:r}=t;return e(_r,{"number, number":function(n,i){return n>i&&!de(n,i,r.epsilon)}})}),Mr="largerEq",Bl=["typed","config","matrix","DenseMatrix","concat"],Sl=G(Mr,Bl,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,s=Be({typed:e}),d=ir({typed:e,DenseMatrix:i}),l=Me({typed:e,DenseMatrix:i}),p=Fe({typed:e,matrix:n,concat:a}),o=Ze({typed:e});return e(Mr,Nl({typed:e,config:r}),{"boolean, boolean":(u,f)=>u>=f,"BigNumber, BigNumber":function(u,f){return u.gte(f)||We(u,f,r.epsilon)},"Fraction, Fraction":(u,f)=>u.compare(f)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,p({SS:d,DS:s,Ss:l}))}),Nl=G(Mr,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Mr,{"number, number":function(n,i){return n>=i||de(n,i,r.epsilon)}})}),zl="ImmutableDenseMatrix",Ol=["smaller","DenseMatrix"],Il=G(zl,Ol,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Qt(a))throw new Error("Invalid datatype: "+a);if(_t(i)||Ft(i)){var s=new r(i,a);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(i&&Ft(i.data)&&Ft(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+ae(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return _t(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:yt(this._data),size:yt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),Tl="Index",Rl=["ImmutableDenseMatrix","getMatrixDataType"],kl=G(Tl,Rl,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,d=arguments.length;s<d;s++){var l=arguments[s],p=Ft(l),o=_t(l),u=null;if(Pi(l))this._dimensions.push(l),this._isScalar=!1;else if(p||o){var f=void 0;r(l)==="boolean"?(p&&(f=i(xi(l).valueOf())),o&&(f=i(xi(l._data).valueOf())),u=l.valueOf().length):f=i(l.valueOf()),this._dimensions.push(f);var c=f.size();(c.length!==1||c[0]!==1||u!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(u)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var s=0,d=a.length;s<d;s++)if(typeof a[s]!="number"||!Bt(a[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=yt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var s=new n;return n.apply(s,a),s},n.prototype.size=function(){for(var a=[],s=0,d=this._dimensions.length;s<d;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],s=0,d=this._dimensions.length;s<d;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],s=0,d=this._dimensions.length;s<d;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var s=0,d=this._dimensions.length;s<d;s++)a(this._dimensions[s],s,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],s=0,d=this._dimensions.length;s<d;s++){var l=this._dimensions[s];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],s=0,d=this._dimensions.length;s<d;s++){var l=this._dimensions[s];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function xi(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var ql="FibonacciHeap",jl=["smaller","larger"],Pl=G(ql,jl,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(o,u){var f={key:o,value:u,degree:0};if(this._minimum){var c=this._minimum;f.left=c,f.right=c.right,c.right=f,f.right.left=f,e(o,c.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var u=this._minimum,f=o.degree,c=o.child;f>0;){var m=c.right;c.left.right=c.right,c.right.left=c.left,c.left=u,c.right=u.right,u.right=c,c.right.left=c,c.parent=null,c=m,f--}return o.left.right=o.right,o.right.left=o.left,o===o.right?u=null:(u=o.right,u=p(u,this._size)),this._size--,this._minimum=u,o},i.prototype.remove=function(o){this._minimum=a(this._minimum,o,-1),this.extractMinimum()};function a(o,u,f){u.key=f;var c=u.parent;return c&&e(u.key,c.key)&&(s(o,u,c),d(o,c)),e(u.key,o.key)&&(o=u),o}function s(o,u,f){u.left.right=u.right,u.right.left=u.left,f.degree--,f.child===u&&(f.child=u.right),f.degree===0&&(f.child=null),u.left=o,u.right=o.right,o.right=u,u.right.left=u,u.parent=null,u.mark=!1}function d(o,u){var f=u.parent;f&&(u.mark?(s(o,u,f),d(f)):u.mark=!0)}var l=function(o,u){o.left.right=o.right,o.right.left=o.left,o.parent=u,u.child?(o.left=u.child,o.right=u.child.right,u.child.right=o,o.right.left=o):(u.child=o,o.right=o,o.left=o),u.degree++,o.mark=!1};function p(o,u){var f=Math.floor(Math.log(u)*n)+1,c=new Array(f),m=0,h=o;if(h)for(m++,h=h.right;h!==o;)m++,h=h.right;for(var g;m>0;){for(var v=h.degree,w=h.right;g=c[v],!!g;){if(r(h.key,g.key)){var y=g;g=h,h=y}l(g,h),c[v]=null,v++}c[v]=h,h=w,m--}o=null;for(var E=0;E<f;E++)g=c[E],g&&(o?(g.left.right=g.right,g.right.left=g.left,g.left=o,g.right=o.right,o.right=g,g.right.left=g,e(g.key,o.key)&&(o=g)):o=g);return o}return i},{isClass:!0}),Ul="Spa",$l=["addScalar","equalScalar","FibonacciHeap"],Kl=G(Ul,$l,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,s){if(this._values[a])this._values[a].value=s;else{var d=this._heap.insert(a,s);this._values[a]=d}},i.prototype.get=function(a){var s=this._values[a];return s?s.value:0},i.prototype.accumulate=function(a,s){var d=this._values[a];d?d.value=e(d.value,s):(d=this._heap.insert(a,s),this._values[a]=d)},i.prototype.forEach=function(a,s,d){var l=this._heap,p=this._values,o=[],u=l.extractMinimum();for(u&&o.push(u);u&&u.key<=s;)u.key>=a&&(r(u.value,0)||d(u.key,u.value,this)),u=l.extractMinimum(),u&&o.push(u);for(var f=0;f<o.length;f++){var c=o[f];u=l.insert(c.key,c.value),p[u.key]=u}},i.prototype.swap=function(a,s){var d=this._values[a],l=this._values[s];if(!d&&l)d=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=d,this._values[s]=void 0;else if(d&&!l)l=this._heap.insert(s,d.value),this._heap.remove(d),this._values[s]=l,this._values[a]=void 0;else if(d&&l){var p=d.value;d.value=l.value,l.value=p}},i},{isClass:!0}),Wl="atan",Zl=["typed"],Ll=G(Wl,Zl,t=>{var{typed:e}=t;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),Mu=G("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),Ai="cos",Hl=["typed"],Jl=G(Ai,Hl,t=>{var{typed:e}=t,r=Mu({typed:e});return e(Ai,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),Ei="sin",Gl=["typed"],Vl=G(Ei,Gl,t=>{var{typed:e}=t,r=Mu({typed:e});return e(Ei,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),Fi="setDifference",Yl=["typed","size","subset","compareNatural","Index","DenseMatrix"],Xl=G(Fi,Yl,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=t;return e(Fi,{"Array | Matrix, Array | Matrix":function(d,l){var p;if(n(r(d),new a(0))===0)p=[];else{if(n(r(l),new a(0))===0)return qe(d.toArray());var o=zn(qe(Array.isArray(d)?d:d.toArray()).sort(i)),u=zn(qe(Array.isArray(l)?l:l.toArray()).sort(i));p=[];for(var f,c=0;c<o.length;c++){f=!1;for(var m=0;m<u.length;m++)if(i(o[c].value,u[m].value)===0&&o[c].identifier===u[m].identifier){f=!0;break}f||p.push(o[c])}}return Array.isArray(d)&&Array.isArray(l)?On(p):new s(On(p))}})}),bi="add",Ql=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],tc=G(bi,Ql,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:d}=t,l=Fu({typed:e}),p=V0({typed:e,equalScalar:i}),o=bu({typed:e,DenseMatrix:a}),u=Fe({typed:e,matrix:r,concat:d});return e(bi,{"any, any":n,"any, any, ...any":e.referToSelf(f=>(c,m,h)=>{for(var g=f(c,m),v=0;v<h.length;v++)g=f(g,h[v]);return g})},u({elop:n,DS:l,SS:p,Ss:o}))}),Ci="norm",ec=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],rc=G(Ci,ec,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:s,multiply:d,equalScalar:l,larger:p,smaller:o,matrix:u,ctranspose:f,eigs:c}=t;return e(Ci,{number:Math.abs,Complex:function(F){return F.abs()},BigNumber:function(F){return F.abs()},boolean:function(F){return Math.abs(F)},Array:function(F){return A(u(F),2)},Matrix:function(F){return A(F,2)},"Array, number | BigNumber | string":function(F,C){return A(u(F),C)},"Matrix, number | BigNumber | string":function(F,C){return A(F,C)}});function m(F){var C=0;return F.forEach(function(x){var M=r(x);p(M,C)&&(C=M)},!0),C}function h(F){var C;return F.forEach(function(x){var M=r(x);(!C||o(M,C))&&(C=M)},!0),C||0}function g(F,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return m(F);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return h(F);if(C==="fro")return A(F,2);if(typeof C=="number"&&!isNaN(C)){if(!l(C,0)){var x=0;return F.forEach(function(M){x=n(i(r(M),C),x)},!0),i(x,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(F){var C=0;return F.forEach(function(x,M){C=n(C,d(x,a(x)))}),r(s(C))}function w(F){var C=[],x=0;return F.forEach(function(M,b){var _=b[1],S=n(C[_]||0,r(M));p(S,x)&&(x=S),C[_]=S},!0),x}function y(F){var C=F.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var x=f(F),M=d(x,F),b=c(M).values.toArray(),_=b[b.length-1];return r(s(_))}function E(F){var C=[],x=0;return F.forEach(function(M,b){var _=b[0],S=n(C[_]||0,r(M));p(S,x)&&(x=S),C[_]=S},!0),x}function D(F,C){if(C===1)return w(F);if(C===Number.POSITIVE_INFINITY||C==="inf")return E(F);if(C==="fro")return v(F);if(C===2)return y(F);throw new Error("Unsupported parameter value "+C)}function A(F,C){var x=F.size();if(x.length===1)return g(F,C);if(x.length===2){if(x[0]&&x[1])return D(F,C);throw new RangeError("Invalid matrix dimensions")}}}),_i="dot",nc=["typed","addScalar","multiplyScalar","conj","size"],ic=G(_i,nc,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(_i,{"Array | DenseMatrix, Array | DenseMatrix":d,"SparseMatrix, SparseMatrix":l});function s(o,u){var f=p(o),c=p(u),m,h;if(f.length===1)m=f[0];else if(f.length===2&&f[1]===1)m=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(c.length===1)h=c[0];else if(c.length===2&&c[1]===1)h=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(m!==h)throw new RangeError("Vectors must have equal length ("+m+" != "+h+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function d(o,u){var f=s(o,u),c=_t(o)?o._data:o,m=_t(o)?o._datatype||o.getDataType():void 0,h=_t(u)?u._data:u,g=_t(u)?u._datatype||u.getDataType():void 0,v=p(o).length===2,w=p(u).length===2,y=r,E=n;if(m&&g&&m===g&&typeof m=="string"&&m!=="mixed"){var D=m;y=e.find(r,[D,D]),E=e.find(n,[D,D])}if(!v&&!w){for(var A=E(i(c[0]),h[0]),F=1;F<f;F++)A=y(A,E(i(c[F]),h[F]));return A}if(!v&&w){for(var C=E(i(c[0]),h[0][0]),x=1;x<f;x++)C=y(C,E(i(c[x]),h[x][0]));return C}if(v&&!w){for(var M=E(i(c[0][0]),h[0]),b=1;b<f;b++)M=y(M,E(i(c[b][0]),h[b]));return M}if(v&&w){for(var _=E(i(c[0][0]),h[0][0]),S=1;S<f;S++)_=y(_,E(i(c[S][0]),h[S][0]));return _}}function l(o,u){s(o,u);for(var f=o._index,c=o._values,m=u._index,h=u._values,g=0,v=r,w=n,y=0,E=0;y<f.length&&E<m.length;){var D=f[y],A=m[E];if(D<A){y++;continue}if(D>A){E++;continue}D===A&&(g=v(g,w(c[y],h[E])),y++,E++)}return g}function p(o){return _t(o)?o.size():a(o)}}),Mi="index",uc=["typed","Index"],ac=G(Mi,uc,t=>{var{typed:e,Index:r}=t;return e(Mi,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var i=n.map(function(s){return It(s)?s.toNumber():Ft(s)||_t(s)?s.map(function(d){return It(d)?d.toNumber():d}):s}),a=new r;return r.apply(a,i),a}})}),Bi="lup",oc=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],sc=G(Bi,oc,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:s,subtractScalar:d,larger:l,equalScalar:p,unaryMinus:o,DenseMatrix:u,SparseMatrix:f,Spa:c}=t;return e(Bi,{DenseMatrix:function(g){return m(g)},SparseMatrix:function(g){return h(g)},Array:function(g){var v=r(g),w=m(v);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function m(g){var v=g._size[0],w=g._size[1],y=Math.min(v,w),E=yt(g._data),D=[],A=[v,y],F=[],C=[y,w],x,M,b,_=[];for(x=0;x<v;x++)_[x]=x;for(M=0;M<w;M++){if(M>0)for(x=0;x<v;x++){var S=Math.min(x,M),z=0;for(b=0;b<S;b++)z=i(z,s(E[x][b],E[b][M]));E[x][M]=d(E[x][M],z)}var O=M,I=0,P=0;for(x=M;x<v;x++){var N=E[x][M],R=n(N);l(R,I)&&(O=x,I=R,P=N)}if(M!==O&&(_[M]=[_[O],_[O]=_[M]][0],u._swapRows(M,O,E)),M<v)for(x=M+1;x<v;x++){var K=E[x][M];p(K,0)||(E[x][M]=a(E[x][M],P))}}for(M=0;M<w;M++)for(x=0;x<v;x++){if(M===0&&(x<w&&(F[x]=[]),D[x]=[]),x<M){x<w&&(F[x][M]=E[x][M]),M<v&&(D[x][M]=0);continue}if(x===M){x<w&&(F[x][M]=E[x][M]),M<v&&(D[x][M]=1);continue}x<w&&(F[x][M]=0),M<v&&(D[x][M]=E[x][M])}var rt=new u({data:D,size:A}),q=new u({data:F,size:C}),k=[];for(x=0,y=_.length;x<y;x++)k[_[x]]=x;return{L:rt,U:q,p:k,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(g){var v=g._size[0],w=g._size[1],y=Math.min(v,w),E=g._values,D=g._index,A=g._ptr,F=[],C=[],x=[],M=[v,y],b=[],_=[],S=[],z=[y,w],O,I,P,N=[],R=[];for(O=0;O<v;O++)N[O]=O,R[O]=O;var K=function(q,k){var tt=R[q],et=R[k];N[tt]=k,N[et]=q,R[q]=et,R[k]=tt},rt=function(){var q=new c;I<v&&(x.push(F.length),F.push(1),C.push(I)),S.push(b.length);var k=A[I],tt=A[I+1];for(P=k;P<tt;P++)O=D[P],q.set(N[O],E[P]);I>0&&q.forEach(0,I-1,function(Y,Z){f._forEachRow(Y,F,C,x,function(V,nt){V>Y&&q.accumulate(V,o(s(nt,Z)))})});var et=I,W=q.get(I),U=n(W);q.forEach(I+1,v-1,function(Y,Z){var V=n(Z);l(V,U)&&(et=Y,U=V,W=Z)}),I!==et&&(f._swapRows(I,et,M[1],F,C,x),f._swapRows(I,et,z[1],b,_,S),q.swap(I,et),K(I,et)),q.forEach(0,v-1,function(Y,Z){Y<=I?(b.push(Z),_.push(Y)):(Z=a(Z,W),p(Z,0)||(F.push(Z),C.push(Y)))})};for(I=0;I<w;I++)rt();return S.push(b.length),x.push(F.length),{L:new f({values:F,index:C,ptr:x,size:M}),U:new f({values:b,index:_,ptr:S,size:z}),p:N,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),Si="qr",fc=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],lc=G(Si,fc,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:s,sign:d,sqrt:l,conj:p,unaryMinus:o,addScalar:u,divideScalar:f,multiplyScalar:c,subtractScalar:m,complex:h}=t;return Pe(e(Si,{DenseMatrix:function(y){return v(y)},SparseMatrix:function(y){return w()},Array:function(y){var E=r(y),D=v(E);return{Q:D.Q.valueOf(),R:D.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var E=y._size[0],D=y._size[1],A=i([E],"dense"),F=A._data,C=y.clone(),x=C._data,M,b,_,S=n([E],"");for(_=0;_<Math.min(D,E);++_){var z=x[_][_],O=o(s(z,0)?1:d(z)),I=p(O),P=0;for(M=_;M<E;M++)P=u(P,c(x[M][_],p(x[M][_])));var N=c(O,l(P));if(!a(N)){var R=m(z,N);for(S[_]=1,M=_+1;M<E;M++)S[M]=f(x[M][_],R);var K=o(p(f(R,N))),rt=void 0;for(b=_;b<D;b++){for(rt=0,M=_;M<E;M++)rt=u(rt,c(p(S[M]),x[M][b]));for(rt=c(rt,K),M=_;M<E;M++)x[M][b]=c(m(x[M][b],c(S[M],rt)),I)}for(M=0;M<E;M++){for(rt=0,b=_;b<E;b++)rt=u(rt,c(F[M][b],S[b]));for(rt=c(rt,K),b=_;b<E;++b)F[M][b]=f(m(F[M][b],c(rt,p(S[b]))),I)}}}return{Q:A,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var E=g(y),D=E.R._data;if(y._data.length>0)for(var A=D[0][0].type==="Complex"?h(0):0,F=0;F<D.length;++F)for(var C=0;C<F&&C<(D[0]||[]).length;++C)D[F][C]=A;return E}function w(y){throw new Error("qr not implemented for sparse matrices yet")}});function cc(t,e,r,n){for(var i=t._values,a=t._index,s=t._ptr,d=t._size,l=t._datatype,p=d[0],o=d[1],u=n&&t._values?[]:null,f=[],c=[],m=0,h=0;h<o;h++){c[h]=m;for(var g=r?r[h]:h,v=s[g],w=s[g+1],y=v;y<w;y++){var E=e?e[a[y]]:a[y];f[m]=E,u&&(u[m]=i[y]),m++}}return c[o]=m,t.createSparseMatrix({values:u,index:f,ptr:c,size:[p,o],datatype:l})}function Bu(t,e,r,n,i,a,s){var d=0;for(r[s]=t;d>=0;){var l=r[s+d],p=r[n+l];p===-1?(d--,a[e++]=l):(r[n+l]=r[i+p],++d,r[s+d]=p)}return e}function pc(t,e){if(!t)return null;var r=0,n,i=[],a=[],s=0,d=e,l=2*e;for(n=0;n<e;n++)a[s+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[d+n]=a[s+t[n]],a[s+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=Bu(n,r,a,s,d,i,l));return i}function hc(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],s=i[1],d=[],l=[],p=0,o=s,u,f;if(e)for(u=0;u<a;u++)l[o+u]=-1;for(var c=0;c<s;c++){d[c]=-1,l[p+c]=-1;for(var m=n[c],h=n[c+1],g=m;g<h;g++){var v=r[g];for(u=e?l[o+v]:v;u!==-1&&u<c;u=f)f=l[p+u],l[p+u]=c,f===-1&&(d[u]=c);e&&(l[o+v]=c)}}return d}function dc(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,s=t._size,d=s[1],l=0,p=0;p<d;p++){var o=a[p];for(a[p]=l;o<a[p+1];o++)e(i[o],p,n?n[o]:1,r)&&(i[l]=i[o],n&&(n[l]=n[o]),l++)}return a[d]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function ge(t){return-t-2}var mc="csAmd",vc=["add","multiply","transpose"],Dc=G(mc,vc,t=>{var{add:e,multiply:r,transpose:n}=t;return function(p,o){if(!o||p<=0||p>3)return null;var u=o._size,f=u[0],c=u[1],m=0,h=Math.max(16,10*Math.sqrt(c));h=Math.min(c-2,h);var g=i(p,o,f,c,h);dc(g,l,null);for(var v=g._index,w=g._ptr,y=w[c],E=[],D=[],A=0,F=c+1,C=2*(c+1),x=3*(c+1),M=4*(c+1),b=5*(c+1),_=6*(c+1),S=7*(c+1),z=E,O=a(c,w,D,A,x,z,C,S,F,_,M,b),I=s(c,w,D,b,M,_,h,F,x,z,C),P=0,N,R,K,rt,q,k,tt,et,W,U,Y,Z,V,nt,J,at;I<c;){for(K=-1;P<c&&(K=D[x+P])===-1;P++);D[C+K]!==-1&&(z[D[C+K]]=-1),D[x+P]=D[C+K];var pt=D[M+K],ht=D[F+K];I+=ht;var dt=0;D[F+K]=-ht;var ot=w[K],Dt=pt===0?ot:y,wt=Dt;for(rt=1;rt<=pt+1;rt++){for(rt>pt?(k=K,tt=ot,et=D[A+K]-pt):(k=v[ot++],tt=w[k],et=D[A+k]),q=1;q<=et;q++)N=v[tt++],!((W=D[F+N])<=0)&&(dt+=W,D[F+N]=-W,v[wt++]=N,D[C+N]!==-1&&(z[D[C+N]]=z[N]),z[N]!==-1?D[C+z[N]]=D[C+N]:D[x+D[b+N]]=D[C+N]);k!==K&&(w[k]=ge(K),D[_+k]=0)}for(pt!==0&&(y=wt),D[b+K]=dt,w[K]=Dt,D[A+K]=wt-Dt,D[M+K]=-2,O=d(O,m,D,_,c),U=Dt;U<wt;U++)if(N=v[U],!((Y=D[M+N])<=0)){W=-D[F+N];var At=O-W;for(ot=w[N],Z=w[N]+Y-1;ot<=Z;ot++)k=v[ot],D[_+k]>=O?D[_+k]-=W:D[_+k]!==0&&(D[_+k]=D[b+k]+At)}for(U=Dt;U<wt;U++){for(N=v[U],Z=w[N],V=Z+D[M+N]-1,nt=Z,J=0,at=0,ot=Z;ot<=V;ot++)if(k=v[ot],D[_+k]!==0){var Et=D[_+k]-O;Et>0?(at+=Et,v[nt++]=k,J+=k):(w[k]=ge(K),D[_+k]=0)}D[M+N]=nt-Z+1;var qt=nt,$t=Z+D[A+N];for(ot=V+1;ot<$t;ot++){R=v[ot];var Tt=D[F+R];Tt<=0||(at+=Tt,v[nt++]=R,J+=R)}at===0?(w[N]=ge(K),W=-D[F+N],dt-=W,ht+=W,I+=W,D[F+N]=0,D[M+N]=-1):(D[b+N]=Math.min(D[b+N],at),v[nt]=v[qt],v[qt]=v[Z],v[Z]=K,D[A+N]=nt-Z+1,J=(J<0?-J:J)%c,D[C+N]=D[S+J],D[S+J]=N,z[N]=J)}for(D[b+K]=dt,m=Math.max(m,dt),O=d(O+m,m,D,_,c),U=Dt;U<wt;U++)if(N=v[U],!(D[F+N]>=0))for(J=z[N],N=D[S+J],D[S+J]=-1;N!==-1&&D[C+N]!==-1;N=D[C+N],O++){for(et=D[A+N],Y=D[M+N],ot=w[N]+1;ot<=w[N]+et-1;ot++)D[_+v[ot]]=O;var Lt=N;for(R=D[C+N];R!==-1;){var jt=D[A+R]===et&&D[M+R]===Y;for(ot=w[R]+1;jt&&ot<=w[R]+et-1;ot++)D[_+v[ot]]!==O&&(jt=0);jt?(w[R]=ge(N),D[F+N]+=D[F+R],D[F+R]=0,D[M+R]=-1,R=D[C+R],D[C+Lt]=R):(Lt=R,R=D[C+R])}}for(ot=Dt,U=Dt;U<wt;U++)N=v[U],!((W=-D[F+N])<=0)&&(D[F+N]=W,at=D[b+N]+dt-W,at=Math.min(at,c-I-W),D[x+at]!==-1&&(z[D[x+at]]=N),D[C+N]=D[x+at],z[N]=-1,D[x+at]=N,P=Math.min(P,at),D[b+N]=at,v[ot++]=N);D[F+K]=ht,(D[A+K]=ot-Dt)===0&&(w[K]=-1,D[_+K]=0),pt!==0&&(y=ot)}for(N=0;N<c;N++)w[N]=ge(w[N]);for(R=0;R<=c;R++)D[x+R]=-1;for(R=c;R>=0;R--)D[F+R]>0||(D[C+R]=D[x+w[R]],D[x+w[R]]=R);for(k=c;k>=0;k--)D[F+k]<=0||w[k]!==-1&&(D[C+k]=D[x+w[k]],D[x+w[k]]=k);for(K=0,N=0;N<=c;N++)w[N]===-1&&(K=Bu(N,K,D,x,C,E,_));return E.splice(E.length-1,1),E};function i(p,o,u,f,c){var m=n(o);if(p===1&&f===u)return e(o,m);if(p===2){for(var h=m._index,g=m._ptr,v=0,w=0;w<u;w++){var y=g[w];if(g[w]=v,!(g[w+1]-y>c))for(var E=g[w+1];y<E;y++)h[v++]=h[y]}return g[u]=v,o=n(m),r(m,o)}return r(m,o)}function a(p,o,u,f,c,m,h,g,v,w,y,E){for(var D=0;D<p;D++)u[f+D]=o[D+1]-o[D];u[f+p]=0;for(var A=0;A<=p;A++)u[c+A]=-1,m[A]=-1,u[h+A]=-1,u[g+A]=-1,u[v+A]=1,u[w+A]=1,u[y+A]=0,u[E+A]=u[f+A];var F=d(0,0,u,w,p);return u[y+p]=-2,o[p]=-1,u[w+p]=0,F}function s(p,o,u,f,c,m,h,g,v,w,y){for(var E=0,D=0;D<p;D++){var A=u[f+D];if(A===0)u[c+D]=-2,E++,o[D]=-1,u[m+D]=0;else if(A>h)u[g+D]=0,u[c+D]=-1,E++,o[D]=ge(p),u[g+p]++;else{var F=u[v+A];F!==-1&&(w[F]=D),u[y+D]=u[v+A],u[v+A]=D}}return E}function d(p,o,u,f,c){if(p<2||p+o<0){for(var m=0;m<c;m++)u[f+m]!==0&&(u[f+m]=1);p=2}return p}function l(p,o){return p!==o}});function gc(t,e,r,n,i,a,s){var d,l,p=0,o;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var u=r[a+t];if(r[a+t]=e,u===-1)p=1,o=t;else{for(p=2,o=u;o!==r[s+o];o=r[s+o]);for(d=u;d!==o;d=l)l=r[s+d],r[s+d]=o}return{jleaf:p,q:o}}var yc="csCounts",wc=["transpose"],xc=G(yc,wc,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var s=r._size,d=s[0],l=s[1],p,o,u,f,c,m,h,g=4*l+(a?l+d+1:0),v=[],w=0,y=l,E=2*l,D=3*l,A=4*l,F=5*l+1;for(u=0;u<g;u++)v[u]=-1;var C=[],x=e(r),M=x._index,b=x._ptr;for(u=0;u<l;u++)for(o=i[u],C[o]=v[D+o]===-1?1:0;o!==-1&&v[D+o]===-1;o=n[o])v[D+o]=u;if(a){for(u=0;u<l;u++)v[i[u]]=u;for(p=0;p<d;p++){for(u=l,m=b[p],h=b[p+1],c=m;c<h;c++)u=Math.min(u,v[M[c]]);v[F+p]=v[A+u],v[A+u]=p}}for(p=0;p<l;p++)v[w+p]=p;for(u=0;u<l;u++){for(o=i[u],n[o]!==-1&&C[n[o]]--,f=a?v[A+u]:o;f!==-1;f=a?v[F+f]:-1)for(c=b[f];c<b[f+1];c++){p=M[c];var _=gc(p,o,v,D,y,E,w);_.jleaf>=1&&C[o]++,_.jleaf===2&&C[_.q]--}n[o]!==-1&&(v[w+o]=n[o])}for(o=0;o<l;o++)n[o]!==-1&&(C[n[o]]+=C[o]);return C}}),Ac="csSqr",Ec=["add","multiply","transpose"],Fc=G(Ac,Ec,t=>{var{add:e,multiply:r,transpose:n}=t,i=Dc({add:e,multiply:r,transpose:n}),a=xc({transpose:n});return function(d,l,p){var o=l._ptr,u=l._size,f=u[1],c,m={};if(m.q=i(d,l),d&&!m.q)return null;if(p){var h=d?cc(l,null,m.q,0):l;m.parent=hc(h,1);var g=pc(m.parent,f);if(m.cp=a(h,m.parent,g,1),h&&m.parent&&m.cp&&s(h,m))for(m.unz=0,c=0;c<f;c++)m.unz+=m.cp[c]}else m.unz=4*o[f]+f,m.lnz=m.unz;return m};function s(d,l){var p=d._ptr,o=d._index,u=d._size,f=u[0],c=u[1];l.pinv=[],l.leftmost=[];var m=l.parent,h=l.pinv,g=l.leftmost,v=[],w=0,y=f,E=f+c,D=f+2*c,A,F,C,x,M;for(F=0;F<c;F++)v[y+F]=-1,v[E+F]=-1,v[D+F]=0;for(A=0;A<f;A++)g[A]=-1;for(F=c-1;F>=0;F--)for(x=p[F],M=p[F+1],C=x;C<M;C++)g[o[C]]=F;for(A=f-1;A>=0;A--)h[A]=-1,F=g[A],F!==-1&&(v[D+F]++===0&&(v[E+F]=A),v[w+A]=v[y+F],v[y+F]=A);for(l.lnz=0,l.m2=f,F=0;F<c;F++)if(A=v[y+F],l.lnz++,A<0&&(A=l.m2++),h[A]=F,!(--D[F]<=0)){l.lnz+=v[D+F];var b=m[F];b!==-1&&(v[D+b]===0&&(v[E+b]=v[E+F]),v[w+v[E+F]]=v[y+b],v[y+b]=v[w+A],v[D+b]+=v[D+F])}for(A=0;A<f;A++)h[A]<0&&(h[A]=F++);return!0}});function un(t,e){return t[e]<0}function Su(t,e){t[e]=ge(t[e])}function Ni(t){return t<0?ge(t):t}function bc(t,e,r,n,i){var a=e._index,s=e._ptr,d=e._size,l=d[1],p,o,u,f=0;for(n[0]=t;f>=0;){t=n[f];var c=i?i[t]:t;un(s,t)||(Su(s,t),n[l+f]=c<0?0:Ni(s[c]));var m=1;for(o=n[l+f],u=c<0?0:Ni(s[c+1]);o<u;o++)if(p=a[o],!un(s,p)){n[l+f]=o,n[++f]=p,m=0;break}m&&(f--,n[--r]=t)}return r}function Cc(t,e,r,n,i){var a=t._ptr,s=t._size,d=e._index,l=e._ptr,p=s[1],o,u,f,c=p;for(u=l[r],f=l[r+1],o=u;o<f;o++){var m=d[o];un(a,m)||(c=bc(m,t,c,n,i))}for(o=c;o<p;o++)Su(a,n[o]);return c}var _c="csSpsolve",Mc=["divideScalar","multiply","subtract"],Bc=G(_c,Mc,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(i,a,s,d,l,p,o){var u=i._values,f=i._index,c=i._ptr,m=i._size,h=m[1],g=a._values,v=a._index,w=a._ptr,y,E,D,A,F=Cc(i,a,s,d,p);for(y=F;y<h;y++)l[d[y]]=0;for(E=w[s],D=w[s+1],y=E;y<D;y++)l[v[y]]=g[y];for(var C=F;C<h;C++){var x=d[C],M=p?p[x]:x;if(!(M<0))for(E=c[M],D=c[M+1],l[x]=e(l[x],u[o?E:D-1]),y=o?E+1:E,A=o?D:D-1;y<A;y++){var b=f[y];l[b]=n(l[b],r(u[y],l[x]))}}return F}}),Sc="csLu",Nc=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],zc=G(Sc,Nc,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:s,SparseMatrix:d}=t,l=Bc({divideScalar:r,multiply:n,subtract:i});return function(p,o,u){if(!p)return null;var f=p._size,c=f[1],m,h=100,g=100;o&&(m=o.q,h=o.lnz||h,g=o.unz||g);var v=[],w=[],y=[],E=new d({values:v,index:w,ptr:y,size:[c,c]}),D=[],A=[],F=[],C=new d({values:D,index:A,ptr:F,size:[c,c]}),x=[],M,b,_=[],S=[];for(M=0;M<c;M++)_[M]=0,x[M]=-1,y[M+1]=0;h=0,g=0;for(var z=0;z<c;z++){y[z]=h,F[z]=g;var O=m?m[z]:z,I=l(E,p,O,S,_,x,1),P=-1,N=-1;for(b=I;b<c;b++)if(M=S[b],x[M]<0){var R=e(_[M]);a(R,N)&&(N=R,P=M)}else A[g]=x[M],D[g++]=_[M];if(P===-1||N<=0)return null;x[O]<0&&s(e(_[O]),n(N,u))&&(P=O);var K=_[P];for(A[g]=z,D[g++]=K,x[P]=z,w[h]=P,v[h++]=1,b=I;b<c;b++)M=S[b],x[M]<0&&(w[h]=M,v[h++]=r(_[M],K)),_[M]=0}for(y[c]=h,F[c]=g,b=0;b<h;b++)w[b]=x[w[b]];return v.splice(h,v.length-h),w.splice(h,w.length-h),D.splice(g,D.length-g),A.splice(g,A.length-g),{L:E,U:C,pinv:x}}}),zi="slu",Oc=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Ic=G(zi,Oc,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:s,subtract:d,larger:l,largerEq:p,SparseMatrix:o}=t,u=Fc({add:n,multiply:i,transpose:a}),f=zc({abs:r,divideScalar:s,multiply:i,subtract:d,larger:l,largerEq:p,SparseMatrix:o});return e(zi,{"SparseMatrix, number, number":function(c,m,h){if(!Bt(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(h<0||h>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=u(m,c,!1),v=f(c,g,h);return{L:v.L,U:v.U,p:v.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Oi(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var Ii="lusolve",Tc=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Rc=G(Ii,Tc,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:s,DenseMatrix:d}=t,l=jr({DenseMatrix:d});return e(Ii,{"Array, Array | Matrix":function(u,f){u=r(u);var c=n(u),m=o(c.L,c.U,c.p,null,f);return m.valueOf()},"DenseMatrix, Array | Matrix":function(u,f){var c=n(u);return o(c.L,c.U,c.p,null,f)},"SparseMatrix, Array | Matrix":function(u,f){var c=n(u);return o(c.L,c.U,c.p,null,f)},"SparseMatrix, Array | Matrix, number, number":function(u,f,c,m){var h=i(u,c,m);return o(h.L,h.U,h.p,h.q,f)},"Object, Array | Matrix":function(u,f){return o(u.L,u.U,u.p,u.q,f)}});function p(u){if(_t(u))return u;if(Ft(u))return r(u);throw new TypeError("Invalid Matrix LU decomposition")}function o(u,f,c,m,h){u=p(u),f=p(f),c&&(h=l(u,h,!0),h._data=Oi(c,h._data));var g=s(u,h),v=a(f,g);return m&&(v._data=Oi(m,v._data)),v}}),Ti="det",kc=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],qc=G(Ti,kc,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:s,unaryMinus:d}=t;return e(Ti,{any:function(p){return yt(p)},"Array | Matrix":function(p){var o;switch(_t(p)?o=p.size():Array.isArray(p)?(p=r(p),o=p.size()):o=[],o.length){case 0:return yt(p);case 1:if(o[0]===1)return yt(p.valueOf()[0]);if(o[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ot(o)+")");case 2:{var u=o[0],f=o[1];if(u===f)return l(p.clone().valueOf(),u);if(f===0)return 1;throw new RangeError("Matrix must be square (size: "+Ot(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ot(o)+")")}}});function l(p,o,u){if(o===1)return yt(p[0][0]);if(o===2)return n(i(p[0][0],p[1][1]),i(p[1][0],p[0][1]));for(var f=!1,c=new Array(o).fill(0).map((F,C)=>C),m=0;m<o;m++){var h=c[m];if(s(p[h][m])){var g=void 0;for(g=m+1;g<o;g++)if(!s(p[c[g]][m])){h=c[g],c[g]=c[m],c[m]=h,f=!f;break}if(g===o)return p[h][m]}for(var v=p[h][m],w=m===0?1:p[c[m-1]][m-1],y=m+1;y<o;y++)for(var E=c[y],D=m+1;D<o;D++)p[E][D]=a(n(i(p[E][D],v),i(p[E][m],p[h][D])),w)}var A=p[c[o-1]][o-1];return f?d(A):A}}),Ri="inv",jc=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Pc=G(Ri,jc,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:s,det:d,identity:l,abs:p}=t;return e(Ri,{"Array | Matrix":function(u){var f=_t(u)?u.size():zt(u);switch(f.length){case 1:if(f[0]===1)return _t(u)?r([n(1,u.valueOf()[0])]):[n(1,u[0])];throw new RangeError("Matrix must be square (size: "+Ot(f)+")");case 2:{var c=f[0],m=f[1];if(c===m)return _t(u)?r(o(u.valueOf(),c,m),u.storage()):o(u,c,m);throw new RangeError("Matrix must be square (size: "+Ot(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ot(f)+")")}},any:function(u){return n(1,u)}});function o(u,f,c){var m,h,g,v,w;if(f===1){if(v=u[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(f===2){var y=d(u);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(u[1][1],y),n(s(u[0][1]),y)],[n(s(u[1][0]),y),n(u[0][0],y)]]}else{var E=u.concat();for(m=0;m<f;m++)E[m]=E[m].concat();for(var D=l(f).valueOf(),A=0;A<c;A++){var F=p(E[A][A]),C=A;for(m=A+1;m<f;)p(E[m][A])>F&&(F=p(E[m][A]),C=m),m++;if(F===0)throw Error("Cannot calculate inverse, determinant is zero");m=C,m!==A&&(w=E[A],E[A]=E[m],E[m]=w,w=D[A],D[A]=D[m],D[m]=w);var x=E[A],M=D[A];for(m=0;m<f;m++){var b=E[m],_=D[m];if(m!==A){if(b[A]!==0){for(g=n(s(b[A]),x[A]),h=A;h<c;h++)b[h]=i(b[h],a(g,x[h]));for(h=0;h<c;h++)_[h]=i(_[h],a(g,M[h]))}}else{for(g=x[A],h=A;h<c;h++)b[h]=n(b[h],g);for(h=0;h<c;h++)_[h]=n(_[h],g)}}}return D}}});function Uc(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:s,sqrt:d,abs:l,bignumber:p,diag:o,size:u,reshape:f,inv:c,qr:m,usolve:h,usolveAll:g,equal:v,complex:w,larger:y,smaller:E,matrixFromColumns:D,dot:A}=t;function F(q,k,tt,et){var W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=C(q,k,tt,et,W);x(q,k,tt,et,W,U);var{values:Y,C:Z}=M(q,k,tt,et,W);if(W){var V=b(q,k,Z,U,Y,tt,et);return{values:Y,eigenvectors:V}}return{values:Y}}function C(q,k,tt,et,W){var U=et==="BigNumber",Y=et==="Complex",Z=U?p(0):0,V=U?p(1):Y?w(1):1,nt=U?p(1):1,J=U?p(10):2,at=a(J,J),pt;W&&(pt=Array(k).fill(V));for(var ht=!1;!ht;){ht=!0;for(var dt=0;dt<k;dt++){for(var ot=Z,Dt=Z,wt=0;wt<k;wt++)dt!==wt&&(ot=e(ot,l(q[wt][dt])),Dt=e(Dt,l(q[dt][wt])));if(!v(ot,0)&&!v(Dt,0)){for(var At=nt,Et=ot,qt=s(Dt,J),$t=a(Dt,J);E(Et,qt);)Et=a(Et,at),At=a(At,J);for(;y(Et,$t);)Et=s(Et,at),At=s(At,J);var Tt=E(s(e(Et,Dt),At),a(e(ot,Dt),.95));if(Tt){ht=!1;for(var Lt=s(1,At),jt=0;jt<k;jt++)dt!==jt&&(q[dt][jt]=a(q[dt][jt],Lt),q[jt][dt]=a(q[jt][dt],At));W&&(pt[dt]=a(pt[dt],Lt))}}}}return W?o(pt):null}function x(q,k,tt,et,W,U){var Y=et==="BigNumber",Z=et==="Complex",V=Y?p(0):Z?w(0):0;Y&&(tt=p(tt));for(var nt=0;nt<k-2;nt++){for(var J=0,at=V,pt=nt+1;pt<k;pt++){var ht=q[pt][nt];E(l(at),l(ht))&&(at=ht,J=pt)}if(!E(l(at),tt)){if(J!==nt+1){var dt=q[J];q[J]=q[nt+1],q[nt+1]=dt;for(var ot=0;ot<k;ot++){var Dt=q[ot][J];q[ot][J]=q[ot][nt+1],q[ot][nt+1]=Dt}if(W){var wt=U[J];U[J]=U[nt+1],U[nt+1]=wt}}for(var At=nt+2;At<k;At++){var Et=s(q[At][nt],at);if(Et!==0){for(var qt=0;qt<k;qt++)q[At][qt]=r(q[At][qt],a(Et,q[nt+1][qt]));for(var $t=0;$t<k;$t++)q[$t][nt+1]=e(q[$t][nt+1],a(Et,q[$t][At]));if(W)for(var Tt=0;Tt<k;Tt++)U[At][Tt]=r(U[At][Tt],a(Et,U[nt+1][Tt]))}}}}return U}function M(q,k,tt,et,W){var U=et==="BigNumber",Y=et==="Complex",Z=U?p(1):Y?w(1):1;U&&(tt=p(tt));for(var V=yt(q),nt=[],J=k,at=[],pt=W?o(Array(k).fill(Z)):void 0,ht=W?o(Array(J).fill(Z)):void 0,dt=0;dt<=100;){dt+=1;for(var ot=V[J-1][J-1],Dt=0;Dt<J;Dt++)V[Dt][Dt]=r(V[Dt][Dt],ot);var{Q:wt,R:At}=m(V);V=i(At,wt);for(var Et=0;Et<J;Et++)V[Et][Et]=e(V[Et][Et],ot);if(W&&(ht=i(ht,wt)),J===1||E(l(V[J-1][J-2]),tt)){dt=0,nt.push(V[J-1][J-1]),W&&(at.unshift([[1]]),z(ht,k),pt=i(pt,ht),J>1&&(ht=o(Array(J-1).fill(Z)))),J-=1,V.pop();for(var qt=0;qt<J;qt++)V[qt].pop()}else if(J===2||E(l(V[J-2][J-3]),tt)){dt=0;var $t=_(V[J-2][J-2],V[J-2][J-1],V[J-1][J-2],V[J-1][J-1]);nt.push(...$t),W&&(at.unshift(S(V[J-2][J-2],V[J-2][J-1],V[J-1][J-2],V[J-1][J-1],$t[0],$t[1],tt,et)),z(ht,k),pt=i(pt,ht),J>2&&(ht=o(Array(J-2).fill(Z)))),J-=2,V.pop(),V.pop();for(var Tt=0;Tt<J;Tt++)V[Tt].pop(),V[Tt].pop()}if(J===0)break}if(nt.sort((re,Ne)=>+r(l(re),l(Ne))),dt>100){var Lt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+nt.join(", "));throw Lt.values=nt,Lt.vectors=[],Lt}var jt=W?i(pt,O(at,k)):void 0;return{values:nt,C:jt}}function b(q,k,tt,et,W,U,Y){var Z=c(tt),V=i(Z,q,tt),nt=Y==="BigNumber",J=Y==="Complex",at=nt?p(0):J?w(0):0,pt=nt?p(1):J?w(1):1,ht=[],dt=[];for(var ot of W){var Dt=I(ht,ot,v);Dt===-1?(ht.push(ot),dt.push(1)):dt[Dt]+=1}for(var wt=[],At=ht.length,Et=Array(k).fill(at),qt=o(Array(k).fill(pt)),$t=function(){var Lt=ht[Tt],jt=r(V,i(Lt,qt)),re=g(jt,Et);for(re.shift();re.length<dt[Tt];){var Ne=P(jt,k,re,U,Y);if(Ne===null)break;re.push(Ne)}var Wr=i(c(et),tt);re=re.map(ze=>i(Wr,ze)),wt.push(...re.map(ze=>({value:Lt,vector:n(ze)})))},Tt=0;Tt<At;Tt++)$t();return wt}function _(q,k,tt,et){var W=e(q,et),U=r(a(q,et),a(k,tt)),Y=a(W,.5),Z=a(d(r(a(W,W),a(4,U))),.5);return[e(Y,Z),r(Y,Z)]}function S(q,k,tt,et,W,U,Y,Z){var V=Z==="BigNumber",nt=Z==="Complex",J=V?p(0):nt?w(0):0,at=V?p(1):nt?w(1):1;if(E(l(tt),Y))return[[at,J],[J,at]];if(y(l(r(W,U)),Y))return[[r(W,et),r(U,et)],[tt,tt]];var pt=r(q,W),ht=r(et,W);return E(l(k),Y)&&E(l(ht),Y)?[[pt,at],[tt,J]]:[[k,J],[ht,at]]}function z(q,k){for(var tt=0;tt<q.length;tt++)q[tt].push(...Array(k-q[tt].length).fill(0));for(var et=q.length;et<k;et++)q.push(Array(k).fill(0)),q[et][et]=1;return q}function O(q,k){for(var tt=[],et=0;et<k;et++)tt[et]=Array(k).fill(0);var W=0;for(var U of q){for(var Y=U.length,Z=0;Z<Y;Z++)for(var V=0;V<Y;V++)tt[W+Z][W+V]=U[Z][V];W+=Y}return tt}function I(q,k,tt){for(var et=0;et<q.length;et++)if(tt(q[et],k))return et;return-1}function P(q,k,tt,et,W){for(var U=W==="BigNumber"?p(1e3):1e3,Y,Z=0;Z<5;++Z){Y=N(k,tt,W);try{Y=h(q,Y)}catch{continue}if(y(K(Y),U))break}if(Z>=5)return null;for(Z=0;;){var V=h(q,Y);if(E(K(R(Y,[V])),et))break;if(++Z>=10)return null;Y=rt(V)}return Y}function N(q,k,tt){var et=tt==="BigNumber",W=tt==="Complex",U=Array(q).fill(0).map(Y=>2*Math.random()-1);return et&&(U=U.map(Y=>p(Y))),W&&(U=U.map(Y=>w(Y))),U=R(U,k),rt(U,tt)}function R(q,k){var tt=u(q);for(var et of k)et=f(et,tt),q=r(q,i(s(A(et,q),A(et,et)),et));return q}function K(q){return l(d(A(q,q)))}function rt(q,k){var tt=k==="BigNumber",et=k==="Complex",W=tt?p(1):et?w(1):1;return i(s(W,K(q)),q)}return F}function $c(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:s,sin:d,multiplyScalar:l,inv:p,bignumber:o,multiply:u,add:f}=t;function c(x,M){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,_=arguments.length>3?arguments[3]:void 0,S=arguments.length>4?arguments[4]:void 0;if(_==="number")return m(x,b,S);if(_==="BigNumber")return h(x,b,S);throw TypeError("Unsupported data type: "+_)}function m(x,M,b){var _=x.length,S=Math.abs(M/_),z,O;if(b){O=new Array(_);for(var I=0;I<_;I++)O[I]=Array(_).fill(0),O[I][I]=1}for(var P=A(x);Math.abs(P[1])>=Math.abs(S);){var N=P[0][0],R=P[0][1];z=g(x[N][N],x[R][R],x[N][R]),x=D(x,z,N,R),b&&(O=w(O,z,N,R)),P=A(x)}for(var K=Array(_).fill(0),rt=0;rt<_;rt++)K[rt]=x[rt][rt];return C(yt(K),O,b)}function h(x,M,b){var _=x.length,S=i(M/_),z,O;if(b){O=new Array(_);for(var I=0;I<_;I++)O[I]=Array(_).fill(0),O[I][I]=1}for(var P=F(x);i(P[1])>=i(S);){var N=P[0][0],R=P[0][1];z=v(x[N][N],x[R][R],x[N][R]),x=E(x,z,N,R),b&&(O=y(O,z,N,R)),P=F(x)}for(var K=Array(_).fill(0),rt=0;rt<_;rt++)K[rt]=x[rt][rt];return C(yt(K),O,b)}function g(x,M,b){var _=M-x;return Math.abs(_)<=e.epsilon?Math.PI/4:.5*Math.atan(2*b/(M-x))}function v(x,M,b){var _=n(M,x);return i(_)<=e.epsilon?o(-1).acos().div(4):l(.5,a(u(2,b,p(_))))}function w(x,M,b,_){for(var S=x.length,z=Math.cos(M),O=Math.sin(M),I=Array(S).fill(0),P=Array(S).fill(0),N=0;N<S;N++)I[N]=z*x[N][b]-O*x[N][_],P[N]=O*x[N][b]+z*x[N][_];for(var R=0;R<S;R++)x[R][b]=I[R],x[R][_]=P[R];return x}function y(x,M,b,_){for(var S=x.length,z=s(M),O=d(M),I=Array(S).fill(o(0)),P=Array(S).fill(o(0)),N=0;N<S;N++)I[N]=n(l(z,x[N][b]),l(O,x[N][_])),P[N]=r(l(O,x[N][b]),l(z,x[N][_]));for(var R=0;R<S;R++)x[R][b]=I[R],x[R][_]=P[R];return x}function E(x,M,b,_){for(var S=x.length,z=o(s(M)),O=o(d(M)),I=l(z,z),P=l(O,O),N=Array(S).fill(o(0)),R=Array(S).fill(o(0)),K=u(o(2),z,O,x[b][_]),rt=r(n(l(I,x[b][b]),K),l(P,x[_][_])),q=f(l(P,x[b][b]),K,l(I,x[_][_])),k=0;k<S;k++)N[k]=n(l(z,x[b][k]),l(O,x[_][k])),R[k]=r(l(O,x[b][k]),l(z,x[_][k]));x[b][b]=rt,x[_][_]=q,x[b][_]=o(0),x[_][b]=o(0);for(var tt=0;tt<S;tt++)tt!==b&&tt!==_&&(x[b][tt]=N[tt],x[tt][b]=N[tt],x[_][tt]=R[tt],x[tt][_]=R[tt]);return x}function D(x,M,b,_){for(var S=x.length,z=Math.cos(M),O=Math.sin(M),I=z*z,P=O*O,N=Array(S).fill(0),R=Array(S).fill(0),K=I*x[b][b]-2*z*O*x[b][_]+P*x[_][_],rt=P*x[b][b]+2*z*O*x[b][_]+I*x[_][_],q=0;q<S;q++)N[q]=z*x[b][q]-O*x[_][q],R[q]=O*x[b][q]+z*x[_][q];x[b][b]=K,x[_][_]=rt,x[b][_]=0,x[_][b]=0;for(var k=0;k<S;k++)k!==b&&k!==_&&(x[b][k]=N[k],x[k][b]=N[k],x[_][k]=R[k],x[k][_]=R[k]);return x}function A(x){for(var M=x.length,b=0,_=[0,1],S=0;S<M;S++)for(var z=S+1;z<M;z++)Math.abs(b)<Math.abs(x[S][z])&&(b=Math.abs(x[S][z]),_=[S,z]);return[_,b]}function F(x){for(var M=x.length,b=0,_=[0,1],S=0;S<M;S++)for(var z=S+1;z<M;z++)i(b)<i(x[S][z])&&(b=i(x[S][z]),_=[S,z]);return[_,b]}function C(x,M,b){var _=x.length,S=Array(_),z;if(b){z=Array(_);for(var O=0;O<_;O++)z[O]=Array(_)}for(var I=0;I<_;I++){for(var P=0,N=x[0],R=0;R<x.length;R++)i(x[R])<i(N)&&(P=R,N=x[P]);if(S[I]=x.splice(P,1)[0],b)for(var K=0;K<_;K++)z[I][K]=M[K][P],M[K].splice(P,1)}if(!b)return{values:S};var rt=z.map((q,k)=>({value:S[k],vector:q}));return{values:S,eigenvectors:rt}}return c}var Kc="eigs",Wc=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Zc=G(Kc,Wc,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:s,abs:d,atan:l,cos:p,sin:o,multiplyScalar:u,divideScalar:f,inv:c,bignumber:m,multiply:h,add:g,larger:v,column:w,flatten:y,number:E,complex:D,sqrt:A,diag:F,size:C,reshape:x,qr:M,usolve:b,usolveAll:_,im:S,re:z,smaller:O,matrixFromColumns:I,dot:P}=t,N=$c({config:e,addScalar:i,subtract:a,column:w,flatten:y,equal:s,abs:d,atan:l,cos:p,sin:o,multiplyScalar:u,inv:c,bignumber:m,complex:D,multiply:h,add:g}),R=Uc({config:e,addScalar:i,subtract:a,multiply:h,multiplyScalar:u,flatten:y,divideScalar:f,sqrt:A,abs:d,bignumber:m,diag:F,size:C,reshape:x,qr:M,inv:c,usolve:b,usolveAll:_,equal:s,complex:D,larger:v,smaller:O,matrixFromColumns:I,dot:P});return r("eigs",{Array:function(W){return K(n(W))},"Array, number|BigNumber":function(W,U){return K(n(W),{precision:U})},"Array, Object"(W,U){return K(n(W),U)},Matrix:function(W){return K(W,{matricize:!0})},"Matrix, number|BigNumber":function(W,U){return K(W,{precision:U,matricize:!0})},"Matrix, Object":function(W,U){var Y={matricize:!0};return Pe(Y,U),K(W,Y)}});function K(W){var U,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z="eigenvectors"in Y?Y.eigenvectors:!0,V=(U=Y.precision)!==null&&U!==void 0?U:e.epsilon,nt=rt(W,V,Z);return Y.matricize&&(nt.values=n(nt.values),Z&&(nt.eigenvectors=nt.eigenvectors.map(J=>{var{value:at,vector:pt}=J;return{value:at,vector:n(pt)}}))),Z&&Object.defineProperty(nt,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),nt}function rt(W,U,Y){var Z=W.toArray(),V=W.size();if(V.length!==2||V[0]!==V[1])throw new RangeError("Matrix must be square (size: ".concat(Ot(V),")"));var nt=V[0];if(k(Z,nt,U)&&(tt(Z,nt),q(Z,nt,U))){var J=et(W,Z,nt);return N(Z,nt,U,J,Y)}var at=et(W,Z,nt);return R(Z,nt,U,at,Y)}function q(W,U,Y){for(var Z=0;Z<U;Z++)for(var V=Z;V<U;V++)if(v(m(d(a(W[Z][V],W[V][Z]))),Y))return!1;return!0}function k(W,U,Y){for(var Z=0;Z<U;Z++)for(var V=0;V<U;V++)if(v(m(d(S(W[Z][V]))),Y))return!1;return!0}function tt(W,U){for(var Y=0;Y<U;Y++)for(var Z=0;Z<U;Z++)W[Y][Z]=z(W[Y][Z])}function et(W,U,Y){var Z=W.datatype();if(Z==="number"||Z==="BigNumber"||Z==="Complex")return Z;for(var V=!1,nt=!1,J=!1,at=0;at<Y;at++)for(var pt=0;pt<Y;pt++){var ht=U[at][pt];if(Mt(ht)||sn(ht))V=!0;else if(It(ht))nt=!0;else if(on(ht))J=!0;else throw TypeError("Unsupported type in Matrix: "+ae(ht))}if(nt&&J&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),J){for(var dt=0;dt<Y;dt++)for(var ot=0;ot<Y;ot++)U[dt][ot]=D(U[dt][ot]);return"Complex"}if(nt){for(var Dt=0;Dt<Y;Dt++)for(var wt=0;wt<Y;wt++)U[Dt][wt]=m(U[Dt][wt]);return"BigNumber"}if(V){for(var At=0;At<Y;At++)for(var Et=0;Et<Y;Et++)U[At][Et]=E(U[At][Et]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Le=Ss({config:Jt}),Pr=Os({}),Ur=Rs({}),dn=js({}),Ut=$s({Matrix:dn}),ft=Oo({BigNumber:Le,Complex:Pr,DenseMatrix:Ut,Fraction:Ur}),ur=A0({typed:ft}),be=F0({typed:ft}),Lc=Ll({typed:ft}),mn=s0({BigNumber:Le,typed:ft}),vn=c0({Complex:Pr,typed:ft}),$r=mf({typed:ft}),Hc=Jl({typed:ft}),ee=Ys({config:Jt,typed:ft}),Jc=Bf({typed:ft}),Gc=Df({typed:ft}),Nu=Ws({typed:ft}),Vc=Ls({typed:ft}),zu=Js({typed:ft}),me=ef({typed:ft}),Dn=u0({typed:ft}),Yc=yf({typed:ft}),Xc=af({BigNumber:Le,Fraction:Ur,complex:vn,typed:ft}),Qc=Vl({typed:ft}),He=t0({Matrix:dn,equalScalar:ee,typed:ft}),Se=C0({typed:ft}),gn=ff({Complex:Pr,config:Jt,typed:ft}),ar=w0({typed:ft}),Ou=d0({Fraction:Ur,typed:ft}),vt=v0({DenseMatrix:Ut,Matrix:dn,SparseMatrix:He,typed:ft}),tp=tl({bignumber:mn,fraction:Ou,number:Dn}),ep=qf({isInteger:Nu,matrix:vt,typed:ft}),Kr=Pf({matrix:vt,config:Jt,typed:ft}),yn=Hf({matrix:vt,typed:ft}),Xe=Yf({BigNumber:Le,config:Jt,matrix:vt,typed:ft}),Ce=xf({isInteger:Nu,matrix:vt,typed:ft}),rp=Gf({conj:$r,transpose:yn,typed:ft}),Iu=bf({DenseMatrix:Ut,SparseMatrix:He,matrix:vt,typed:ft}),ve=rl({numeric:tp,typed:ft}),Tu=gl({DenseMatrix:Ut,concat:Ce,equalScalar:ee,matrix:vt,typed:ft}),wn=_f({matrix:vt,typed:ft}),or=Nf({BigNumber:Le,DenseMatrix:Ut,SparseMatrix:He,config:Jt,matrix:vt,typed:ft}),Ru=Of({matrix:vt,multiplyScalar:me,typed:ft}),ku=Sl({DenseMatrix:Ut,concat:Ce,config:Jt,matrix:vt,typed:ft}),np=al({DenseMatrix:Ut,divideScalar:ve,equalScalar:ee,matrix:vt,multiplyScalar:me,subtractScalar:Se,typed:ft}),ip=g0({flatten:wn,matrix:vt,size:Kr,typed:ft}),up=lc({addScalar:be,complex:vn,conj:$r,divideScalar:ve,equal:Tu,identity:or,isZero:zu,matrix:vt,multiplyScalar:me,sign:Xc,sqrt:gn,subtractScalar:Se,typed:ft,unaryMinus:ar,zeros:Xe}),sr=xl({DenseMatrix:Ut,concat:Ce,config:Jt,matrix:vt,typed:ft}),fe=cf({DenseMatrix:Ut,concat:Ce,equalScalar:ee,matrix:vt,subtractScalar:Se,typed:ft,unaryMinus:ar}),qu=sl({DenseMatrix:Ut,divideScalar:ve,equalScalar:ee,matrix:vt,multiplyScalar:me,subtractScalar:Se,typed:ft}),we=tc({DenseMatrix:Ut,SparseMatrix:He,addScalar:be,concat:Ce,equalScalar:ee,matrix:vt,typed:ft}),ap=pl({BigNumber:Le,DenseMatrix:Ut,Fraction:Ur,concat:Ce,config:Jt,equalScalar:ee,matrix:vt,typed:ft}),xe=ic({addScalar:be,conj:$r,multiplyScalar:me,size:Kr,typed:ft}),op=Il({DenseMatrix:Ut,smaller:sr}),xn=kl({ImmutableDenseMatrix:op,getMatrixDataType:Jc}),Je=_l({DenseMatrix:Ut,concat:Ce,config:Jt,matrix:vt,typed:ft}),te=nf({addScalar:be,dot:xe,equalScalar:ee,matrix:vt,multiplyScalar:me,typed:ft}),sp=Ic({SparseMatrix:He,abs:ur,add:we,divideScalar:ve,larger:Je,largerEq:ku,multiply:te,subtract:fe,transpose:yn,typed:ft}),Xt=$f({add:we,matrix:vt,typed:ft,zeros:Xe}),fp=ll({DenseMatrix:Ut,divideScalar:ve,equalScalar:ee,matrix:vt,multiplyScalar:me,subtractScalar:Se,typed:ft}),lp=ml({compare:ap,typed:ft}),cp=qc({divideScalar:ve,isZero:zu,matrix:vt,multiply:te,subtractScalar:Se,typed:ft,unaryMinus:ar}),pp=Pl({larger:Je,smaller:sr}),se=ac({Index:xn,typed:ft}),hp=Fl({DenseMatrix:Ut,concat:Ce,config:Jt,matrix:vt,typed:ft}),An=Rf({bignumber:mn,matrix:vt,add:we,config:Jt,isPositive:Vc,larger:Je,largerEq:ku,smaller:sr,smallerEq:hp,typed:ft}),ju=Xl({DenseMatrix:Ut,Index:xn,compareNatural:lp,size:Kr,subset:Xt,typed:ft}),dp=Kl({FibonacciHeap:pp,addScalar:be,equalScalar:ee}),mp=Ef({Index:xn,matrix:vt,range:An,typed:ft}),Pu=Pc({abs:ur,addScalar:be,det:cp,divideScalar:ve,identity:or,matrix:vt,multiply:te,typed:ft,unaryMinus:ar}),vp=sc({DenseMatrix:Ut,Spa:dp,SparseMatrix:He,abs:ur,addScalar:be,divideScalar:ve,equalScalar:ee,larger:Je,matrix:vt,multiplyScalar:me,subtractScalar:Se,typed:ft,unaryMinus:ar}),Dp=il({Complex:Pr,config:Jt,fraction:Ou,identity:or,inv:Pu,matrix:vt,multiply:te,number:Dn,typed:ft}),gp=Rc({DenseMatrix:Ut,lsolve:np,lup:vp,matrix:vt,slu:sp,typed:ft,usolve:qu}),yp=Zc({abs:ur,add:we,addScalar:be,atan:Lc,bignumber:mn,column:mp,complex:vn,config:Jt,cos:Hc,diag:Iu,divideScalar:ve,dot:xe,equal:Tu,flatten:wn,im:Gc,inv:Pu,larger:Je,matrix:vt,matrixFromColumns:ip,multiply:te,multiplyScalar:me,number:Dn,qr:up,re:Yc,reshape:ep,sin:Qc,size:Kr,smaller:sr,sqrt:gn,subtract:fe,typed:ft,usolve:qu,usolveAll:fp}),je=rc({abs:ur,add:we,conj:$r,ctranspose:rp,eigs:yp,equalScalar:ee,larger:Je,matrix:vt,multiply:te,pow:Dp,smaller:sr,sqrt:gn,typed:ft});function wp(t){let e={analysisType:1,elasticities:new Map,areas:new Map,loads:new Map,supports:new Map,momentOfInertiaZs:new Map,momentOfInertiaYs:new Map,shearModuluses:new Map,torsionalConstants:new Map,distributedLoads:new Map};return t.forEach(r=>{var n;"area"in r&&e.areas.set(r.element,r.area),"elasticity"in r&&e.elasticities.set(r.element,r.elasticity),"load"in r&&e.loads.set(r.node,r.load),"support"in r&&e.supports.set(r.node,r.support),((n=e.supports.values().next().value)==null?void 0:n.length)===3&&(e.analysisType=0),e.analysisType===1&&("momentOfInertiaZ"in r&&e.momentOfInertiaZs.set(r.element,r.momentOfInertiaZ),"momentOfInertiaY"in r&&e.momentOfInertiaYs.set(r.element,r.momentOfInertiaY),"torsionalConstant"in r&&e.torsionalConstants.set(r.element,r.torsionalConstant),"shearModulus"in r&&e.shearModuluses.set(r.element,r.shearModulus),"distributedLoad"in r&&e.distributedLoads.set(r.element,r.distributedLoad))}),e}function xp(t){let e=[t[0]*3,t[0]*3+1,t[0]*3+2],r=[t[1]*3,t[1]*3+1,t[1]*3+2];return[...e,...r]}function Ap(t){let e=[t[0]*6,t[0]*6+1,t[0]*6+2,t[0]*6+3,t[0]*6+4,t[0]*6+5],r=[t[1]*6,t[1]*6+1,t[1]*6+2,t[1]*6+3,t[1]*6+4,t[1]*6+5];return[...e,...r]}var hr={0:xp,1:Ap},an=(t,e,r)=>[0,t*r/2,e*r/2,0,-e*Rt(r,2)/12,t*Rt(r,2)/12,0,t*r/2,e*r/2,0,e*Rt(r,2)/12,-t*Rt(r,2)/12];function Ep(t,e){let r=[];return t.forEach((n,i)=>{n[0]&&r.push(i*3),n[1]&&r.push(i*3+1),n[2]&&r.push(i*3+2)}),ju(An(0,e),r)}function Fp(t,e){let r=[];return t.forEach((n,i)=>{n[0]&&r.push(i*6),n[1]&&r.push(i*6+1),n[2]&&r.push(i*6+2),n[3]&&r.push(i*6+3),n[4]&&r.push(i*6+4),n[5]&&r.push(i*6+5)}),ju(An(0,e),r)}var bp={0:Ep,1:Fp};function Cp(t,e,r,n){let i=t.areas.get(e)||0,a=t.elasticities.get(e)||0,s=n[0]/n[4],d=vt([[s,-1],[-1,s]]);return te(d,a*i/r)}function _p(t,e,r,n){let i=t.momentOfInertiaZs.get(e)||0,a=t.momentOfInertiaYs.get(e)||0,s=t.elasticities.get(e)||0,d=t.areas.get(e)||0,l=t.shearModuluses.get(e)||0,p=t.torsionalConstants.get(e)||0,o=s*d/r,u=s*i/Rt(r,3),f=s*a/Rt(r,3),c=l*p/r,m=n[0],h=n[1];return vt([[o,0,0,0,0,0,-o,0,0,0,0,0],[0,12*u,0,0,0,m*r*u,0,-12*u,0,0,0,m*r*u],[0,0,12*f,0,-m*r*f,0,0,0,-12*f,0,-m*r*f,0],[0,0,0,c,0,0,0,0,0,-c,0,0],[0,0,-m*r*f,0,4*f*Rt(r,h),0,0,0,m*r*f,0,h*f*Rt(r,h),0],[0,m*r*u,0,0,0,4*u*Rt(r,h),0,-m*r*u,0,0,0,h*u*Rt(r,h)],[-o,0,0,0,0,0,o,0,0,0,0,0],[0,-12*u,0,0,0,-m*u*r,0,12*u,0,0,0,-m*u*r],[0,0,-12*f,0,m*r*f,0,0,0,12*f,0,m*r*f,0],[0,0,0,-c,0,0,0,0,0,c,0,0],[0,0,-m*r*f,0,h*f*Rt(r,h),0,0,0,m*r*f,0,4*f*Rt(r,h),0],[0,m*r*u,0,0,0,h*u*Rt(r,h),0,-m*r*u,0,0,0,4*u*Rt(r,h)]])}var Uu={0:Cp,1:_p};function Mp(t,e,r){let n=fe(e,t),i=je(n),a=xe(n,vt([1,0,0]))/i,s=xe(n,vt([0,1,0]))/i,d=xe(n,vt([0,0,1]))/i,l=r[0]/r[4];return vt([[a*l,s,d*l,0,0,0],[0,0,0,a,s*l,d]])}function Bp(t,e,r){let n=fe(e,t),i=je(n),a=xe(n,vt([1,0,0]))/i,s=xe(n,vt([0,1,0]))/i,d=xe(n,vt([0,0,1]))/i,l=Math.sqrt(Rt(a,2)+Rt(s,2)),p=r[0]/r[4],o=vt([[a*p,s,d],[-s/l,a/l*p,0],[-a*p*d/l,-s*d/l,l]]);return d===1&&(o=vt([[0,0,1],[0,1,0],[-1,0,0]])),d===-1&&(o=vt([[0,0,-1],[0,1,0],[1,0,0]])),Ru(or(4),o)}var $u={0:Mp,1:Bp};function Sp(t,e,r,n){let i=t.length*(r.analysisType===0?3:6),a=Xe(i,i);e.forEach((c,m)=>{let h=t[c[0]],g=t[c[1]],v=je(fe(g,h)),w=Uu[r.analysisType](r,m,v,n),y=$u[r.analysisType](h,g,n),E=te(yn(y),te(w,y)),D=hr[r.analysisType](c),A=Xt(a,se(D,D));a=Xt(a,se(D,D),we(A,E))});let s=Xe([i]);r.loads.forEach((c,m)=>{let h={0:[m*3,m*3+1,m*3+2],1:[m*6,m*6+1,m*6+2,m*6+3,m*6+4,m*6+5]},g=Xt(s,se(h[r.analysisType]));s=Xt(s,se(h[r.analysisType]),we(g,c))}),r.distributedLoads.forEach(([c,m],h)=>{let g=e[h],v=t[g[0]],w=t[g[1]],y=je(fe(w,v)),E=se(hr[r.analysisType](g)),D=Xt(s,E),A=an(c,m,y);s=Xt(s,E,we(D,A))});let d=bp[r.analysisType](r.supports,i),l=Xt(s,se(d)),p=Xt(a,se(d,d)),o=gp(p,l),u=Xt(Xe(i),se(d),wn(o)),f=te(a,u);return r.distributedLoads.forEach(([c,m],h)=>{let g=e[h],v=t[g[0]],w=t[g[1]],y=je(fe(w,v)),E=se(hr[r.analysisType](g)),D=Xt(f,E),A=an(c,m,y);f=Xt(f,E,fe(D,A))}),{deformations:u.toArray(),forces:f.toArray()}}var Ye=class extends Error{};Ye.prototype.name="InvalidTokenError";function Np(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function zp(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Np(e)}catch{return atob(e)}}function Op(t,e){if(typeof t!="string")throw new Ye("Invalid token specified: must be a string");e||(e={});let r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Ye(`Invalid token specified: missing part #${r+1}`);let i;try{i=zp(n)}catch(a){throw new Ye(`Invalid token specified: invalid base64 for part #${r+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new Ye(`Invalid token specified: invalid json for part #${r+1} (${a.message})`)}}(function(t,e){let r=rr,n=t();for(;;)try{if(-parseInt(r(292))/1+parseInt(r(293))/2*(parseInt(r(305))/3)+-parseInt(r(296))/4+parseInt(r(301))/5*(-parseInt(r(294))/6)+-parseInt(r(291))/7*(parseInt(r(311))/8)+-parseInt(r(298))/9*(parseInt(r(315))/10)+parseInt(r(299))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Br,925748);function Br(){let t=["The license has expired. Please ensure you use this library with a valid license to obtain correct results. To make a purchase, contact mohamed@awatif.co","6631208ivzNOE","floor","23994jhWaCN","59998818xZomkD","code1","10RMDSXO","code3","toArray","try {return this===window;}catch(e){ return false;}","1231647YHWkVv","code4","You have reach the limit of 20 elements. Please ensure you use this library with a purchased license to obtain correct results. To make a purchase, contact mohamed@awatif.co","22ur=_p(0JCN","e>8Tz9%3r2O>","code2","1849360pYSnrW","length","undefined","slice","4740pzqUcj","49yWdOxm","398583EDoBPM","6LpDUsD","2466234rKHqla"];return Br=function(){return t},Br()}function Ip(t){let e=rr,r=new Function(e(304)),n="",i="undefined"[e(312)];if(typeof self!==e(313)&&(n=(self==null?void 0:self.$k)||""),typeof global!==e(313)&&(n=global.$k||""),t>i*2.5&&!n){let s=e(307);throw r()&&alert(s),Error(s)}let a=n?Op(n):{code1:"58AbJ6(F'Atl",code2:e(308),code3:e(309),code4:"0x6782%50e3@",iat:1,exp:2};if(parseInt(a[e(306)][e(314)](0,6)+a[e(306)][e(314)](7,11))-Math[e(297)](new Date().getTime()/1e3)<i-9){let s=e(295);throw r()&&alert(s),Error(s)}return Tp(a)}function rr(t,e){let r=Br();return rr=function(n,i){return n=n-291,r[n]},rr(t,e)}function Tp(t){let e=rr,r=[[Number(t[e(300)][5]),Number(t[e(310)][0])],[Number(t[e(302)][5]),Number(t[e(302)][9])]],n=Ru(or(3),r);return Iu(n)[e(303)]()}function Rp(t,e,r){let n=Ip(e.length),i=wp(r),{deformations:a,forces:s}=Sp(t,e,i,n),d=[];return t.forEach((l,p)=>{let o={0:[a[p*3],a[p*3+1],a[p*3+2]],1:[a[p*6],a[p*6+1],a[p*6+2],a[p*6+3],a[p*6+4],a[p*6+5]]};d.push({node:p,deformation:o[i.analysisType]});let u={0:[s[p*3],s[p*3+1],s[p*3+2]],1:[s[p*6],s[p*6+1],s[p*6+2],s[p*6+3],s[p*6+4],s[p*6+5]]};i.supports.get(p)&&d.push({node:p,reaction:u[i.analysisType]})}),e.forEach((l,p)=>{let o=t[l[0]],u=t[l[1]],f=je(fe(u,o)),c=Xt(a,se(hr[i.analysisType](l))),m=$u[i.analysisType](o,u,n),h=te(m,c),g=Uu[i.analysisType](i,p,f,n),v=te(g,h).toArray();if(i.distributedLoads.get(p)){let[y,E]=i.distributedLoads.get(p)||[0,0],D=an(y,E,f);v=fe(v,D)}let w={0:{element:p,normal:[-v[0],-v[0]]},1:{element:p,normal:[v[0],v[6]],shearY:[v[1],v[7]],shearZ:[v[2],v[8]],torsion:[v[3],v[9]],bendingY:[v[4],v[10]],bendingZ:[v[5],v[11]]}};d.push(w[i.analysisType])}),{default:d}}/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/export{Rp as a};

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Awatif Mesh - Minimal</title>
    <script type="module">
      import { viewer } from "awatif-ui";
      import van from "vanjs-core";
      import { mesh } from "./mesh";

      const points = van.state([
        [0, 0],
        [5, 0],
        [5, 3],
        [8, 7],
        [15, 5],
        [15, 0],
        [20, 0],
        [20, 10],
        [0, 10],
        [0, 0],
      ]);
      const polygon = van.state([0, 1, 2, 3, 4, 5, 6, 7, 8]);

      const { nodes, elements } = mesh({ points, polygon });

      // Mimic a second call after a parameter change

      const viewerElm = viewer({
        structure: {
          nodes,
          elements,
        },
      });

      document.body.appendChild(viewerElm);
    </script>
  </head>
  <body></body>
</html>
